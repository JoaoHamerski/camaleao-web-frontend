import{t as $e,e as Oe,n as G,g as Le,h as be,j as Me,k as Te,l as Ne,o as Ae,p as Fe,q as Re,r as qe,F as Ue,s as ze,u as Pe,v as Ve,w as je,i as De,D as ge,x as He,y as Ke}from"./index-fae63e1f.js";import{G as Qe}from"./OrderControl-1f6a4d8d.js";import{G as We}from"./Via-eb0eedf9.js";import{U as Ge}from"./BankEntry-8eefdd6d.js";import"./_PaginatorFragment-c01a3fe7.js";function Je(a,e,i){return a&&a.length?(e=i||e===void 0?1:$e(e),Oe(a,0,e<0?0:e)):[]}const Ye={data(){return{icons:{faFileImport:Le,faCog:be}}},methods:{onImport(a){a.target.files.length&&(this.$emit("file-imported",a.target.files[0]),this.$refs.fileInput.value="")},openBankSettingsClick(){this.$emit("open-bank-settings")}}};var Ze=function(){var e=this,i=e._self._c;return i("div",{staticClass:"d-flex justify-content-between"},[i("input",{ref:"fileInput",attrs:{id:"inputImportFile",hidden:"",type:"file",accept:".csv"},on:{change:e.onImport}}),i("label",{staticClass:"btn btn-primary btn-lg fw-bold me-2",attrs:{for:"inputImportFile"}},[i("FontAwesomeIcon",{attrs:{icon:e.icons.faFileImport}}),e._v(" Importar ")],1),i("AppButton",{attrs:{outlined:"",icon:e.icons.faCog},on:{click:function(r){return r.preventDefault(),e.openBankSettingsClick.apply(null,arguments)}}},[e._v(" Configurações ")])],1)},Xe=[],et=G(Ye,Ze,Xe,!1,null,null,null,null);const tt=et.exports;var _e={},nt={get exports(){return _e},set exports(a){_e=a}};/* @license
Papa Parse
v5.4.0
https://github.com/mholt/PapaParse
License: MIT
*/(function(a,e){(function(i,r){a.exports=r()})(Me,function i(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},v=!r.document&&!!r.postMessage,E=r.IS_PAPA_WORKER||!1,ae={},H=0,p={parse:function(n,t){var s=(t=t||{}).dynamicTyping||!1;if(y(s)&&(t.dynamicTypingFunction=s,s={}),t.dynamicTyping=s,t.transform=!!y(t.transform)&&t.transform,t.worker&&p.WORKERS_SUPPORTED){var o=function(){if(!p.WORKERS_SUPPORTED)return!1;var h=(O=r.URL||r.webkitURL||null,w=i.toString(),p.BLOB_URL||(p.BLOB_URL=O.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",w,")();"],{type:"text/javascript"})))),m=new r.Worker(h),O,w;return m.onmessage=Be,m.id=H++,ae[m.id]=m}();return o.userStep=t.step,o.userChunk=t.chunk,o.userComplete=t.complete,o.userError=t.error,t.step=y(t.step),t.chunk=y(t.chunk),t.complete=y(t.complete),t.error=y(t.error),delete t.worker,void o.postMessage({input:n,config:t,workerId:o.id})}var d=null;return p.NODE_STREAM_INPUT,typeof n=="string"?(n=function(h){return h.charCodeAt(0)===65279?h.slice(1):h}(n),d=t.download?new de(t):new se(t)):n.readable===!0&&y(n.read)&&y(n.on)?d=new ce(t):(r.File&&n instanceof File||n instanceof Object)&&(d=new ue(t)),d.stream(n)},unparse:function(n,t){var s=!1,o=!0,d=",",h=`\r
`,m='"',O=m+m,w=!1,u=null,I=!1;(function(){if(typeof t=="object"){if(typeof t.delimiter!="string"||p.BAD_DELIMITERS.filter(function(l){return t.delimiter.indexOf(l)!==-1}).length||(d=t.delimiter),(typeof t.quotes=="boolean"||typeof t.quotes=="function"||Array.isArray(t.quotes))&&(s=t.quotes),typeof t.skipEmptyLines!="boolean"&&typeof t.skipEmptyLines!="string"||(w=t.skipEmptyLines),typeof t.newline=="string"&&(h=t.newline),typeof t.quoteChar=="string"&&(m=t.quoteChar),typeof t.header=="boolean"&&(o=t.header),Array.isArray(t.columns)){if(t.columns.length===0)throw new Error("Option columns is empty");u=t.columns}t.escapeChar!==void 0&&(O=t.escapeChar+m),(typeof t.escapeFormulae=="boolean"||t.escapeFormulae instanceof RegExp)&&(I=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var f=new RegExp(oe(m),"g");if(typeof n=="string"&&(n=JSON.parse(n)),Array.isArray(n)){if(!n.length||Array.isArray(n[0]))return V(null,n,w);if(typeof n[0]=="object")return V(u||Object.keys(n[0]),n,w)}else if(typeof n=="object")return typeof n.data=="string"&&(n.data=JSON.parse(n.data)),Array.isArray(n.data)&&(n.fields||(n.fields=n.meta&&n.meta.fields||u),n.fields||(n.fields=Array.isArray(n.data[0])?n.fields:typeof n.data[0]=="object"?Object.keys(n.data[0]):[]),Array.isArray(n.data[0])||typeof n.data[0]=="object"||(n.data=[n.data])),V(n.fields||[],n.data||[],w);throw new Error("Unable to serialize unrecognized input");function V(l,S,T){var D="";typeof l=="string"&&(l=JSON.parse(l)),typeof S=="string"&&(S=JSON.parse(S));var L=Array.isArray(l)&&0<l.length,R=!Array.isArray(S[0]);if(L&&o){for(var B=0;B<l.length;B++)0<B&&(D+=d),D+=M(l[B],B);0<S.length&&(D+=h)}for(var c=0;c<S.length;c++){var g=L?l.length:S[c].length,C=!1,$=L?Object.keys(S[c]).length===0:S[c].length===0;if(T&&!L&&(C=T==="greedy"?S[c].join("").trim()==="":S[c].length===1&&S[c][0].length===0),T==="greedy"&&L){for(var k=[],N=0;N<g;N++){var A=R?l[N]:N;k.push(S[c][A])}C=k.join("").trim()===""}if(!C){for(var b=0;b<g;b++){0<b&&!$&&(D+=d);var Y=L&&R?l[b]:b;D+=M(S[c][Y],b)}c<S.length-1&&(!T||0<g&&!$)&&(D+=h)}}return D}function M(l,S){if(l==null)return"";if(l.constructor===Date)return JSON.stringify(l).slice(1,25);var T=!1;I&&typeof l=="string"&&I.test(l)&&(l="'"+l,T=!0);var D=l.toString().replace(f,O);return(T=T||s===!0||typeof s=="function"&&s(l,S)||Array.isArray(s)&&s[S]||function(L,R){for(var B=0;B<R.length;B++)if(-1<L.indexOf(R[B]))return!0;return!1}(D,p.BAD_DELIMITERS)||-1<D.indexOf(d)||D.charAt(0)===" "||D.charAt(D.length-1)===" ")?m+D+m:D}}};if(p.RECORD_SEP=String.fromCharCode(30),p.UNIT_SEP=String.fromCharCode(31),p.BYTE_ORDER_MARK="\uFEFF",p.BAD_DELIMITERS=["\r",`
`,'"',p.BYTE_ORDER_MARK],p.WORKERS_SUPPORTED=!v&&!!r.Worker,p.NODE_STREAM_INPUT=1,p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=he,p.ParserHandle=Ce,p.NetworkStreamer=de,p.FileStreamer=ue,p.StringStreamer=se,p.ReadableStreamStreamer=ce,r.jQuery){var te=r.jQuery;te.fn.parse=function(n){var t=n.config||{},s=[];return this.each(function(h){if(!(te(this).prop("tagName").toUpperCase()==="INPUT"&&te(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var m=0;m<this.files.length;m++)s.push({file:this.files[m],inputElem:this,instanceConfig:te.extend({},t)})}),o(),this;function o(){if(s.length!==0){var h,m,O,w,u=s[0];if(y(n.before)){var I=n.before(u.file,u.inputElem);if(typeof I=="object"){if(I.action==="abort")return h="AbortError",m=u.file,O=u.inputElem,w=I.reason,void(y(n.error)&&n.error({name:h},m,O,w));if(I.action==="skip")return void d();typeof I.config=="object"&&(u.instanceConfig=te.extend(u.instanceConfig,I.config))}else if(I==="skip")return void d()}var f=u.instanceConfig.complete;u.instanceConfig.complete=function(V){y(f)&&f(V,u.file,u.inputElem),d()},p.parse(u.file,u.instanceConfig)}else y(n.complete)&&n.complete()}function d(){s.splice(0,1),o()}}}function K(n){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var s=me(t);s.chunkSize=parseInt(s.chunkSize),t.step||t.chunk||(s.chunkSize=null),this._handle=new Ce(s),(this._handle.streamer=this)._config=s}.call(this,n),this.parseChunk=function(t,s){if(this.isFirstChunk&&y(this._config.beforeFirstChunk)){var o=this._config.beforeFirstChunk(t);o!==void 0&&(t=o)}this.isFirstChunk=!1,this._halted=!1;var d=this._partialLine+t;this._partialLine="";var h=this._handle.parse(d,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var m=h.meta.cursor;this._finished||(this._partialLine=d.substring(m-this._baseIndex),this._baseIndex=m),h&&h.data&&(this._rowCount+=h.data.length);var O=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(E)r.postMessage({results:h,workerId:p.WORKER_ID,finished:O});else if(y(this._config.chunk)&&!s){if(this._config.chunk(h,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);h=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(h.data),this._completeResults.errors=this._completeResults.errors.concat(h.errors),this._completeResults.meta=h.meta),this._completed||!O||!y(this._config.complete)||h&&h.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),O||h&&h.meta.paused||this._nextChunk(),h}this._halted=!0},this._sendError=function(t){y(this._config.error)?this._config.error(t):E&&this._config.error&&r.postMessage({workerId:p.WORKER_ID,error:t,finished:!1})}}function de(n){var t;(n=n||{}).chunkSize||(n.chunkSize=p.RemoteChunkSize),K.call(this,n),this._nextChunk=v?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(s){this._input=s,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),v||(t.onload=J(this._chunkLoaded,this),t.onerror=J(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!v),this._config.downloadRequestHeaders){var s=this._config.downloadRequestHeaders;for(var o in s)t.setRequestHeader(o,s[o])}if(this._config.chunkSize){var d=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+d)}try{t.send(this._config.downloadRequestBody)}catch(h){this._chunkError(h.message)}v&&t.status===0&&this._chunkError()}},this._chunkLoaded=function(){t.readyState===4&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(s){var o=s.getResponseHeader("Content-Range");return o===null?-1:parseInt(o.substring(o.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(s){var o=t.statusText||s;this._sendError(new Error(o))}}function ue(n){var t,s;(n=n||{}).chunkSize||(n.chunkSize=p.LocalChunkSize),K.call(this,n);var o=typeof FileReader<"u";this.stream=function(d){this._input=d,s=d.slice||d.webkitSlice||d.mozSlice,o?((t=new FileReader).onload=J(this._chunkLoaded,this),t.onerror=J(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var d=this._input;if(this._config.chunkSize){var h=Math.min(this._start+this._config.chunkSize,this._input.size);d=s.call(d,this._start,h)}var m=t.readAsText(d,this._config.encoding);o||this._chunkLoaded({target:{result:m}})},this._chunkLoaded=function(d){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(d.target.result)},this._chunkError=function(){this._sendError(t.error)}}function se(n){var t;K.call(this,n=n||{}),this.stream=function(s){return t=s,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var s,o=this._config.chunkSize;return o?(s=t.substring(0,o),t=t.substring(o)):(s=t,t=""),this._finished=!t,this.parseChunk(s)}}}function ce(n){K.call(this,n=n||{});var t=[],s=!0,o=!1;this.pause=function(){K.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){K.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(d){this._input=d,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){o&&t.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):s=!0},this._streamData=J(function(d){try{t.push(typeof d=="string"?d:d.toString(this._config.encoding)),s&&(s=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(h){this._streamError(h)}},this),this._streamError=J(function(d){this._streamCleanUp(),this._sendError(d)},this),this._streamEnd=J(function(){this._streamCleanUp(),o=!0,this._streamData("")},this),this._streamCleanUp=J(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function Ce(n){var t,s,o,d=Math.pow(2,53),h=-d,m=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,O=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,w=this,u=0,I=0,f=!1,V=!1,M=[],l={data:[],errors:[],meta:{}};if(y(n.step)){var S=n.step;n.step=function(c){if(l=c,L())D();else{if(D(),l.data.length===0)return;u+=c.data.length,n.preview&&u>n.preview?s.abort():(l.data=l.data[0],S(l,w))}}}function T(c){return n.skipEmptyLines==="greedy"?c.join("").trim()==="":c.length===1&&c[0].length===0}function D(){return l&&o&&(B("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),o=!1),n.skipEmptyLines&&(l.data=l.data.filter(function(c){return!T(c)})),L()&&function(){if(!l)return;function c(C,$){y(n.transformHeader)&&(C=n.transformHeader(C,$)),M.push(C)}if(Array.isArray(l.data[0])){for(var g=0;L()&&g<l.data.length;g++)l.data[g].forEach(c);l.data.splice(0,1)}else l.data.forEach(c)}(),function(){if(!l||!n.header&&!n.dynamicTyping&&!n.transform)return l;function c(C,$){var k,N=n.header?{}:[];for(k=0;k<C.length;k++){var A=k,b=C[k];n.header&&(A=k>=M.length?"__parsed_extra":M[k]),n.transform&&(b=n.transform(b,A)),b=R(A,b),A==="__parsed_extra"?(N[A]=N[A]||[],N[A].push(b)):N[A]=b}return n.header&&(k>M.length?B("FieldMismatch","TooManyFields","Too many fields: expected "+M.length+" fields but parsed "+k,I+$):k<M.length&&B("FieldMismatch","TooFewFields","Too few fields: expected "+M.length+" fields but parsed "+k,I+$)),N}var g=1;return!l.data.length||Array.isArray(l.data[0])?(l.data=l.data.map(c),g=l.data.length):l.data=c(l.data,0),n.header&&l.meta&&(l.meta.fields=M),I+=g,l}()}function L(){return n.header&&M.length===0}function R(c,g){return C=c,n.dynamicTypingFunction&&n.dynamicTyping[C]===void 0&&(n.dynamicTyping[C]=n.dynamicTypingFunction(C)),(n.dynamicTyping[C]||n.dynamicTyping)===!0?g==="true"||g==="TRUE"||g!=="false"&&g!=="FALSE"&&(function($){if(m.test($)){var k=parseFloat($);if(h<k&&k<d)return!0}return!1}(g)?parseFloat(g):O.test(g)?new Date(g):g===""?null:g):g;var C}function B(c,g,C,$){var k={type:c,code:g,message:C};$!==void 0&&(k.row=$),l.errors.push(k)}this.parse=function(c,g,C){var $=n.quoteChar||'"';if(n.newline||(n.newline=function(A,b){A=A.substring(0,1048576);var Y=new RegExp(oe(b)+"([^]*?)"+oe(b),"gm"),P=(A=A.replace(Y,"")).split("\r"),j=A.split(`
`),Q=1<j.length&&j[0].length<P[0].length;if(P.length===1||Q)return`
`;for(var q=0,x=0;x<P.length;x++)P[x][0]===`
`&&q++;return q>=P.length/2?`\r
`:"\r"}(c,$)),o=!1,n.delimiter)y(n.delimiter)&&(n.delimiter=n.delimiter(c),l.meta.delimiter=n.delimiter);else{var k=function(A,b,Y,P,j){var Q,q,x,F;j=j||[",","	","|",";",p.RECORD_SEP,p.UNIT_SEP];for(var ne=0;ne<j.length;ne++){var _=j[ne],re=0,W=0,ie=0;x=void 0;for(var Z=new he({comments:P,delimiter:_,newline:b,preview:10}).parse(A),X=0;X<Z.data.length;X++)if(Y&&T(Z.data[X]))ie++;else{var ee=Z.data[X].length;W+=ee,x!==void 0?0<ee&&(re+=Math.abs(ee-x),x=ee):x=ee}0<Z.data.length&&(W/=Z.data.length-ie),(q===void 0||re<=q)&&(F===void 0||F<W)&&1.99<W&&(q=re,Q=_,F=W)}return{successful:!!(n.delimiter=Q),bestDelimiter:Q}}(c,n.newline,n.skipEmptyLines,n.comments,n.delimitersToGuess);k.successful?n.delimiter=k.bestDelimiter:(o=!0,n.delimiter=p.DefaultDelimiter),l.meta.delimiter=n.delimiter}var N=me(n);return n.preview&&n.header&&N.preview++,t=c,s=new he(N),l=s.parse(t,g,C),D(),f?{meta:{paused:!0}}:l||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,s.abort(),t=y(n.chunk)?"":t.substring(s.getCharIndex())},this.resume=function(){w.streamer._halted?(f=!1,w.streamer.parseChunk(t,!0)):setTimeout(w.resume,3)},this.aborted=function(){return V},this.abort=function(){V=!0,s.abort(),l.meta.aborted=!0,y(n.complete)&&n.complete(l),t=""}}function oe(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function he(n){var t,s=(n=n||{}).delimiter,o=n.newline,d=n.comments,h=n.step,m=n.preview,O=n.fastMode,w=t=n.quoteChar===void 0||n.quoteChar===null?'"':n.quoteChar;if(n.escapeChar!==void 0&&(w=n.escapeChar),(typeof s!="string"||-1<p.BAD_DELIMITERS.indexOf(s))&&(s=","),d===s)throw new Error("Comment character same as delimiter");d===!0?d="#":(typeof d!="string"||-1<p.BAD_DELIMITERS.indexOf(d))&&(d=!1),o!==`
`&&o!=="\r"&&o!==`\r
`&&(o=`
`);var u=0,I=!1;this.parse=function(f,V,M){if(typeof f!="string")throw new Error("Input must be a string");var l=f.length,S=s.length,T=o.length,D=d.length,L=y(h),R=[],B=[],c=[],g=u=0;if(!f)return U();if(n.header){var C=f.split(o)[0].split(s),$=[],k={},N=!1;for(var A in C){var b=C[A];y(n.transformHeader)&&(b=n.transformHeader(b,A));var Y=b,P=k[b]||0;0<P&&(N=!0,Y=b+"_"+P),k[b]=P+1,$.push(Y)}if(N){var j=f.split(o);j[0]=$.join(s),f=j.join(o)}}if(O||O!==!1&&f.indexOf(t)===-1){for(var Q=f.split(o),q=0;q<Q.length;q++){if(c=Q[q],u+=c.length,q!==Q.length-1)u+=o.length;else if(M)return U();if(!d||c.substring(0,D)!==d){if(L){if(R=[],ie(c.split(s)),fe(),I)return U()}else ie(c.split(s));if(m&&m<=q)return R=R.slice(0,m),U(!0)}}return U()}for(var x=f.indexOf(s,u),F=f.indexOf(o,u),ne=new RegExp(oe(w)+oe(t),"g"),_=f.indexOf(t,u);;)if(f[u]!==t)if(d&&c.length===0&&f.substring(u,u+D)===d){if(F===-1)return U();u=F+T,F=f.indexOf(o,u),x=f.indexOf(s,u)}else if(x!==-1&&(x<F||F===-1))c.push(f.substring(u,x)),u=x+S,x=f.indexOf(s,u);else{if(F===-1)break;if(c.push(f.substring(u,F)),ee(F+T),L&&(fe(),I))return U();if(m&&R.length>=m)return U(!0)}else for(_=u,u++;;){if((_=f.indexOf(t,_+1))===-1)return M||B.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:R.length,index:u}),X();if(_===l-1)return X(f.substring(u,_).replace(ne,t));if(t!==w||f[_+1]!==w){if(t===w||_===0||f[_-1]!==w){x!==-1&&x<_+1&&(x=f.indexOf(s,_+1)),F!==-1&&F<_+1&&(F=f.indexOf(o,_+1));var re=Z(F===-1?x:Math.min(x,F));if(f.substr(_+1+re,S)===s){c.push(f.substring(u,_).replace(ne,t)),f[u=_+1+re+S]!==t&&(_=f.indexOf(t,u)),x=f.indexOf(s,u),F=f.indexOf(o,u);break}var W=Z(F);if(f.substring(_+1+W,_+1+W+T)===o){if(c.push(f.substring(u,_).replace(ne,t)),ee(_+1+W+T),x=f.indexOf(s,u),_=f.indexOf(t,u),L&&(fe(),I))return U();if(m&&R.length>=m)return U(!0);break}B.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:R.length,index:u}),_++}}else _++}return X();function ie(z){R.push(z),g=u}function Z(z){var we=0;if(z!==-1){var ve=f.substring(_+1,z);ve&&ve.trim()===""&&(we=ve.length)}return we}function X(z){return M||(z===void 0&&(z=f.substring(u)),c.push(z),u=l,ie(c),L&&fe()),U()}function ee(z){u=z,ie(c),c=[],F=f.indexOf(o,u)}function U(z){return{data:R,errors:B,meta:{delimiter:s,linebreak:o,aborted:I,truncated:!!z,cursor:g+(V||0)}}}function fe(){h(U()),R=[],B=[]}},this.abort=function(){I=!0},this.getCharIndex=function(){return u}}function Be(n){var t=n.data,s=ae[t.workerId],o=!1;if(t.error)s.userError(t.error,t.file);else if(t.results&&t.results.data){var d={abort:function(){o=!0,xe(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Ee,resume:Ee};if(y(s.userStep)){for(var h=0;h<t.results.data.length&&(s.userStep({data:t.results.data[h],errors:t.results.errors,meta:t.results.meta},d),!o);h++);delete t.results}else y(s.userChunk)&&(s.userChunk(t.results,d,t.file),delete t.results)}t.finished&&!o&&xe(t.workerId,t.results)}function xe(n,t){var s=ae[n];y(s.userComplete)&&s.userComplete(t),s.terminate(),delete ae[n]}function Ee(){throw new Error("Not implemented.")}function me(n){if(typeof n!="object"||n===null)return n;var t=Array.isArray(n)?[]:{};for(var s in n)t[s]=me(n[s]);return t}function J(n,t){return function(){n.apply(t,arguments)}}function y(n){return typeof n=="function"}return E&&(r.onmessage=function(n){var t=n.data;if(p.WORKER_ID===void 0&&t&&(p.WORKER_ID=t.workerId),typeof t.input=="string")r.postMessage({workerId:p.WORKER_ID,results:p.parse(t.input,t.config),finished:!0});else if(r.File&&t.input instanceof File||t.input instanceof Object){var s=p.parse(t.input,t.config);s&&r.postMessage({workerId:p.WORKER_ID,results:s,finished:!0})}}),(de.prototype=Object.create(K.prototype)).constructor=de,(ue.prototype=Object.create(K.prototype)).constructor=ue,(se.prototype=Object.create(se.prototype)).constructor=se,(ce.prototype=Object.create(K.prototype)).constructor=ce,p})})(nt);const it=_e;var le={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetBankSettings"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bankSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateBankSetting"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BankSettingsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bankSettingsCreate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteBankSetting"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bankSettingDelete"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:299}};le.loc.source={body:`query GetBankSettings {
  bankSettings {
    id
    name
    settings
  }
}

mutation CreateBankSetting ($input: BankSettingsInput!) {
  bankSettingsCreate (input: $input) {
    id
    settings
  }
}

mutation DeleteBankSetting ($id: ID!) {
  bankSettingDelete (id: $id) {
    id
    settings
  }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function pe(a,e){if(a.kind==="FragmentSpread")e.add(a.name.value);else if(a.kind==="VariableDefinition"){var i=a.type;i.kind==="NamedType"&&e.add(i.name.value)}a.selectionSet&&a.selectionSet.selections.forEach(function(r){pe(r,e)}),a.variableDefinitions&&a.variableDefinitions.forEach(function(r){pe(r,e)}),a.definitions&&a.definitions.forEach(function(r){pe(r,e)})}var ye={};(function(){le.definitions.forEach(function(e){if(e.name){var i=new Set;pe(e,i),ye[e.name.value]=i}})})();function Ie(a,e){for(var i=0;i<a.definitions.length;i++){var r=a.definitions[i];if(r.name&&r.name.value==e)return r}}function Se(a,e){var i={kind:a.kind,definitions:[Ie(a,e)]};a.hasOwnProperty("loc")&&(i.loc=a.loc);var r=ye[e]||new Set,v=new Set,E=new Set;for(r.forEach(function(H){E.add(H)});E.size>0;){var ae=E;E=new Set,ae.forEach(function(H){if(!v.has(H)){v.add(H);var p=ye[H]||new Set;p.forEach(function(te){E.add(te)})}})}return v.forEach(function(H){var p=Ie(a,H);p&&i.definitions.push(p)}),i}const ke=Se(le,"GetBankSettings"),at=Se(le,"CreateBankSetting"),rt=Se(le,"DeleteBankSetting"),st={props:{entry:{type:Object,required:!0}},data(){return{isLoading:!1,uploadEntryModal:{value:!1,entry:{}},icons:{faEye:Te,faEyeSlash:Ne,faSyncAlt:Ae,faTrashAlt:Fe,faUpload:Re}}},computed:{hasDuplicates(){return this.entry.data.some(a=>a.isDuplicated)},headers(){return[{value:"action",text:""},{value:"value",text:"Valor",format:"currencyBRL"},{value:"date",text:"Data"},{value:"description",text:"Descrição",wrap:!0}]},fields(){return this.entry.settings.fields}},methods:{formatCurrencyBRL:qe,onRemoveDuplicatesClick(){this.$emit("remove-duplicates")},async onCheckDuplicatesClick(){const a=this.entry.data.map(e=>e.bank_uid);this.isLoading=!0;try{const{data:{bankCheckDuplicatedEntries:e}}=await this.$apollo.mutate({mutation:Qe,variables:{bank_uids:a}}),i=e.length;i?this.$toast.info(`Foi encontrado ${i} ${i>1?"itens duplicados":"item duplicado"}`):this.$toast.info("Nenhum item duplicado encontrado"),this.$emit("duplicated-entries",e)}catch{this.$toast.error("Ops! Algo deu errado.")}this.isLoading=!1},tableRowClass(a){return"table-"+this.getItemColor(a)},getItemColor(a){return a.isDuplicated||!a.isVisible?"secondary":a.value>0?"success":"danger"},toggleVisibility(a){a.isVisible=!a.isVisible}}};var ot=function(){var e=this,i=e._self._c;return i("div",[i("div",{staticClass:"my-2"},[i("AppButton",{attrs:{color:"success","btn-class":"fw-bold",icon:e.icons.faSyncAlt,loading:e.isLoading},on:{click:function(r){return r.preventDefault(),e.onCheckDuplicatesClick.apply(null,arguments)}}},[e._v(" Verificar duplicatas ")]),i("AppButton",{directives:[{name:"show",rawName:"v-show",value:e.hasDuplicates,expression:"hasDuplicates"}],staticClass:"ms-2",attrs:{color:"danger","btn-class":"fw-bold",outlined:"",icon:e.icons.faTrashAlt},on:{click:function(r){return r.preventDefault(),e.onRemoveDuplicatesClick.apply(null,arguments)}}},[e._v(" Remover duplicatas ")])],1),i("div",{staticClass:"small text-secondary"},[e._v(" Ao esconder uma entrada, ela não será exibida quando o arquivo for carregado na página de entradas. ")]),i("AppTable",{attrs:{headers:e.headers,items:e.entry.data,"row-class":r=>e.tableRowClass(r)},scopedSlots:e._u([{key:"items.action",fn:function({item:r}){return[i("AppButton",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{"btn-class":"btn-sm",outlined:"",content:r.isVisible?"Esconder entrada":"Exibir entrada",icon:r.isVisible?e.icons.faEye:e.icons.faEyeSlash},on:{click:function(v){return v.preventDefault(),e.toggleVisibility(r)}}})]}},{key:"items.value",fn:function({item:r}){return[i("span",{staticClass:"fw-bold",class:`text-${e.getItemColor(r)}`},[e._v(" "+e._s(e.formatCurrencyBRL(r.value))+" ")])]}}],null,!0)})],1)},lt=[],dt=G(st,ot,lt,!1,null,null,null,null);const ut=dt.exports,ct=[{key:"bank_uid",text:"Identificador único"},{key:"value",text:"Valor"},{key:"date",text:"Data"},{key:"description",text:"Descrição"}],ft={apollo:{vias:{query:We}},props:{fields:{type:Array,required:!0}},data(){return{SYSTEM_FIELDS:ct,isLoading:!1,form:new Ue({name:"",date_format:"dd/mm/yyyy",via_id:"",fields:{bank_uid:"",value:"",date:"",description:""}})}},computed:{datesRadioOptions(){return[{label:"dd/mm/aaaa",value:"dd/mm/yyyy"},{label:"mm/dd/aaaa",value:"mm/dd/yyyy"},{label:"aaaa/dd/mm",value:"yyyy/dd/dd"},{label:"aaaa/mm/dd",value:"yyyy/mm/dd"}]}},methods:{getHintMessage(a){if(a==="bank_uid")return"Identificador da entrada, deve ser único e nunca se repetir.";if(a==="value")return"Valor monetário da entrada.";if(a==="date")return"Data que foi dada a entrada (pode ter o horário ao lado).";if(a==="description")return"Campo usado como descrição da entrada."},async onSubmit(){const a={...this.form.data(),bank_fields:this.fields};this.isLoading=!0;try{await this.$apollo.mutate({mutation:at,variables:{input:a}}),ze(this,{message:"Configuração registrada! Importe o arquivo novamente, por favor."})}catch(e){Pe(this,e)}this.isLoading=!1}}};var pt=function(){var e=this,i=e._self._c;return i("AppForm",{attrs:{form:e.form,"on-submit":e.onSubmit}},[e._l(e.SYSTEM_FIELDS,function(r){return[i("AppSimpleSelect",{key:`select-${r.key}`,attrs:{id:r.key,placeholder:"Selecione uma opção do arquivo",name:`fields.${r.key}`,options:e.fields,error:e.form.errors.get(`fields.${r.key}`),optional:r.key==="description"},scopedSlots:e._u([{key:"hint",fn:function(){return[e._v(" "+e._s(e.getHintMessage(r.key))+" ")]},proxy:!0}],null,!0),model:{value:e.form.fields[r.key],callback:function(v){e.$set(e.form.fields,r.key,v)},expression:"form.fields[field.key]"}},[e._v(" "+e._s(r.text)+" ")]),r.key==="date"?[i("AppRadio",{key:r.key+"-radio",staticClass:"small",attrs:{id:"dateFormat",name:"dateFormat",options:e.datesRadioOptions,error:e.form.errors.get("date_format")},scopedSlots:e._u([{key:"hint",fn:function(){return[i("div",[e._v('Desconsidere os separadores "/", mesmo que a data use "-".')]),i("div",[e._v("Ignore caso tenha a hora ao lado da data.")])]},proxy:!0}],null,!0),model:{value:e.form.date_format,callback:function(v){e.$set(e.form,"date_format",v)},expression:"form.date_format"}},[e._v(" Formato da data: ")])]:e._e()]}),i("AppSimpleSelect",{attrs:{id:"via_id",options:e.vias,"label-prop":"name","value-prop":"id",name:"via_id",error:e.form.errors.get("via_id"),placeholder:"Selecione uma via",optional:""},scopedSlots:e._u([{key:"hint",fn:function(){return[e._v(" Via usada para autocompletar entradas com essa configuração. ")]},proxy:!0}]),model:{value:e.form.via_id,callback:function(r){e.$set(e.form,"via_id",r)},expression:"form.via_id"}},[e._v(" Via padrão ")]),i("AppInput",{attrs:{id:"name",name:"name",placeholder:"Digite um nome para a configuração...",error:e.form.errors.get("name")},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}},[e._v(" Nome da configuração ")]),i("div",{staticClass:"row mt-4"},[i("div",{staticClass:"col"},[i("AppButton",{attrs:{block:"",color:"success","btn-class":"fw-bold",loading:e.isLoading}},[e._v(" Salvar ")])],1),i("div",{staticClass:"col"},[i("AppButton",{attrs:{type:"button",block:"",color:"light","data-bs-dismiss":"modal",disabled:e.isLoading}},[e._v(" Fechar ")])],1)])],2)},ht=[],mt=G(ft,pt,ht,!1,null,null,null,null);const vt=mt.exports,gt={components:{BankSettingsForm:vt},props:{samples:{type:Array,default:()=>[]},fields:{type:Array,default:()=>[]},value:{type:Boolean,default:!1}},data(){return{icons:{faCog:be,faSyncAlt:Ae},sampleItemIndex:0}},computed:{sample(){return this.samples[this.sampleItemIndex]}},methods:{regenerateSampleItemIndex(){const a=Ve(0,this.samples.length-1);if(a===this.sampleItemIndex){this.regenerateSampleItemIndex();return}this.sampleItemIndex=a},onSuccess(){this.$emit("success")}}};var _t=function(){var e=this,i=e._self._c;return i("AppModal",e._g({attrs:{id:"bankSettingsHandleModal",value:e.value},scopedSlots:e._u([{key:"title",fn:function(){return[i("FontAwesomeIcon",{attrs:{icon:e.icons.faCog,"fixed-width":""}}),e._v(" Adicionar configuração de banco ")]},proxy:!0},{key:"body",fn:function(){return[i("AppAlert",{attrs:{dismissible:"",small:"",color:"warning"}},[e._v(" Não foi possível encontrar uma configuração de banco para o arquivo carregado, adicione uma abaixo. ")]),i("div",[i("div",{staticClass:"text-center text-secondary"},[e._v(" Por favor, associe os campos encontrados no "),i("b",[e._v("arquivo carregado")]),e._v(" com os "),i("b",[e._v("campos do sistema")]),e._v(". ")])]),e.value?i("AppContainer",{staticClass:"my-2",attrs:{collapsible:"",value:!0},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Exemplo de dados no arquivo ")]},proxy:!0},{key:"body",fn:function(){return[i("div",{staticClass:"mb-2"},[i("span",{staticClass:"clickable link-primary small",on:{click:function(r){return r.preventDefault(),e.regenerateSampleItemIndex.apply(null,arguments)}}},[i("FontAwesomeIcon",{attrs:{icon:e.icons.faSyncAlt,"fixed-width":""}}),e._v(" Carregar outro exemplo ")],1)]),e._l(e.sample,function(r,v){return i("div",{key:v,staticClass:"small"},[i("span",{staticClass:"fw-bold text-primary"},[e._v(e._s(v))]),e._v(": "+e._s(r)+" ")])})]},proxy:!0}],null,!1,3092045843)}):e._e(),e.value?i("BankSettingsForm",{attrs:{fields:e.fields},on:{success:e.onSuccess}}):e._e()]},proxy:!0}])},e.$listeners))},yt=[],kt=G(gt,_t,yt,!1,null,null,null,null);const bt=kt.exports,St={props:{entry:{type:Object,required:!0},value:{type:Boolean,default:!1}},data(){return{isLoading:!1,replace:!1,fileAlreadyExists:!1,icons:{faUpload:Re}}},methods:{resetModal(){this.fileAlreadyExists=!1,this.replace=!1},checkIfFileAlreadyExists(a){var i,r,v;const e=(v=(r=(i=a==null?void 0:a.graphQLErrors[0])==null?void 0:i.extensions)==null?void 0:r.validation)==null?void 0:v.filename;e&&e.includes("unique")&&(this.fileAlreadyExists=!0)},async onConfirmClick(){const a={replace:this.replace,filename:this.entry.file.name,json_file:JSON.stringify(this.entry.data)};this.isLoading=!0;try{await this.$apollo.mutate({mutation:Ge,variables:{input:a}}),this.$helpers.clearCacheFrom([{fieldName:"bankEntries"},{fieldName:"entriesBankMirror"}]),this.$toast.success("Arquivo enviado!"),this.$emit("success")}catch(e){e.graphQLErrors&&this.checkIfFileAlreadyExists({...e}),this.$toast.error("Ops! Algo deu errado.")}this.isLoading=!1}}};var Ct=function(){var e=this,i=e._self._c;return i("AppModal",e._g({attrs:{id:"bankEntryUploadModal",value:e.value},on:{hidden:e.resetModal},scopedSlots:e._u([{key:"title",fn:function(){return[i("FontAwesomeIcon",{attrs:{icon:e.icons.faUpload,"fixed-width":""}}),e._v(" Enviando arquivo de entradas ")]},proxy:!0},e.value?{key:"body",fn:function(){return[i("div",{staticClass:"text-center"},[i("FontAwesomeIcon",{staticClass:"text-primary",attrs:{icon:e.icons.faUpload,size:"3x"}})],1),i("div",{staticClass:"text-center my-5"},[i("h6",{staticClass:"text-secondary fw-bold mb-3"},[e._v(" Você está enviando o seguinte arquivo ")]),i("h5",{staticClass:"text-primary fw-bold"},[e._v(" "+e._s(e.entry.file.name)+" ")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.fileAlreadyExists,expression:"fileAlreadyExists"}]},[i("div",{staticClass:"text-danger fw-bold"},[e._v(" O arquivo enviado já consta no banco de dados ")]),i("AppCheckbox",{attrs:{id:"fileAlreadyExistsCheckbox"},model:{value:e.replace,callback:function(r){e.replace=r},expression:"replace"}},[e._v(" Substituir arquivo pelo atual ")])],1),i("div",{staticClass:"row mt-2"},[i("div",{staticClass:"col"},[i("AppButton",{attrs:{color:"success","btn-class":"fw-bold",block:"",loading:e.isLoading},on:{click:function(r){return r.preventDefault(),e.onConfirmClick.apply(null,arguments)}}},[e._v(" Confirmar ")])],1),i("div",{staticClass:"col"},[i("AppButton",{attrs:{block:"","data-bs-dismiss":"modal",color:"light",disabled:e.isLoading}},[e._v(" Cancelar ")])],1)])]},proxy:!0}:null],null,!0)},e.$listeners))},xt=[],Et=G(St,Ct,xt,!1,null,null,null,null);const wt=Et.exports,Dt={apollo:{bankSettings:{query:ke,update({bankSettings:a}){return a.map(e=>({...e,settings:JSON.parse(e.settings)}))}}},components:{BankEntryTable:ut,BankSettingsFormModal:bt,BankEntryUploadModal:wt},props:{fileImported:void 0},data(){return{entry:{},bankSettings:[],uploadEntryModal:{value:!1,entry:{}},modalBankSettings:{value:!1,fields:[],samples:[]},icons:{faHandHoldingUsd:je}}},computed:{isBankSettingsLoading(){return!!this.$apollo.queries.bankSettings.loading}},methods:{isEmpty:De,fieldsMatch(a,e){return a.every((i,r)=>e[r]===i)},getBankSettings(a){return this.bankSettings.find(e=>{if(this.fieldsMatch(a,e.settings.bank_fields))return e})},isFirstPropEmpty(a){return De(a[Object.keys(a)[0]])},getDateFormatted(a,e){const i=e.replace("mm","MM"),v=[ge.fromFormat(a,i),ge.fromFormat(a,`${i} hh:mm`),ge.fromFormat(a,`${i} hh:mm:ss`)].find(E=>E.isValid);return v?v.toFormat("dd/MM/yyyy"):"Invalid Date"},getValueFormatted(a){return a.replace("R$ ","")},getBankId(a){return a||He(+new Date)},getFormattedData(a,e){const{fields:i}=e,r=a.filter(E=>!this.isFirstPropEmpty(E)),v={isDuplicated:!1,isVisible:!0,display:!0};return r.map(E=>({bank_uid:this.getBankId(E[i.bank_uid]),date:this.getDateFormatted(E[i.date],e.date_format),description:E[i.description],value:this.getValueFormatted(E[i.value]),via_id:e.via_id,...v}))},handleFile(a){const e=a.target.result,i=it.parse(e,{header:!0,transformHeader:v=>Ke(v).toLowerCase()}),r=this.getBankSettings(i.meta.fields);if(!r){this.modalBankSettings.fields=i.meta.fields,this.modalBankSettings.samples=Je(i.data,10),this.modalBankSettings.value=!0;return}this.entry={id:+new Date,file:this.fileImported,data:this.getFormattedData(i.data,r.settings),settings:r.settings}},loadFile(a){const e=new FileReader;e.onload=this.handleFile,e.readAsText(a)},onBankSettingsSuccess(){Object.assign(this.modalBankSettings,{value:!1,fields:[],sampleRow:{}}),this.$apollo.queries.bankSettings.refetch()},onDuplicatedEntries(a){this.entry.data.forEach(e=>{a.includes(e.bank_uid)&&(e.isDuplicated=!0)})},onRemoveDuplicates(){this.entry.data.forEach(()=>{const a=this.entry.data.findIndex(e=>e.isDuplicated);a!==-1&&this.entry.data.splice(a,1)})},onUploadFileClick(){this.uploadEntryModal.value=!0,this.uploadEntryModal.entry=this.entry},onSuccessUploadEntry(){this.uploadEntryModal.value=!1,this.uploadEntryModal.entry={},this.onClearFile()},onClearFile(){this.entry={},this.$emit("clear-file")}}};var It=function(){var e=this,i=e._self._c;return i("div",[i("BankSettingsFormModal",{attrs:{samples:e.modalBankSettings.samples,fields:e.modalBankSettings.fields},on:{success:e.onBankSettingsSuccess},model:{value:e.modalBankSettings.value,callback:function(r){e.$set(e.modalBankSettings,"value",r)},expression:"modalBankSettings.value"}}),i("BankEntryUploadModal",{attrs:{entry:e.uploadEntryModal.entry},on:{success:e.onSuccessUploadEntry},model:{value:e.uploadEntryModal.value,callback:function(r){e.$set(e.uploadEntryModal,"value",r)},expression:"uploadEntryModal.value"}}),i("AppCard",{staticClass:"mt-3",scopedSlots:e._u([{key:"header",fn:function(){return[i("h6",{staticClass:"fw-bold mb-0"},[i("FontAwesomeIcon",{attrs:{icon:e.icons.faHandHoldingUsd,"fixed-width":""}}),e._v(" Entradas bancárias ")],1)]},proxy:!0},{key:"body",fn:function(){return[i("AppLoading",{directives:[{name:"show",rawName:"v-show",value:e.isBankSettingsLoading,expression:"isBankSettingsLoading"}]}),e.isEmpty(e.entry)?i("div",{staticClass:"text-secondary text-center py-5"},[e._v(" Nenhum arquivo carregado ")]):i("div",[i("div",{staticClass:"d-flex justify-content-between mb-2"},[i("AppButton",{attrs:{icon:e.icons.faUpload,"btn-class":"fw-bold"},on:{click:function(r){return r.preventDefault(),e.onUploadFileClick.apply(null,arguments)}}},[e._v(" Enviar arquivo ")])],1),i("BankEntryTable",{staticClass:"mt-3",attrs:{entry:e.entry},on:{"duplicated-entries":e.onDuplicatedEntries,"remove-duplicates":e.onRemoveDuplicates}})],1)]},proxy:!0}])})],1)},At=[],Ft=G(Dt,It,At,!1,null,null,null,null);const Rt=Ft.exports,Bt={apollo:{bankSettings:{query:ke}},data(){return{isLoading:!1,icons:{faTrashAlt:Fe},bankSettings:[]}},computed:{headers(){return[{value:"name",text:"Nome"},{value:"settings",text:"Associação de campos"},{value:"delete",text:""}]}},methods:{getSettings(a){return JSON.parse(a.settings)},async onDeleteClick(a){this.isLoading=!0;try{await this.$apollo.mutate({mutation:rt,variables:{id:a.id},refetchQueries:[ke],awaitRefetchQueries:!0}),this.$toast.success("Configuração deletada!")}catch{this.$toast.error("Ops! Algo deu errado.")}this.isLoading=!1}}};var $t=function(){var e=this,i=e._self._c;return i("div",{staticClass:"position-relative"},[i("AppLoading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),i("AppTable",{attrs:{headers:e.headers,items:e.bankSettings},scopedSlots:e._u([{key:"items.settings",fn:function({item:r}){return[i("ul",{staticClass:"list-group list-group-sm"},e._l(e.getSettings(r).fields,function(v,E){return i("li",{key:E,staticClass:"list-group-item"},[i("b",[e._v(e._s(E))]),e._v(": "+e._s(v)+" "),E==="date"?[e._v(" ("+e._s(e.getSettings(r).date_format)+") ")]:e._e()],2)}),0)]}},{key:"items.delete",fn:function({item:r}){return[i("AppButton",{attrs:{color:"danger","btn-class":"btn-sm",outlined:"",icon:e.icons.faTrashAlt},on:{click:function(v){return v.preventDefault(),e.onDeleteClick(r)}}})]}}],null,!0)})],1)},Ot=[],Lt=G(Bt,$t,Ot,!1,null,null,null,null);const Mt=Lt.exports,Tt={components:{BankSettingsModalBody:Mt},props:{value:{type:Boolean,default:!1}},data(){return{icons:{faCog:be}}}};var Nt=function(){var e=this,i=e._self._c;return i("AppModal",e._g({attrs:{id:"bankSettingsModal",value:e.value},scopedSlots:e._u([{key:"title",fn:function(){return[i("FontAwesomeIcon",{attrs:{icon:e.icons.faCog,"fixed-width":""}}),e._v(" Configurações armazenadas ")]},proxy:!0},{key:"body",fn:function(){return[e.value?i("BankSettingsModalBody"):e._e(),i("div",{staticClass:"mt-3 text-end"},[i("AppButton",{attrs:{"data-bs-dismiss":"modal",color:"light"}},[e._v(" Fechar ")])],1)]},proxy:!0}])},e.$listeners))},qt=[],Ut=G(Tt,Nt,qt,!1,null,null,null,null);const zt=Ut.exports,Pt={metaInfo:{title:"Entradas bancárias"},components:{TheBankEntriesHeader:tt,TheBankEntriesBody:Rt,BankSettingsModal:zt},data(){return{bankSettingsModal:{value:!1},fileImported:{}}},methods:{onFileImport(a){this.fileImported=a,this.$refs.bankEntriesBody.loadFile(a)},onClearFile(){this.fileImported={}},onOpenBankSettings(){this.bankSettingsModal.value=!0}}};var Vt=function(){var e=this,i=e._self._c;return i("div",{staticClass:"pt-2 pb-5"},[i("TheBankEntriesHeader",{on:{"file-imported":e.onFileImport,"open-bank-settings":e.onOpenBankSettings}}),i("BankSettingsModal",{model:{value:e.bankSettingsModal.value,callback:function(r){e.$set(e.bankSettingsModal,"value",r)},expression:"bankSettingsModal.value"}}),i("TheBankEntriesBody",{ref:"bankEntriesBody",attrs:{"file-imported":e.fileImported},on:{"clear-file":e.onClearFile}})],1)},jt=[],Ht=G(Pt,Vt,jt,!1,null,null,null,null);const Yt=Ht.exports;export{Yt as default};
