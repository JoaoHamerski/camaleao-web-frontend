import{G as r}from"./Status-e5c68e0d.js";import{n as s,L as i,F as d,s as n,u as l,ab as _}from"./index-fae63e1f.js";import{C as u}from"./Dashboard-bdd2e6ff.js";import"./_PaginatorFragment-c01a3fe7.js";const c={props:{status:{type:Array,default:()=>[]}},apollo:{productionSettings:{query:i,variables:{name:"dashboard",key:"production",encoded:!1},update({configGet:e}){return JSON.parse(e)},result(){this.populateForm()}}},data:()=>({isLoading:!1,productionSettings:{},form:new d({estampados_no_dia_id:"",costurados_no_dia_id:"",month_production_id:"",late_orders_id:"",waiting_for_withdrawal_id:"",delivered_id:""})}),computed:{isQueryLoading(){return this.$apollo.queries.productionSettings.loading}},methods:{populateForm(){Object.assign(this.form,{...this.productionSettings})},async onSubmit(){const e=this.form.data();this.isLoading=!0;try{await this.$apollo.mutate({mutation:u,variables:{settings:e}}),n(this,{message:"Atualizado!"})}catch(o){l(this,o)}this.isLoading=!1}}};var p=function(){var o=this,t=o._self._c;return t("AppContainer",{scopedSlots:o._u([{key:"title",fn:function(){return[o._v(" Produção ")]},proxy:!0},{key:"body",fn:function(){return[o.isQueryLoading?t("AppLoading"):o._e(),t("AppForm",{attrs:{form:o.form,"on-submit":o.onSubmit}},[t("div",{staticClass:"fw-bold mb-2"},[o._v(" Selecione os status que cada seção da produção terá seus dados baseados. ")]),t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("AppSimpleSelect",{attrs:{id:"estampados_no_dia_id",name:"estampados_no_dia_id",options:o.status,"label-prop":"text","label-value":"id",error:o.form.errors.get("estampados_no_dia_id")},model:{value:o.form.estampados_no_dia_id,callback:function(a){o.$set(o.form,"estampados_no_dia_id",a)},expression:"form.estampados_no_dia_id"}},[o._v(" Estampados no dia ")])],1),t("div",{staticClass:"col"},[t("AppSimpleSelect",{attrs:{id:"costurados_no_dia_id",name:"costurados_no_dia_id",options:o.status,"label-prop":"text","label-value":"id",error:o.form.errors.get("costurados_no_dia_id")},model:{value:o.form.costurados_no_dia_id,callback:function(a){o.$set(o.form,"costurados_no_dia_id",a)},expression:"form.costurados_no_dia_id"}},[o._v(" Costurados no dia ")])],1),t("div",{staticClass:"col"},[t("AppSimpleSelect",{attrs:{id:"month_production_id",name:"month_production_id",options:o.status,"label-prop":"text","label-value":"id",error:o.form.errors.get("month_production_id")},model:{value:o.form.month_production_id,callback:function(a){o.$set(o.form,"month_production_id",a)},expression:"form.month_production_id"}},[o._v(" Produção no mês ")])],1)]),t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("AppSimpleSelect",{attrs:{id:"late_orders_id",name:"late_orders_id",options:o.status,"label-prop":"text","label-value":"id",error:o.form.errors.get("late_orders_id")},scopedSlots:o._u([{key:"hint",fn:function(){return[t("div",[o._v("Selecione o status que deve ser usado para contabilizar os PEDIDOS ATRASADOS.")]),t("div",[o._v("- Pedidos com esse status e a data de entrega anterior a hoje serão contabilizados como ATRASADOS.")])]},proxy:!0}]),model:{value:o.form.late_orders_id,callback:function(a){o.$set(o.form,"late_orders_id",a)},expression:"form.late_orders_id"}},[o._v(" Pedidos atrasados ")])],1)]),t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("AppSimpleSelect",{attrs:{id:"waiting_for_withdrawal_id",name:"waiting_for_withdrawal_id",hint:"Selecione o status que deve ser usado para contabilizar os pedidos AGUARDANDO RETIRADA.",options:o.status,"label-prop":"text","label-value":"id",error:o.form.errors.get("waiting_for_withdrawal_id")},model:{value:o.form.waiting_for_withdrawal_id,callback:function(a){o.$set(o.form,"waiting_for_withdrawal_id",a)},expression:"form.waiting_for_withdrawal_id"}},[o._v(" Aguardando retirada ")])],1),t("div",{staticClass:"col"},[t("AppSimpleSelect",{attrs:{id:"delivered_id",name:"delivered_id",hint:"Selecione um status que indica quando um pedido é considerado ENTREGUE",options:o.status,"label-prop":"text","label-value":"id",error:o.form.errors.get("delivered_id")},model:{value:o.form.delivered_id,callback:function(a){o.$set(o.form,"delivered_id",a)},expression:"form.delivered_id"}},[o._v(" Indicador de entregue ")])],1)]),t("div",{staticClass:"mt-3"},[t("AppButton",{staticClass:"fw-bold px-5",attrs:{color:"success",loading:o.isLoading}},[o._v(" Salvar ")])],1)])]},proxy:!0}])})},m=[],f=s(c,p,m,!1,null,null,null,null);const v=f.exports,h={components:{DashboardProductionSettings:v},metaInfo:{title:"Dashboard"},apollo:{status:{query:r}},data:()=>({icons:{faChartBar:_},status:[]}),computed:{isQueryLoading(){return this.$apollo.queries.status.loading}}};var g=function(){var o=this,t=o._self._c;return t("AppCard",{staticClass:"my-5",attrs:{color:"camaleao"},scopedSlots:o._u([{key:"header",fn:function(){return[t("h6",{staticClass:"fw-bold mb-0"},[t("FontAwesomeIcon",{attrs:{icon:o.icons.faChartBar,"fixed-width":""}}),o._v(" Configurações do Dashboard ")],1)]},proxy:!0},{key:"body",fn:function(){return[t("AppLoading",{directives:[{name:"show",rawName:"v-show",value:o.isQueryLoading,expression:"isQueryLoading"}]}),o.isQueryLoading?o._e():t("DashboardProductionSettings",{attrs:{status:o.status}})]},proxy:!0}])})},b=[],S=s(h,g,b,!1,null,null,null,null);const x=S.exports;export{x as default};
