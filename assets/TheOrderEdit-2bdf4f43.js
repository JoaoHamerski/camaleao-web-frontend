import{n as s,i,a0 as o,aR as d,b0 as n}from"./index-fae63e1f.js";import{d as a}from"./Order-7b0e72c5.js";import{o as c}from"./orderStatesMixin-3d8dcb0c.js";import{O as l}from"./OrderForm-98d4aff3.js";import{O as m}from"./OrderReminder-d2ede3d6.js";import"./_PaginatorFragment-c01a3fe7.js";import"./ActivityFragments-a3df58d3.js";import"./Resources-b591129f.js";import"./masks-168ccaff.js";import"./filesMixin-e7ac34d1.js";import"./filter-58b32e89.js";import"./pasteFilesMixin-1129ca11.js";import"./truncate-9ccec01d.js";import"./Via-eb0eedf9.js";import"./BudgetFormProductsHeader-9ac68bc3.js";import"./pick-eda4ada2.js";import"./_basePickBy-cefc69a3.js";import"./_flatRest-a6acb8a9.js";const p={metaInfo(){return i(this.order)?{title:"Carregando..."}:this.isOrderPreRegistered?{title:"Concluir registro"}:{title:`${this.order.code} - Editar`}},components:{OrderForm:l,OrderReminder:m},mixins:[c],apollo:{order:{query:a,variables(){const{clientKey:t,orderKey:r}=this.$route.params;return{id:r,client_id:t}},fetchPolicy:"no-cache"}},data(){return{orders:o,order:{},icons:{faBoxOpen:d,faArrowCircleLeft:n}}},computed:{showReminder(){return this.isOrderPreRegistered&&this.order.reminder}},methods:{isEmpty:i,onSuccess({clientId:t,orderId:r}){this.$toast.success("Pedido atualizado!"),this.$helpers.redirectTo(o.show,{client:t,order:r})},redirectBackToOrder(){if(!this.order.client){this.$helpers.redirectTo(o.showPreRegistered,{order:this.order});return}this.$helpers.redirectTo(o.show,{client:this.order.client,order:this.order})}}};var u=function(){var r=this,e=r._self._c;return e("div",{staticClass:"py-5 col col-sm-10 mx-auto"},[e("AppButton",{staticClass:"mb-2",attrs:{outlined:"",icon:r.icons.faArrowCircleLeft},on:{click:r.redirectBackToOrder}},[r._v(" Pedido ")]),e("AppCard",{attrs:{color:"primary"},scopedSlots:r._u([{key:"header",fn:function(){return[e("h6",{staticClass:"d-flex fw-bold align-items-center mb-0"},[e("FontAwesomeIcon",{staticClass:"me-1",attrs:{icon:r.icons.faBoxOpen}}),r.isOrderPreRegistered?[r._v(" Concluir registro "+r._s(r.order.code?`- ${r.order.code}`:"")+" ")]:[r._v(" Alterar pedido - "+r._s(r.$helpers.fallback(r.order,"name","[SEM NOME]"))+" DE "+r._s(r.$helpers.fallback(r.order.client,"name"))+" ")]],2)]},proxy:!0},{key:"body",fn:function(){return[r.showReminder?e("OrderReminder",[r._v(" "+r._s(r.order.reminder)+" ")]):r._e(),r.isEmpty(r.order)?e("div",{staticClass:"text-center my-5"},[e("div",{staticClass:"spinner-grow text-primary",attrs:{role:"status"}},[e("span",{staticClass:"visually-hidden"},[r._v("Loading...")])])]):e("OrderForm",r._b({on:{success:r.onSuccess}},"OrderForm",{order:r.order,isOrderPreRegistered:r.isOrderPreRegistered},!1))]},proxy:!0}])})],1)},f=[],h=s(p,u,f,!1,null,null,null,null);const S=h.exports;export{S as default};
