import{n,aK as i,aA as o,a5 as r,a2 as c,N as l,bH as p,U as _,bI as u,i as m,D as v}from"./index-fae63e1f.js";import{c as f}from"./DailyCash-da8f8b01.js";import h from"./ExpensesTypesOverview-7767576a.js";import{l as y}from"./omit-574aa98c.js";import"./_PaginatorFragment-c01a3fe7.js";import"./PaymentExpense-9583d97d.js";import"./Expense-8b8780bc.js";import"./ExpensesForm-9d8c3592.js";import"./masks-168ccaff.js";import"./filesMixin-e7ac34d1.js";import"./filter-58b32e89.js";import"./pasteFilesMixin-1129ca11.js";import"./Via-eb0eedf9.js";import"./User-8fb57da5.js";import"./ViewerItemsCardFile-6146f446.js";import"./vue-load-image-65c59e9a.js";import"./has-1f08a56a.js";import"./SelectEntriesFind-e5d39e3c.js";import"./truncate-9ccec01d.js";import"./_flatRest-a6acb8a9.js";const C={props:{item:{type:Object,required:!0}}};var b=function(){var e=this,t=e._self._c;return t("div",{staticClass:"col mb-2 mb-sm-0"},[t("div",{staticClass:"fw-bold"},[e._v(" CAMISAS PRODUZIDAS ")]),t("h1",{staticClass:"fw-bold"},[e._v(" "+e._s(e.item.shirts_total)+" ")]),t("div",[e._v(" Valor total: "),t("b",{staticClass:"text-info"},[e._v(e._s(e.$helpers.toBRL(e.item.total_price)))])])])},w=[],x=n(C,b,w,!1,null,null,null,null);const D=x.exports,$={props:{item:{type:Object,required:!0}},data(){return{icons:{faTshirt:i}}}};var g=function(){var e=this,t=e._self._c;return t("table",{staticClass:"table table-sm"},[t("thead",[t("tr",{staticClass:"small"},[t("th",{attrs:{colspan:"4"}},[t("FontAwesomeIcon",{attrs:{icon:e.icons.faTshirt,"fixed-width":""}}),e._v(" Pedidos com peças: ")],1)]),t("tr",{staticClass:"small"},[t("th",{staticClass:"table-primary"},[e._v(" Intervalo ")]),t("th",[t("span",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:"Quantidade de PEDIDOS que estão no INTERVALO de peças"}},[e._v("Qtd.")])]),t("th",[e._v("Total")]),t("th",[e._v("Peças")])])]),t("tbody",[t("tr",{staticClass:"small"},[t("td",{staticClass:"fw-bold table-primary"},[e._v(" < 5 ")]),t("td",[e._v(e._s(e.item.shirts_details.less_than_five.count))]),t("td",{attrs:{nowrap:""}},[e._v(" "+e._s(e.$helpers.toBRL(e.item.shirts_details.less_than_five.value))+" ")]),t("td",[e._v(e._s(e.item.shirts_details.less_than_five.quantity))])]),t("tr",{staticClass:"small"},[t("td",{staticClass:"fw-bold table-primary"},[e._v(" 5 ~ 10 ")]),t("td",[e._v(e._s(e.item.shirts_details.between_five_and_ten.count))]),t("td",{attrs:{nowrap:""}},[e._v(" "+e._s(e.$helpers.toBRL(e.item.shirts_details.between_five_and_ten.value))+" ")]),t("td",[e._v(e._s(e.item.shirts_details.between_five_and_ten.quantity))])]),t("tr",{staticClass:"small"},[t("td",{staticClass:"fw-bold table-primary"},[e._v(" > 10 ")]),t("td",[e._v(e._s(e.item.shirts_details.more_than_ten.count))]),t("td",{attrs:{nowrap:""}},[e._v(" "+e._s(e.$helpers.toBRL(e.item.shirts_details.more_than_ten.value))+" ")]),t("td",[e._v(e._s(e.item.shirts_details.more_than_ten.quantity))])])])])},F=[],E=n($,g,F,!1,null,null,null,null);const L=E.exports,M={components:{DailyCashDetailedFlowEntryTable:L},props:{item:{type:Object,required:!0}},data(){return{icons:{faBox:o,faTshirt:i}}}};var R=function(){var e=this,t=e._self._c;return t("div",{staticClass:"col mb-2 mb-sm-0"},[t("div",{staticClass:"fw-bold"},[e._v(" ENTRADAS ")]),t("h2",{staticClass:"fw-bold text-success mb-0 text-nowrap"},[e._v(" "+e._s(e.$helpers.toBRL(e.item.entry.total))+" ")]),t("div",{staticClass:"small"},[t("div",{staticClass:"text-nowrap"},[t("FontAwesomeIcon",{attrs:{icon:e.icons.faBox,"fixed-width":""}}),e._v(" Média "),t("b",[e._v("por pedido")]),e._v(": "),t("span",{staticClass:"text-info fw-bold"},[e._v(" "+e._s(e.$helpers.toBRL(e.item.entry.orders_price_avg))+" ")])],1),t("div",{staticClass:"text-nowrap"},[t("FontAwesomeIcon",{attrs:{icon:e.icons.faTshirt,"fixed-width":""}}),e._v(" Média "),t("b",[e._v("por camisa")]),e._v(": "),t("span",{staticClass:"text-info fw-bold"},[e._v(" "+e._s(e.$helpers.toBRL(e.item.entry.unities_avg))+" ")])],1),t("div",[t("DailyCashDetailedFlowEntryTable",{attrs:{item:e.item}})],1)])])},A=[],I=n(M,R,A,!1,null,null,null,null);const S=I.exports,k={props:{item:{type:Object,required:!0}}};var P=function(){var e=this,t=e._self._c;return t("div",{staticClass:"col mb-2 mb-sm-0"},[t("div",{staticClass:"fw-bold"},[e._v(" SAÍDAS ")]),t("h2",{staticClass:"fw-bold text-danger mb-0 text-nowrap"},[e._v(" "+e._s(e.$helpers.toBRL(e.item.out.total))+" ")]),t("div",e._l(e.item.out.expense_types,function(a){return t("div",{key:a.name,staticClass:"small"},[e._v(" "+e._s(a.name)+": "),t("b",{staticClass:"text-danger"},[e._v(e._s(e.$helpers.toBRL(a.total)))])])}),0)])},N=[],O=n(k,P,N,!1,null,null,null,null);const q=O.exports,B={props:{item:{type:Object,required:!0}},data(){return{roles:r}},methods:{onPendencyOfMonthClick(s){this.$emit("open-pendency-orders",s)}}};var T=function(){var e=this,t=e._self._c;return t("div",{staticClass:"col"},[t("div",{staticClass:"fw-bold link-primary clickable",on:{click:function(a){return a.preventDefault(),e.onPendencyOfMonthClick(e.item.date)}}},[e._v(" "+e._s(e.$helpers.canView(e.roles.GERENCIA)?"PENDÊNCIA NO MÊS":"VER PENDÊNCIAS DESSE MÊS")+" ")]),e.$helpers.canView(e.roles.GERENCIA)?t("h2",{staticClass:"fw-bold text-danger"},[e._v(" "+e._s(e.$helpers.toBRL(e.item.pendency))+" ")]):e._e()])},V=[],j=n(B,T,V,!1,null,null,null,null);const G=j.exports;const Q={components:{DailyCashDetailedFlowShirts:D,DailyCashDetailedFlowEntry:S,DailyCashDetailedFlowOut:q,DailyCashDetailedFlowPendencies:G},props:{item:{type:Object,required:!0}},data(){return{roles:r,icons:{faTshirt:i,faBox:o,faFunnelDollar:c}}},methods:{formatDatetime:l,openExpensesModal(){this.$emit("open-expenses-modal",this.item.date)}}};var U=function(){var e=this,t=e._self._c;return t("AppContainer",{attrs:{collapsible:"",value:!e.$isMobile},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{staticClass:"text-uppercase small me-2"},[e._v(e._s(e.formatDatetime(e.item.date,"LLLL 'de' y")))])]},proxy:!0},{key:"body",fn:function(){return[t("div",{staticClass:"row position-relative",class:{"row-cols-1 row-cols-sm-4":e.$helpers.canView(e.roles.GERENCIA),"row-cols-12":e.$helpers.canView(e.roles.ATENDIMENTO)}},[e.$helpers.canView(e.roles.GERENCIA)?[t("DailyCashDetailedFlowShirts",{attrs:{item:e.item}}),t("DailyCashDetailedFlowEntry",{attrs:{item:e.item}}),t("DailyCashDetailedFlowOut",{attrs:{item:e.item}})]:e._e(),t("DailyCashDetailedFlowPendencies",{attrs:{item:e.item},on:{"open-pendency-orders":function(a){return e.$emit("open-pendency-orders",a)}}}),e.$helpers.canView(e.roles.GERENCIA)?t("AppButton",{staticClass:"expenses-button",attrs:{color:"danger","btn-class":"fw-bold w-fit-content",outlined:"",rounded:"",icon:e.icons.faFunnelDollar,tooltip:"Despesas","tippy-settings":{placement:"left"}},on:{click:function(a){return a.preventDefault(),e.openExpensesModal.apply(null,arguments)}}}):e._e()],2)]},proxy:!0}])})},z=[],H=n(Q,U,z,!1,null,null,null,null);const K=H.exports,Z={props:{value:{type:String,default:""},date:{type:String,required:!0},page:{type:[Number,String],required:!0},datePaginationInterval:void 0},methods:{paginate(s){this.$emit("paginate",s)}}};var J=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex flex-column flex-sm-row justify-content-between"},[t("div",{staticClass:"mb-3 text-center text-sm-start"},[t("div",{staticClass:"btn-group mb-2"},[t("button",{staticClass:"btn btn-outline-primary",class:e.date!==""&&"disabled",on:{click:function(a){return e.paginate("previous")}}},[e._v(" Anterior ")]),t("button",{staticClass:"btn btn-outline-primary",class:(e.page===1||e.date!=="")&&"disabled",on:{click:function(a){return e.paginate("next")}}},[e._v(" Próximo ")])]),t("div",{staticClass:"fw-bold small"},[e._v(" "+e._s(e.datePaginationInterval)+" ")])]),t("div",[t("AppInput",{attrs:{id:"month",value:e.value,name:"month",type:"month",placeholder:"mm/aaaa"},on:{input:function(a){return e.$emit("input",a)}}},[e._v(" Mês específico: ")])],1)])},W=[],X=n(Z,J,W,!1,null,null,null,null);const Y=X.exports,ee={components:{ExpensesTypesOverview:h},props:{value:{type:Boolean,default:!1},date:{type:String,default:""}},computed:{getFormattedData(){return l(this.date,"LLLL 'de' y").toUpperCase()}}};var te=function(){var e=this,t=e._self._c;return t("AppModal",e._g({attrs:{id:"dailyCashExpensesModal",color:"danger",value:e.value,"modal-dialog-class":"modal-lg"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Despesas ")]},proxy:!0},{key:"body",fn:function(){return[t("h4",{staticClass:"text-center fw-bold text-secondary mb-5 mt-4 horizontal-line"},[t("span",[e._v(e._s(e.getFormattedData))])]),e.value&&e.date?t("ExpensesTypesOverview",{attrs:{date:e.date}}):e._e(),t("div",{staticClass:"text-end mt-3"},[t("AppButton",{attrs:{color:"light","btn-class":"fw-bold","data-bs-dismiss":"modal"}},[e._v(" Fechar ")])],1)]},proxy:!0}])},e.$listeners))},ae=[],se=n(ee,te,ae,!1,null,null,null,null);const ne=se.exports,le={components:{DailyCashDetailedFlowItems:K,DailyCashDetailedFlowPaginate:Y,DailyCashExpensesModal:ne},apollo:{dailyCashDetailedFlow(){return{query:f,variables(){return{page:this.page,date:this.date}},skip:!0}}},data(){return{collapse:!1,dailyCashDetailedFlow:[],expensesModal:{value:!1,date:""},page:1,date:"",roles:r,icons:{faReceipt:p,faSearch:_}}},computed:{isQueryLoading(){return!!this.$apollo.queries.dailyCashDetailedFlow.loading},datePaginationInterval(){if(!this.dailyCashDetailedFlow.length)return;const s=u(this.dailyCashDetailedFlow),e=y(this.dailyCashDetailedFlow),t=l(s.date,"LLLL 'de' y")+" - "+l(e.date,"LLLL 'de' y");return m(this.date)?t.toUpperCase():v.fromFormat(`01/${this.date}`,"dd/MM/y",{locale:"pt-br"}).toFormat("LLLL 'de' y").toUpperCase()}},methods:{onInputCollapse(s){s&&(this.$apollo.queries.dailyCashDetailedFlow.skip=!1)},paginate(s){if(s==="next"){this.page--;return}if(s==="previous"){this.page++;return}},openExpensesModal(s){this.expensesModal.date=s,this.expensesModal.value=!0},onModalClose(){this.expensesModal.value=!1,this.expensesModal.date=""}}};var ie=function(){var e=this,t=e._self._c;return t("AppContainer",{attrs:{collapsible:""},on:{input:e.onInputCollapse},scopedSlots:e._u([{key:"title",fn:function(){return[t("FontAwesomeIcon",{attrs:{icon:e.icons.faReceipt,"fixed-width":""}}),e._v(" "+e._s(e.$helpers.canView(e.roles.GERENCIA)?"Fluxo detalhado":"Pendências")+" ")]},proxy:!0},{key:"body",fn:function(){return[t("div",{staticClass:"position-relative"},[t("AppLoading",{directives:[{name:"show",rawName:"v-show",value:e.isQueryLoading,expression:"isQueryLoading"}]}),t("DailyCashExpensesModal",{attrs:{date:e.expensesModal.date},on:{hidden:e.onModalClose},model:{value:e.expensesModal.value,callback:function(a){e.$set(e.expensesModal,"value",a)},expression:"expensesModal.value"}}),t("DailyCashDetailedFlowPaginate",e._b({on:{paginate:e.paginate},model:{value:e.date,callback:function(a){e.date=a},expression:"date"}},"DailyCashDetailedFlowPaginate",{page:e.page,date:e.date,datePaginationInterval:e.datePaginationInterval},!1)),e._l(e.dailyCashDetailedFlow,function(a){return t("DailyCashDetailedFlowItems",{key:a.date,staticClass:"mb-3",attrs:{item:a},on:{"open-pendency-orders":function(d){return e.$emit("open-pendency-orders",d)},"open-expenses-modal":e.openExpensesModal}})})],2)]},proxy:!0}]),model:{value:e.collapse,callback:function(a){e.collapse=a},expression:"collapse"}})},re=[],oe=n(le,ie,re,!1,null,null,null,null);const Me=oe.exports;export{Me as default};
