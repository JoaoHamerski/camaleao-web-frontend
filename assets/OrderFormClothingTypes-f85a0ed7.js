import{n as u,bN as a,r as l,M as n,i as c}from"./index-4e05606f.js";import{a as m,b as p}from"./masks-168ccaff.js";import{a as d}from"./OrderForm-019f90d9.js";import"./Order-ebd7beca.js";import"./_PaginatorFragment-c01a3fe7.js";import"./ActivityFragments-a3df58d3.js";import"./GarmentMatch-c1c5c90c.js";import"./Resources-b591129f.js";import"./filesMixin-04d56c50.js";import"./filter-bdbeaf8b.js";import"./pasteFilesMixin-1129ca11.js";import"./truncate-000a7a5d.js";import"./Via-eb0eedf9.js";import"./sumBy-00ae31b9.js";import"./omit-49c12860.js";import"./pick-1b0437b0.js";import"./_basePickBy-93d1e714.js";const f={components:{OrderFormValuesFinal:d},props:{clothingTypes:{type:Array,default:()=>[]},form:{type:Object,required:!0},isEdit:{type:Boolean,default:!1},order:{type:Object,default:()=>({})},isOrderPreRegistered:{type:Boolean,default:!1}},data(){return{maskCurrencyBRL:m({numeralPositiveOnly:!0}),maskInteger:p({delimiter:"",numeralDecimalScale:0})}},computed:{totalQuantity(){return this.clothingTypes.reduce((s,t,e)=>(a(this.form.clothing_types[e].value,",")>0&&(s+=+this.form.clothing_types[e].quantity),s),0)},totalValue(){const s=this.clothingTypes.reduce((t,e,r)=>(this.form.clothing_types[r].quantity>0&&(t+=a(this.evaluateTotalType(r),",")),t),0);return l(s)},isSomeFieldFilled(){return this.form.clothing_types.some((s,t)=>this.isValidType(t))},finalValue(){const s=a(this.totalValue,","),t=a(this.form.discount,","),e=a(this.form.shipping_value,","),r=n(s+e-t,2);return this.isSomeFieldFilled?l(r):"R$ "},showPreRegisterPriceInfo(){return!c(this.order)&&this.isOrderPreRegistered&&this.order.price!==null}},methods:{isEmpty:c,isValidType(s){const t=a(this.form.clothing_types[s].value,",");return this.form.clothing_types[s].quantity>0&&t>0},evaluateTotalType(s){const t=a(this.form.clothing_types[s].value,","),e=this.form.clothing_types[s].quantity,r=n(e*t,2);return l(r)}}};var v=function(){var t=this,e=t._self._c;return e("AppContainer",{attrs:{color:t.form.errors.get("price")?"danger":"primary"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Valores ")]},proxy:!0},{key:"body",fn:function(){return[e("div",{staticClass:"mt-3 clothing-types-group",class:t.form.errors.get("price")&&"is-invalid"},[t.showPreRegisterPriceInfo?[e("div",{staticClass:"small text-warning mb-3"},[t._v(" Pedido pré-registrado com o valor de "),e("span",{staticClass:"fw-bold"},[t._v(t._s(t.$helpers.toBRL(t.order.original_price)))])])]:t._e(),e("div",[e("div",{staticClass:"row d-none d-sm-flex mb-3 text-secondary"},[e("div",{staticClass:"col"}),e("div",{staticClass:"col text-center fw-bold",class:t.form.errors.get("price")&&"text-danger"},[t._v(" QUANTIDADE ")]),e("div",{staticClass:"col text-center fw-bold",class:t.form.errors.get("price")&&"text-danger"},[t._v(" VALOR UNIT. ")]),e("div",{staticClass:"col text-center fw-bold"},[t._v(" TOTAL ")])]),t._l(t.clothingTypes,function(r,i){return e("div",{key:r.key,staticClass:"d-flex row flex-column flex-sm-row"},[e("div",{staticClass:"col text-center text-sm-start mb-2 mb-sm-0 text-subtitle fw-bold",class:t.isValidType(i)&&"text-success"},[t._v(" "+t._s(r.name)+" ")]),e("div",{staticClass:"col"},[e("AppInput",{attrs:{value:t.form.clothing_types[i].quantity,name:"quantity_"+r.key,mask:t.maskInteger,numeric:"",hint:t.$isMobile?"Quantidade":""},on:{input:function(o){return t.form.set({[`clothing_types[${i}].quantity`]:o})},focus:function(o){return t.form.errors.clear("price")}}})],1),e("div",{staticClass:"col"},[e("AppInput",{attrs:{value:t.form.clothing_types[i].value,mask:t.maskCurrencyBRL,name:"value_"+r.key,hint:t.$isMobile?"Valor unitário":"",numeric:""},on:{input:function(o){return t.form.set({[`clothing_types[${i}].value`]:o})},focus:function(o){return t.form.errors.clear("price")}}})],1),e("div",{staticClass:"col"},[e("AppInput",{attrs:{value:t.evaluateTotalType(i),name:"total_"+r.key,hint:t.$isMobile?"Total":"",disabled:""}})],1)])}),e("hr",{staticClass:"d-block d-sm-none"}),e("div",{staticClass:"row"},[e("div",{staticClass:"col fw-bold text-subtitle d-none d-sm-block"},[t._v(" TOTAL ")]),e("div",{staticClass:"col"},[e("AppInput",{attrs:{"input-class":"fw-bold",value:t.totalQuantity,name:"total_quantity",hint:t.$isMobile?"Quantidade total":"",disabled:""}})],1),e("div",{staticClass:"col d-none d-sm-block"},[e("hr")]),e("div",{staticClass:"col"},[e("AppInput",{attrs:{"input-class":"fw-bold",value:t.totalValue,name:"total_value",hint:t.$isMobile?"Valor total":"",disabled:""}})],1)])],2),e("div",{staticClass:"small text-danger mb-1"},[t._v(" "+t._s(t.form.errors.get("price"))+" ")]),e("small",{staticClass:"text-secondary"},[t._v(" O valor só é estimado quando a "),e("b",[t._v("QUANTIDADE")]),t._v(" e "),e("b",[t._v("VALOR UNIT.")]),t._v(" de um tipo é preenchido. ")]),e("OrderFormValuesFinal",{attrs:{form:t.form,"final-value":t.finalValue,"is-edit":t.isEdit}})],2)]},proxy:!0}])})},y=[],_=u(f,v,y,!1,null,"9436ca78",null,null);const P=_.exports;export{P as default};
