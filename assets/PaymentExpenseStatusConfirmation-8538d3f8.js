import{n as c,a5 as m,J as p,A as d}from"./index-4e05606f.js";import{d as C}from"./Order-ebd7beca.js";import{G as i,a as n}from"./CashFlow-40db983d.js";import{a as o,b as r,c as l}from"./DailyCash-da8f8b01.js";import{A as u}from"./Payment-7f758fb7.js";import{A as f,b as h}from"./Expense-8b8780bc.js";import"./_PaginatorFragment-c01a3fe7.js";import"./ActivityFragments-a3df58d3.js";import"./PaymentExpense-9583d97d.js";const E={ACCEPT:!0,REJECT:!1},g={props:{isExpense:{type:Boolean,required:!0},entry:{type:Object,required:!0}},data(){return{isLoading:"",CONFIRMATION:E,roles:m,icons:{faTimes:p,faCheck:d}}},methods:{async assignPaymentConfirmation(s){try{await this.$apollo.mutate({mutation:u,variables:{id:this.entry.id,confirmation:s},refetchQueries:[C,o,r,i,n,l],awaitRefetchQueries:!0}),this.$helpers.clearCacheFrom({fieldName:"payments"}),this.$toast.success(s?"Pagamento confirmado!":"Pagamento rejeitado!")}catch{this.$toast.error("Ops! Algo deu errado.")}},async assignExpenseConfirmation(s){try{await this.$apollo.mutate({mutation:f,variables:{id:this.entry.id,confirmation:s},refetchQueries:[o,r,i,n,h,l],awaitRefetchQueries:!0}),this.$toast.success(s?"Despesa confirmada!":"Despesa rejeitada!")}catch{this.$toast.error("Ops! Algo deu errado.")}},async assignConfirmation(s){this.isLoading=s,this.isExpense?await this.assignExpenseConfirmation(s):await this.assignPaymentConfirmation(s),this.isLoading=""}}};var A=function(){var e=this,a=e._self._c;return a("div",[e.$helpers.canView(e.roles.GERENCIA)?a("AppButton",{attrs:{loading:e.isLoading===e.CONFIRMATION.ACCEPT,disabled:e.isLoading===e.CONFIRMATION.REJECT,icon:e.icons.faCheck,color:"success","btn-class":"btn-sm px-3",tooltip:"Confirmar",outlined:""},on:{click:function(t){return t.preventDefault(),e.assignConfirmation(e.CONFIRMATION.ACCEPT)}}}):e._e(),e.$helpers.canView(e.roles.GERENCIA,e.roles.ATENDIMENTO)?a("AppButton",{staticClass:"ms-2",attrs:{loading:e.isLoading===e.CONFIRMATION.REJECT,disabled:e.isLoading===e.CONFIRMATION.ACCEPT,icon:e.icons.faTimes,color:"danger","btn-class":"btn-sm px-3",tooltip:"Rejeitar",outlined:""},on:{click:function(t){return t.preventDefault(),e.assignConfirmation(e.CONFIRMATION.REJECT)}}}):e._e()],1)},y=[],T=c(g,A,y,!1,null,null,null,null);const P=T.exports;export{P as default};
