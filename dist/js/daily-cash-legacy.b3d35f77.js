(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[604],{5146:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PaymentsParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Payment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"note"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confirmed_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_confirmed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PaymentsViaParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Via"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PaymentsOrderParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Order"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_owing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_paid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"states"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"client"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_owing"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPayments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"created_at"}},type:{kind:"NamedType",name:{kind:"Name",value:"Date"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pendencies"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"payments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"created_at"},value:{kind:"Variable",name:{kind:"Name",value:"created_at"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"column"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"order"},value:{kind:"EnumValue",value:"DESC"}}]}]}},{kind:"Argument",name:{kind:"Name",value:"pendencies"},value:{kind:"Variable",name:{kind:"Name",value:"pendencies"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsOrderParts"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPaymentsPendencies"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paymentsPendencies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"created_at_payment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePayment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PaymentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paymentCreate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsOrderParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"payments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePayment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PaymentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paymentUpdate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsOrderParts"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConfirmPayment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"confirmation"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paymentConfirm"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"confirmation"},value:{kind:"Variable",name:{kind:"Name",value:"confirmation"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsOrderParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"payments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateDailyPayment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DailyCashInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dailyCashEntry"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsOrderParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"payments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}}],loc:{start:0,end:1760}};n.loc.source={body:"fragment PaymentsParts on Payment {\n  id\n  value\n  date\n  note\n  confirmed_at\n  is_confirmed\n  created_at\n}\n\nfragment PaymentsViaParts on Via {\n  id\n  name\n}\n\nfragment PaymentsOrderParts on Order {\n  id\n  code\n  name\n  total_owing\n  total_paid\n  states\n  client {\n    id\n    name\n    total_owing\n  }\n}\n\nquery GetPayments (\n  $created_at: Date\n  $pendencies: Boolean\n) {\n  payments (\n    created_at: $created_at\n    orderBy: [{column: CREATED_AT order: DESC}]\n    pendencies: $pendencies\n  ) {\n    ...PaymentsParts\n\n    order {\n      ...PaymentsOrderParts\n    }\n\n    via {\n      ...PaymentsViaParts\n    }\n  }\n}\n\nquery GetPaymentsPendencies {\n  paymentsPendencies {\n    created_at_payment\n    total\n  }\n}\n\nmutation CreatePayment ($input: PaymentInput!) {\n  paymentCreate (input: $input) {\n    id\n    order {\n      ...PaymentsOrderParts\n      payments {\n        ...PaymentsParts\n        via {\n          ...PaymentsViaParts\n        }\n      }\n    }\n  }\n}\n\nmutation UpdatePayment ($id: ID! $input: PaymentInput!) {\n  paymentUpdate (id: $id input: $input) {\n    ...PaymentsParts\n    order {\n      ...PaymentsOrderParts\n    }\n    via {\n      ...PaymentsViaParts\n    }\n  }\n}\n\nmutation ConfirmPayment ($id: ID! $confirmation: Boolean!) {\n  paymentConfirm (id: $id confirmation: $confirmation) {\n    id\n    order {\n      ...PaymentsOrderParts\n      payments {\n        ...PaymentsParts\n        via {\n          ...PaymentsViaParts\n        }\n      }\n    }\n  }\n}\n\nmutation CreateDailyPayment ($input: DailyCashInput! ) {\n  dailyCashEntry (input: $input) {\n    ...PaymentsParts\n    order {\n      ...PaymentsOrderParts\n      payments {\n        ...PaymentsParts\n        via {\n          ...PaymentsViaParts\n        }\n      }\n    }\n    via {\n      ...PaymentsViaParts\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var a=e.type;"NamedType"===a.kind&&n.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}function r(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,s=new Set,o=new Set;r.forEach((function(e){o.add(e)}));while(o.size>0){var d=o;o=new Set,d.forEach((function(e){if(!s.has(e)){s.add(e);var n=a[e]||new Set;n.forEach((function(e){o.add(e)}))}}))}return s.forEach((function(n){var a=i(e,n);a&&t.definitions.push(a)})),t}(function(){n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}}))})(),e.exports=n,e.exports.PaymentsParts=r(n,"PaymentsParts"),e.exports.PaymentsViaParts=r(n,"PaymentsViaParts"),e.exports.PaymentsOrderParts=r(n,"PaymentsOrderParts"),e.exports.GetPayments=r(n,"GetPayments"),e.exports.GetPaymentsPendencies=r(n,"GetPaymentsPendencies"),e.exports.CreatePayment=r(n,"CreatePayment"),e.exports.UpdatePayment=r(n,"UpdatePayment"),e.exports.ConfirmPayment=r(n,"ConfirmPayment"),e.exports.CreateDailyPayment=r(n,"CreateDailyPayment")},849:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ClientsForCityModalParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Client"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ClientsForFormsParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Client"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetClientsForCityModal"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NamedType",name:{kind:"Name",value:"QueryClientsWhereWhereConditions"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orderBy"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"QueryClientsOrderByOrderByClause"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clients"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}},{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}},{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"Variable",name:{kind:"Name",value:"orderBy"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paginatorInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"perPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ClientsForCityModalParts"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetClientsForForm"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NamedType",name:{kind:"Name",value:"QueryClientsWhereWhereConditions"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orderBy"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"QueryClientsOrderByOrderByClause"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clients"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}},{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"Variable",name:{kind:"Name",value:"orderBy"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paginatorInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"perPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ClientsForFormsParts"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrdersForForm"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orderBy"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"QueryOrdersOrderByOrderByClause"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NamedType",name:{kind:"Name",value:"QueryOrdersWhereWhereConditions"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orders"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"Variable",name:{kind:"Name",value:"orderBy"}}},{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paginatorInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"perPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_owing"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:1152}};n.loc.source={body:"fragment ClientsForCityModalParts on Client {\n  id\n  name\n  phone\n}\n\nfragment ClientsForFormsParts on Client {\n  id\n  name\n  phone\n}\n\nquery GetClientsForCityModal (\n  $page: Int\n  $where: QueryClientsWhereWhereConditions\n  $orderBy: [QueryClientsOrderByOrderByClause!]\n) {\n  clients (\n    first: 10\n    page: $page\n    where: $where\n    orderBy: $orderBy\n  ) {\n    paginatorInfo {\n      currentPage\n      perPage\n      total\n    }\n\n    data {\n      ...ClientsForCityModalParts\n    }\n  }\n}\n\nquery GetClientsForForm (\n  $where: QueryClientsWhereWhereConditions\n  $orderBy: [QueryClientsOrderByOrderByClause!]\n) {\n  clients (\n    first: 10\n    where: $where\n    orderBy: $orderBy\n  ) {\n    paginatorInfo {\n      currentPage\n      perPage\n      total\n    }\n\n    data {\n      ...ClientsForFormsParts\n    }\n  }\n}\n\nquery GetOrdersForForm (\n  $orderBy: [QueryOrdersOrderByOrderByClause!]\n  $where: QueryOrdersWhereWhereConditions\n) {\n  orders (\n    first: 10\n    orderBy: $orderBy\n    where: $where\n  ) {\n    paginatorInfo {\n      currentPage\n      perPage\n      total\n    }\n\n    data {\n      id\n      name\n      code\n      price\n      total_owing\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var a=e.type;"NamedType"===a.kind&&n.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}function r(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,s=new Set,o=new Set;r.forEach((function(e){o.add(e)}));while(o.size>0){var d=o;o=new Set,d.forEach((function(e){if(!s.has(e)){s.add(e);var n=a[e]||new Set;n.forEach((function(e){o.add(e)}))}}))}return s.forEach((function(n){var a=i(e,n);a&&t.definitions.push(a)})),t}(function(){n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}}))})(),e.exports=n,e.exports.ClientsForCityModalParts=r(n,"ClientsForCityModalParts"),e.exports.ClientsForFormsParts=r(n,"ClientsForFormsParts"),e.exports.GetClientsForCityModal=r(n,"GetClientsForCityModal"),e.exports.GetClientsForForm=r(n,"GetClientsForForm"),e.exports.GetOrdersForForm=r(n,"GetOrdersForForm")},8993:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Ge}});var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"py-5"},[t("TheDailyCashHeader",{staticClass:"mb-2",attrs:{pendencies:e.paymentsPendencies,"active-date":e.formatDatetime(e.paymentsParams.created_at)},on:{"reset-payments":e.resetPayments,"on-new-entry-click":e.onNewEntryClick,"load-pendencies-from-date":e.onLoadPendenciesFromDate}}),t("AppCard",{scopedSlots:e._u([{key:"header",fn:function(){return[t("h6",{staticClass:"fw-bold mb-0"},[t("FontAwesomeIcon",{attrs:{icon:e.icons.faCashRegister,"fixed-width":""}}),e._v(" Caixa Diário ")],1)]},proxy:!0},{key:"body",fn:function(){return[e.isLoading?t("AppLoading"):e._e(),t("DailyPaymentModal",{on:{"on-payment-success":e.onPaymentSuccess},model:{value:e.modalPayment,callback:function(n){e.modalPayment=n},expression:"modalPayment"}}),t("TheDailyCashBody",{attrs:{payments:e.payments,date:e.formatDatetime(e.paymentsParams.created_at,"dd/MM/y")}})]},proxy:!0}])})],1)},i=[],r=t(4367),s=t(1436),o=t(7859),d=t(9490),l=t(5146),m=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("AppModal",e._g({attrs:{id:"dailyPaymentModal",color:"success",value:e.value},scopedSlots:e._u([{key:"title",fn:function(){return[t("h6",{staticClass:"fw-bold mb-0"},[t("FontAwesomeIcon",{attrs:{icon:e.icons.faPlus,"fixed-width":""}}),e._v(" Nova entrada ")],1)]},proxy:!0},{key:"body",fn:function(){return[t("DailyPaymentForm",{on:{success:e.onSuccess}})]},proxy:!0}])},e.$listeners))},c=[],u=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("AppForm",{attrs:{form:e.form,"on-submit":e.onSubmit}},[t("DailyPaymentFormClient",{attrs:{form:e.form}}),t("DailyPaymentFormOrder",{attrs:{form:e.form}}),t("h6",{staticClass:"horizontal-line text-center mt-5 mb-4"},[t("span",{staticClass:"fw-bold"},[e._v("PAGAMENTO")])]),t("div",{staticClass:"row justify-content-between mb-2"},[t("div",{staticClass:"col-7"},[t("AppInput",{attrs:{id:"value",name:"value",value:"R$ ",error:e.form.errors.get("value"),mask:e.maskCurrencyBRL},scopedSlots:e._u([{key:"append",fn:function(){return[e.hasOrder?t("AppButton",{attrs:{tooltip:e.formatCurrencyBRL(e.form.order.id.total_owing),outlined:""},on:{click:function(n){return n.preventDefault(),e.onRestValueClick.apply(null,arguments)}}},[e._v(" Restante ")]):e._e()]},proxy:!0}]),model:{value:e.form.value,callback:function(n){e.$set(e.form,"value",n)},expression:"form.value"}},[e._v(" Valor ")])],1),t("div",{staticClass:"col-5"},[t("AppSimpleSelect",{attrs:{id:"via_id",error:e.form.errors.get("via_id"),name:"via_id",placeholder:"Selecione uma via","value-prop":"id","label-prop":"name",options:e.vias},model:{value:e.form.via_id,callback:function(n){e.$set(e.form,"via_id",n)},expression:"form.via_id"}},[e._v(" Via ")])],1)]),t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("AppButton",{staticClass:"fw-bold",attrs:{color:"success",loading:e.isLoading,block:""},on:{click:function(n){return n.preventDefault(),e.onSubmit.apply(null,arguments)}}},[e._v(" Registrar ")])],1),t("div",{staticClass:"col"},[t("AppButton",{attrs:{color:"light","data-bs-dismiss":"modal",type:"button",block:""}},[e._v(" Cancelar ")])],1)])],1)},v=[],p=t(6198),f=(t(5666),t(8309),t(9697)),k=t(8652),y=t(7226),g=t(1786),h=t(4082),N=t(5539),b=t(1594),C=t(7241),P=function(){var e=this,n=e.$createElement,t=e._self._c||n;return e.form.client.isNew?t("div",{staticClass:"mb-4"},[t("div",{staticClass:"d-flex justify-content-between align-items-center mb-2"},[t("label",{staticClass:"fw-bold form-label",attrs:{for:"client"}},[e._v("Nome do cliente")]),t("AppButton",{staticClass:"fw-bold",attrs:{color:"primary","btn-class":"btn-sm"},on:{click:function(n){return n.preventDefault(),e.toggleClientState.apply(null,arguments)}}},[e._v(" Procurar cliente ")])],1),t("AppInput",{attrs:{id:"client",value:e.form.client.name,error:e.form.errors.get("client.name"),name:"client.name",placeholder:"Nome do cliente"},on:{input:function(n){return e.form.set({"client.name":n})}}})],1):t("div",{staticClass:"mb-4"},[t("div",{staticClass:"d-flex justify-content-between align-items-center mb-2"},[t("label",{staticClass:"fw-bold form-label text-primary",attrs:{for:"client"}},[e._v("Cliente")]),t("AppButton",{staticClass:"fw-bold",attrs:{color:"success","btn-class":"btn-sm"},on:{click:function(n){return n.preventDefault(),e.toggleClientState.apply(null,arguments)}}},[e._v(" Cadastrar novo ")])],1),t("AppSelect",{attrs:{value:e.form.client.id,name:"client",placeholder:"Procure por nome ou telefone",error:e.form.errors.get("client.id"),"custom-label":e.customLabelClients,searchable:!0,"internal-search":!1,options:e.clients.items,loading:e.clients.isLoading},on:{input:function(n){return e.form.set({"client.id":n})},open:function(n){return e.form.errors.clear("client.id")},"search-change":e.asyncFindClients,remove:e.removeCurrentOrder,select:e.removeCurrentOrder},scopedSlots:e._u([{key:"noOptions",fn:function(){return[e._v(" Faça uma busca para exibir resultados ")]},proxy:!0},{key:"noResult",fn:function(){return[e._v(" Nenhum cliente encontrado, "),t("a",{staticClass:"fw-bold text-decoration-none",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),e.toggleClientState.apply(null,arguments)}}},[e._v("cadastrar novo")])]},proxy:!0}],null,!1,1258252843)})],1)},S=[],F=(t(6755),t(2222),t(849)),_=t(1926),w=function(e){return e.startsWith("(")?{column:"PHONE",operator:"LIKE",value:"".concat((0,_.WY)(e),"%")}:(0,_.kE)(e)?{column:"PHONE",operator:"LIKE",value:"%".concat(e,"%")}:{column:"NAME",operator:"LIKE",value:"%".concat(e,"%")}},D={props:{form:{type:Object,required:!0}},data:function(){return{clients:{isLoading:!1,items:[]}}},methods:{removeCurrentOrder:function(){this.form.set({"order.id":""})},toggleClientState:function(){this.form.client.isNew||this.form.set({"client.id":"","order.id":""}),this.form.set({"client.isNew":!this.form.client.isNew}),this.form.set({"order.isNew":this.form.client.isNew})},customLabelClients:function(e){var n=e.name,t=e.phone;return"".concat(n," ").concat(t?" - "+(0,o.CN)(t):"")},asyncFindClients:function(e){var n=this;return(0,p.Z)(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.length){t.next=3;break}return n.clients.items=[],t.abrupt("return");case 3:return n.clients.isLoading=!0,t.next=6,n.$apollo.query({query:F.GetClientsForForm,variables:{where:w(e),page:1}});case 6:a=t.sent,i=a.data.clients.data,n.clients.isLoading=!1,n.clients.items=i;case 10:case"end":return t.stop()}}),t)})))()}}},x=D,E=t(1001),O=(0,E.Z)(x,P,S,!1,null,null,null),B=O.exports,A=function(){var e=this,n=e.$createElement,t=e._self._c||n;return e.form.order.isNew?t("div",[t("div",{staticClass:"d-flex justify-content-between align-items-center mb-2"},[t("label",{staticClass:"fw-bold form-label mb-2",attrs:{for:"order"}},[e._v("Código do pedido")]),e.clientExists&&!e.form.isNewClient?t("AppButton",{staticClass:"fw-bold",attrs:{color:"primary","btn-class":"btn-sm"},on:{click:function(n){return n.preventDefault(),e.toggleOrderState.apply(null,arguments)}}},[e._v(" Procurar pedido ")]):e._e()],1),t("AppInput",{attrs:{id:"order",value:e.form.order.code,error:e.form.errors.get("order.code"),name:"order.code",placeholder:"Digite o cód. do pedido..."},on:{input:function(n){return e.form.set({"order.code":n})}}}),t("AppInput",{attrs:{id:"price",value:e.form.order.price,error:e.form.errors.get("order.price"),name:"order.price",mask:e.maskCurrencyBRL},on:{input:function(n){return e.form.set({"order.price":n})}}},[e._v(" Valor ")]),t("AppCheckbox",{attrs:{id:"reminderCheckbox"},model:{value:e.hasReminder,callback:function(n){e.hasReminder=n},expression:"hasReminder"}},[e._v(" Adicionar lembrete "),t("FontAwesomeIcon",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ms-1 text-primary",attrs:{content:"Adicione uma anotação para lembrar do pedido na página de pedidos",icon:e.icons.faQuestionCircle}})],1),e.hasReminder?[t("AppInput",{attrs:{id:"reminder",value:e.form.order.reminder,name:"reminder",placeholder:"Algo que lembre o pedido...",optional:""},on:{input:function(n){return e.form.set({"order.reminder":n})}}},[e._v(" Lembrete ")])]:e._e()],2):t("div",[t("div",{staticClass:"d-flex justify-content-between align-items-center mb-2"},[t("label",{staticClass:"fw-bold text-primary form-label mb-2",attrs:{for:"order"}},[e._v("Pedido")]),t("AppButton",{attrs:{disabled:!e.clientExists,color:"success","btn-class":"btn-sm fw-bold",tooltip:!e.clientExists&&"Informe o cliente primeiro"},on:{click:function(n){return n.preventDefault(),e.toggleOrderState.apply(null,arguments)}}},[e._v(" Cadastrar novo ")])],1),t("AppSelect",{staticClass:"mb-2",attrs:{value:e.form.order.id,name:"order",placeholder:"Procure pelo código",error:e.form.errors.get("order.id"),"default-margin":!1,"custom-label":e.customLabelOrders,searchable:!0,"internal-search":!1,options:e.orders.items,loading:e.orders.isLoading,disabled:!e.clientExists,tooltip:!e.clientExists&&"Informe o cliente primeiro."},on:{input:function(n){return e.form.set({"order.id":n})},open:function(n){return e.form.errors.clear("order.id")},"search-change":e.asyncFindOrders},scopedSlots:e._u([{key:"noOptions",fn:function(){return[e._v(" Faça uma busca para exibir resultados ")]},proxy:!0},{key:"noResult",fn:function(){return[e._v(" Nenhum pedido encontrado, "),t("a",{staticClass:"fw-bold text-decoration-none",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),e.toggleOrderState.apply(null,arguments)}}},[e._v("cadastrar novo")])]},proxy:!0}],null,!1,3342047923)}),e.form.order.id?t("div",{staticClass:"small text-secondary"},[t("b",[e._v("Faltar pagar: ")]),e._v(" "+e._s(e.formatCurrencyBRL(e.form.order.id.total_owing))+" ")]):e._e()],1)},V=[],$=t(9726),L=(t(7327),t(1539),function(e,n){var t=(null===n||void 0===n?void 0:n.id)||n,a=[{column:"CLIENT_ID",operator:"EQ",value:t},{column:"PRICE",operator:"IS_NOT_NULL"}];return(0,f.Z)(e)||a.push({column:"CODE",operator:"LIKE",value:"%".concat(e,"%")}),{AND:a}}),T={props:{form:{type:Object,required:!0}},data:function(){return{maskCurrencyBRL:(0,h.uP)(),hasReminder:!1,icons:{faQuestionCircle:s.sph},orders:{isLoading:!1,items:[]}}},computed:{clientExists:function(){return"object"===(0,$.Z)(this.form.client.id)&&!(0,f.Z)(this.form.client.id)}},watch:{"form.client.id":{handler:function(){var e=this;return(0,p.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.asyncFillOrders();case 2:case"end":return n.stop()}}),n)})))()}}},methods:{formatCurrencyBRL:o.gv,toggleOrderState:function(){this.form.order.isNew||this.form.set({"order.id":""}),this.form.set({"order.isNew":!this.form.order.isNew})},customLabelOrders:function(e){var n=e.code,t=e.name,a=e.price;return t?"".concat(n," - ").concat(t," - ").concat((0,o.gv)(a)):"".concat(n," - ").concat((0,o.gv)(a))},getOrdersQuery:function(e){return this.$apollo.query({query:F.GetOrdersForForm,variables:{where:L(e,this.form.client.id),orderBy:[{column:"CREATED_AT",order:"DESC"}]}})},asyncFillOrders:function(){var e=this;return(0,p.Z)(regeneratorRuntime.mark((function n(){var t,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=null,e.orders.isLoading=!0,n.next=4,e.getOrdersQuery(t);case 4:a=n.sent,i=a.data.orders.data,e.orders.isLoading=!1,e.orders.items=i.filter((function(e){return e.total_owing>0}));case 8:case"end":return n.stop()}}),n)})))()},asyncFindOrders:function(e){var n=this;return(0,p.Z)(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(0,f.Z)(e)){t.next=4;break}return t.next=3,n.asyncFillOrders();case 3:return t.abrupt("return");case 4:return n.orders.isLoading=!0,t.next=7,n.getOrdersQuery(e);case 7:a=t.sent,i=a.data.orders.data,n.orders.isLoading=!1,n.orders.items=i.filter((function(e){return e.total_owing>0}));case 11:case"end":return t.stop()}}),t)})))()}}},I=T,R=(0,E.Z)(I,A,V,!1,null,null,null),M=R.exports,Z={apollo:{vias:{query:C.vias}},components:{DailyPaymentFormClient:B,DailyPaymentFormOrder:M},data:function(){return{maskCurrencyBRL:(0,h.uP)(),isLoading:!1,form:new N.Z({client:{id:"",name:"",isNew:!1},order:{id:"",code:"",price:"",reminder:"",isNew:!1},value:"",via_id:""})}},computed:{hasOrder:function(){return!(0,f.Z)(this.form.order.id)&&!this.form.order.isNew}},methods:{isEmpty:f.Z,formatCurrencyBRL:o.gv,customLabelVias:function(e){var n=e.name;return n},onRestValueClick:function(){this.form.value=(0,o.gv)(this.form.order.id.total_owing)},getFormattedData:function(){var e=(0,k.Z)(this.form.data());return(0,y.Z)(e.client.id)&&(e.client.id=e.client.id.id),(0,y.Z)(e.order.id)&&(e.order.id=e.order.id.id),e.client=(0,g.Z)(e.client,"isNew"),e.order=(0,g.Z)(e.order,"isNew"),e},onSubmit:function(){var e=this;return(0,p.Z)(regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=e.getFormattedData(),e.isLoading=!0,n.prev=2,n.next=5,e.$apollo.mutate({mutation:l.CreateDailyPayment,variables:{input:t},refetchQueries:[l.GetPayments]});case 5:e.$helpers.clearCacheFrom([{fieldName:"orders"},{fieldName:"clients"}]),(0,b.s)(e,{message:"Entrada registrada!",resetForm:!0}),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](2),(0,b.S)(e,n.t0);case 12:e.isLoading=!1;case 13:case"end":return n.stop()}}),n,null,[[2,9]])})))()}}},q=Z,G=(0,E.Z)(q,u,v,!1,null,null,null),Q=G.exports,j={components:{DailyPaymentForm:Q},props:{value:{type:Boolean,default:!1}},data:function(){return{icons:{faPlus:s.r8p}}},methods:{onSuccess:function(){this.$emit("on-payment-success")}}},W=j,U=(0,E.Z)(W,m,c,!1,null,null,null),z=U.exports,H=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("PendenciesModal",{attrs:{pendencies:e.pendencies,"active-date":e.activeDate},on:{"load-pendencies-from-date":e.onLoadPendenciesFromDate},model:{value:e.pendenciesModal,callback:function(n){e.pendenciesModal=n},expression:"pendenciesModal"}}),t("div",{staticClass:"d-flex flex-column flex-sm-row justify-content-between align-items-sm-center"},[t("AppButton",{staticClass:"fw-bold mb-2 mb-sm-0",attrs:{block:e.$isMobile,color:"success","btn-class":"btn-lg",icon:e.icons.faPlus},on:{click:function(n){return e.$emit("on-new-entry-click")}}},[e._v(" Nova entrada ")]),t("div",{staticClass:"d-flex"},[t("AppButton",{staticClass:"flex-grow-1 fw-bold",attrs:{color:"warning"},on:{click:e.onPendenciesClick}},[e._v(" Pendências "),t("span",{staticClass:"badge rounded-pill bg-light text-dark"},[e._v(e._s(e.totalPendencies))])]),t("AppButton",{staticClass:"ms-1",attrs:{icon:e.icons.faSyncAlt,outlined:""},on:{click:e.onResetPaymentsClick}})],1)],1)],1)},K=[],J=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("AppModal",e._g({attrs:{id:"pendenciesModal",value:e.value,centered:"",color:"warning",scrollable:""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Pagamentos pendentes ")]},proxy:!0},{key:"body",fn:function(){return[e.pendencies.length?[t("div",{staticClass:"list-group mb-3"},e._l(e.pendencies,(function(n){return t("a",{key:n.created_at_payment,staticClass:"list-group-item list-group-item-action d-flex justify-content-between link-primary",class:{"active text-white":e.isActiveListItem(n.created_at_payment,e.activeDate)},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onPendencyClick(n.created_at_payment)}}},[t("div",{staticClass:"fw-bold"},[e._v(" "+e._s(e.formatDatetime(n.created_at_payment))+" ")]),t("span",{staticClass:"badge bg-primary align-self-center py-2",class:{"bg-light text-primary":e.isActiveListItem(n.created_at_payment,e.activeDate)}},[e._v(e._s(n.total))])])})),0)]:t("div",{staticClass:"text-center text-secondary my-5"},[e._v(" Sem pagamentos pendentes ")])]},proxy:!0},{key:"footer",fn:function(){return[t("div",{staticClass:"d-flex justify-content-end"},[t("AppButton",{attrs:{color:"light","data-bs-dismiss":"modal"}},[e._v(" Fechar ")])],1)]},proxy:!0}])},e.$listeners))},Y=[],X={props:{value:{type:Boolean,default:!1},pendencies:{type:Array,default:function(){return[]}},activeDate:{type:String,required:!0}},methods:{formatDatetime:o.DZ,isActiveListItem:function(e,n){return(0,o.DZ)(e)===n},onPendencyClick:function(e){this.$emit("load-pendencies-from-date",e)}}},ee=X,ne=(0,E.Z)(ee,J,Y,!1,null,null,null),te=ne.exports,ae={components:{PendenciesModal:te},props:{pendencies:{type:Array,default:function(){return[]}},activeDate:{type:String,required:!0}},data:function(){return{pendenciesModal:!1,icons:{faPlus:s.r8p,faSyncAlt:s.d8e}}},computed:{totalPendencies:function(){return(0,f.Z)(this.pendencies)?0:this.pendencies.reduce((function(e,n){return e+n.total}),0)}},methods:{onPendenciesClick:function(){this.pendenciesModal=!0},onLoadPendenciesFromDate:function(e){this.pendenciesModal=!1,this.$emit("load-pendencies-from-date",e)},onResetPaymentsClick:function(){this.$emit("reset-payments")}}},ie=ae,re=(0,E.Z)(ie,H,K,!1,null,null,null),se=re.exports,oe=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("DailyPaymentConfirmationErrorModal",{attrs:{payment:e.modalError.payment},model:{value:e.modalError.value,callback:function(n){e.$set(e.modalError,"value",n)},expression:"modalError.value"}}),t("TheDailyCashBodyDate",{attrs:{date:e.date}}),t("hr",{staticClass:"bg-secondary"}),t("TheDailyCashBodyTable",{attrs:{items:e.payments},on:{"payment-success":e.onDailyPaymentSuccess,"payment-error":e.onDailyPaymentError}})],1)},de=[],le=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("AppModal",e._g({attrs:{id:"dailyPaymentConfirmationErrorModal",value:e.value,color:"danger"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Erro ao confirmar ")]},proxy:!0},{key:"body",fn:function(){return[t("div",{staticClass:"text-center mb-3"},[t("FontAwesomeIcon",{staticClass:"text-danger",attrs:{icon:e.icons.faExclamationCircle,size:"4x"}})],1),t("h5",{staticClass:"text-center fw-bold mb-4"},[e._v(" Não é possível confirmar o pagamento ")]),e.isEmpty(e.payment)?e._e():t("div",{staticClass:"text-center mb-4"},[e._v(" O valor do pagamento "),t("span",{staticClass:"fw-bold"},[e._v("("+e._s(e.formatCurrencyBRL(e.payment.value))+")")]),e._v(" excede o total que falta pagar do pedido "),t("span",{staticClass:"fw-bold"},[e._v("("+e._s(e.formatCurrencyBRL(e.payment.order.total_owing))+").")])]),t("div",{staticClass:"text-center"},[t("AppButton",{attrs:{"btn-class":"fw-bold btn-lg","data-bs-dismiss":"modal"}},[e._v(" OK ")])],1)]},proxy:!0}])},e.$listeners))},me=[],ce={props:{value:{type:Boolean,default:!1},payment:{type:Object,default:function(){return{}}}},data:function(){return{icons:{faExclamationCircle:s.RLE}}},methods:{isEmpty:f.Z,formatCurrencyBRL:o.gv}},ue=ce,ve=(0,E.Z)(ue,le,me,!1,null,null,null),pe=ve.exports,fe=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("AppTable",{attrs:{headers:e.headers,items:e.items,"row-class":e.paymentRowClass},scopedSlots:e._u([{key:"items.order",fn:function(n){var a=n.item;return[t("a",{staticClass:"text-decoration-none fw-bold",attrs:{href:e.$helpers.getUrl(e.orders.show,{client:a.order.client,order:a.order}),target:"_blank"}},[e._v(e._s(a.order.code))])]}},{key:"items.client",fn:function(n){var a=n.item;return[t("a",{staticClass:"text-decoration-none fw-bold",attrs:{href:e.$helpers.getUrl(e.clients.show,{client:a.order.client}),target:"_blank"}},[e._v(e._s(a.order.client.name))])]}},{key:"items.value",fn:function(n){var a=n.item;return[t("span",{staticClass:"fw-bold"},[e._v(e._s(e.formatCurrencyBRL(a.value)))])]}},{key:"items.via",fn:function(n){var t=n.item;return[e._v(" "+e._s(t.via.name)+" ")]}},{key:"headers.checked",fn:function(){return[t("FontAwesomeIcon",{attrs:{icon:e.icons.faClipboardCheck,size:"lg"}})]},proxy:!0},{key:"items.checked",fn:function(n){var a=n.item;return[t("DailyPaymentConfirmation",{attrs:{confirmation:a.is_confirmed,payment:a},on:{success:e.onPaymentSuccess,error:e.onPaymentError}})]}}],null,!0)})},ke=[],ye=t(5781),ge=function(){var e=this,n=e.$createElement,t=e._self._c||n;return e.showConfirmationButtons?t("div",{staticClass:"text-center position-relative"},[t("AppButton",{staticClass:"me-4",attrs:{icon:e.icons.faCheck,color:"success",tooltip:"Confirmar","btn-class":"btn-sm px-3 position-relative",outlined:"",disabled:e.isDisabled,loading:e.loadingConfirmBtn},on:{click:function(n){return n.preventDefault(),e.assignPayment({confirmation:!0})}}},[e.canBeConfirmed(e.payment)?e._e():t("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"position-absolute top-0 start-100 translate-middle px-2 text-white bg-warning border border-light rounded-circle",attrs:{content:"O pagamento não pode ser confirmado"}},[t("FontAwesomeIcon",{attrs:{icon:e.icons.faExclamation,size:"sm"}})],1)]),t("AppButton",{attrs:{icon:e.icons.faTimes,color:"danger",tooltip:"Rejeitar","btn-class":"btn-sm px-3",outlined:"",disabled:e.isDisabled,loading:e.loadingDeclineBtn},on:{click:function(n){return n.preventDefault(),e.assignPayment({confirmation:!1})}}})],1):t("div",{staticClass:"fw-bold"},[!0===e.confirmation?t("div",{staticClass:"text-success"},[t("FontAwesomeIcon",{attrs:{icon:e.icons.faCheck}})],1):null===e.confirmation?t("div",{staticClass:"text-warning"},[t("FontAwesomeIcon",{attrs:{icon:e.icons.faMinus}})],1):!1===e.confirmation?t("div",{staticClass:"text-danger"},[t("FontAwesomeIcon",{attrs:{icon:e.icons.faTimes}})],1):e._e()])},he=[],Ne=t(2776),be={props:{payment:{type:Object,required:!0},confirmation:{type:void 0,required:!0}},data:function(){return{roles:Ne.Z,loadingConfirmBtn:!1,loadingDeclineBtn:!1,modalError:!1,icons:{faCheck:s.LEp,faTimes:s.NBC,faMinus:s.Kl4,faExclamation:s.WV2}}},computed:{isDisabled:function(){return this.loadingConfirmBtn||this.loadingDeclineBtn},showConfirmationButtons:function(){return this.$helpers.canView(Ne.Z.GERENCIA)&&null===this.confirmation},authUser:function(){return this.$store.getters["auth/authUser"]}},methods:{canBeConfirmed:function(e){return e.value<=e.order.total_owing},assignPayment:function(e){var n=this;return(0,p.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.confirmation,n.loadingConfirmBtn=a,n.loadingDeclineBtn=!a,t.prev=3,t.next=6,n.$apollo.mutate({mutation:l.ConfirmPayment,variables:{id:n.payment.id,confirmation:a},refetchQueries:[{query:l.GetPaymentsPendencies}]});case 6:n.$toast.success(a?"Pagamento confirmado!":"Pagamento rejeitado!"),n.$emit("success"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),n.$emit("error",n.payment);case 13:n.loadingDeclineBtn=!1,n.loadingConfirmBtn=!1;case 15:case"end":return t.stop()}}),t,null,[[3,10]])})))()}}},Ce=be,Pe=(0,E.Z)(Ce,ge,he,!1,null,null,null),Se=Pe.exports,Fe={true:"table-success",false:"table-danger",null:"table-warning"},_e={components:{DailyPaymentConfirmation:Se},props:{items:{type:Array,default:function(){return[]}}},data:function(){return{clients:ye.yj,orders:ye.A6,icons:{faClipboardCheck:s.E9T}}},computed:{headers:function(){return[{text:"PEDIDO",value:"order"},{text:"CLIENTE",value:"client"},{text:"VALOR",value:"value",format:"currencyBRL"},{text:"VIA",value:"via"},{text:"REGISTRO ÀS",value:"created_at",format:"datetime",formatting:"HH:mm",align:"center"},{text:"CHECKED",value:"checked",align:"center"}]}},methods:{formatCurrencyBRL:o.gv,paymentRowClass:function(e){return Fe[e.is_confirmed]},onPaymentSuccess:function(){this.$emit("payment-success")},onPaymentError:function(e){this.$emit("payment-error",e)}}},we=_e,De=(0,E.Z)(we,fe,ke,!1,null,null,null),xe=De.exports,Ee=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("h5",{staticClass:"horizontal-line text-center fw-bold mt-3"},[t("span",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:e.selectedDateExtended}},[e._v(e._s(e.selectedDateAbbr))])]),t("div",{staticClass:"small text-secondary text-center"},[e.isSelectedDateToday?t("span",[e._v("Pagamentos de hoje")]):t("span",[e._v("Pagamentos antigos")])])])},Oe=[],Be={props:{date:{type:String,required:!0}},computed:{selectedDateAbbr:function(){return d.ou.fromFormat(this.date,"dd/MM/y").toFormat("dd/MM")},isSelectedDateToday:function(){var e=d.ou.now(),n=d.ou.fromFormat(this.date,"dd/MM/y");return e.hasSame(n,"day")},selectedDateExtended:function(){return d.ou.fromFormat(this.date,"dd/MM/y",{locale:"pt-br"}).toFormat("dd 'de' LLLL 'de' yyyy")}}},Ae=Be,Ve=(0,E.Z)(Ae,Ee,Oe,!1,null,null,null),$e=Ve.exports,Le={components:{TheDailyCashBodyTable:xe,TheDailyCashBodyDate:$e,DailyPaymentConfirmationErrorModal:pe},props:{payments:{type:Array,default:function(){return[]}},date:{type:String,required:!0}},data:function(){return{modalError:{value:!1,payment:{}}}},methods:{onDailyPaymentSuccess:function(){this.$emit("daily-payment-success")},onDailyPaymentError:function(e){this.modalError.payment=e,this.modalError.value=!0}}},Te=Le,Ie=(0,E.Z)(Te,oe,de,!1,null,null,null),Re=Ie.exports,Me={metaInfo:function(){return{title:"Caixa Diário"}},components:{TheDailyCashHeader:se,TheDailyCashBody:Re,DailyPaymentModal:z},apollo:{payments:{query:l.GetPayments,variables:function(){return(0,r.Z)({},this.paymentsParams)}},paymentsPendencies:{query:l.GetPaymentsPendencies}},data:function(){return{payments:[],paymentsPendencies:[],modalPayment:!1,paymentsParams:{created_at:d.ou.now().toISODate(),pendencies:!1},icons:{faCashRegister:s.J4t}}},computed:{isLoading:function(){return!!this.$apollo.queries.payments.loading}},methods:{formatDatetime:o.DZ,onLoadPendenciesFromDate:function(e){this.paymentsParams.pendencies=!0,this.paymentsParams.created_at=e},onNewEntryClick:function(){this.modalPayment=!0},onPaymentSuccess:function(){this.modalPayment=!1},resetPayments:function(){this.paymentsParams.pendencies=!1,this.paymentsParams.created_at=d.ou.now().toISODate(),this.$apollo.queries.payments.refetch(),this.$apollo.queries.paymentsPendencies.refetch()}}},Ze=Me,qe=(0,E.Z)(Ze,a,i,!1,null,null,null),Ge=qe.exports},6755:function(e,n,t){"use strict";var a=t(2109),i=t(1702),r=t(1236).f,s=t(7466),o=t(1340),d=t(3929),l=t(4488),m=t(4964),c=t(1913),u=i("".startsWith),v=i("".slice),p=Math.min,f=m("startsWith"),k=!c&&!f&&!!function(){var e=r(String.prototype,"startsWith");return e&&!e.writable}();a({target:"String",proto:!0,forced:!k&&!f},{startsWith:function(e){var n=o(l(this));d(e);var t=s(p(arguments.length>1?arguments[1]:void 0,n.length)),a=o(e);return u?u(n,a,t):v(n,t,t+a.length)===a}})}}]);
//# sourceMappingURL=daily-cash-legacy.b3d35f77.js.map