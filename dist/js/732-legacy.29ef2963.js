"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[732],{3732:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppModal",e._g({attrs:{id:"expensesTypesModal",value:e.value,centered:""},scopedSlots:e._u([{key:"title",fn:function(){return[n("FontAwesomeIcon",{attrs:{icon:e.icons.faList,"fixed-width":""}}),e._v(" Gerenciar tipos de despesas ")]},proxy:!0},{key:"body",fn:function(){return[n("AppForm",{attrs:{form:e.form,"on-submit":e.onCreate}},[n("AppInput",{attrs:{name:"name",placeholder:"Nome do tipo de despesa...",error:e.form.errors.get("name")},scopedSlots:e._u([{key:"append",fn:function(){return[n("AppButton",{attrs:{type:"submit",outlined:"",loading:e.isLoadingCreate},on:{click:function(t){return t.preventDefault(),e.onCreate.apply(null,arguments)}}},[e._v(" Adicionar ")])]},proxy:!0}]),model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("ul",{staticClass:"list-group"},e._l(e.expenseTypes,(function(t){return n("li",{key:t.id,staticClass:"list-group-item d-flex justify-content-between align-items-center"},[e.editingType===t?[n("AppForm",{staticClass:"w-100",attrs:{form:e.editForm,"on-submit":e.onUpdate}},[n("AppInput",{staticClass:"col",attrs:{name:"name",placeholder:"Nome do tipo de despesa...",error:e.editForm.errors.get("name"),"default-margin":!1},scopedSlots:e._u([{key:"append",fn:function(){return[n("AppButton",{attrs:{type:"submit",outlined:"",loading:e.isLoadingEdit},on:{click:function(t){return t.preventDefault(),e.onUpdate.apply(null,arguments)}}},[e._v(" Atualizar ")])]},proxy:!0}],null,!0),model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1)]:[n("div",[e._v(e._s(t.name))]),n("AppButton",{attrs:{outlined:"","btn-class":"btn-sm",tooltip:"Editar",icon:e.icons.faEdit},on:{click:function(n){return n.preventDefault(),e.onEditExpenseType(t)}}})]],2)})),0),n("div",{staticClass:"d-flex mt-3"},[n("AppButton",{staticClass:"ms-auto",attrs:{color:"light","data-bs-dismiss":"modal"}},[e._v(" Fechar ")])],1)]},proxy:!0}])},e.$listeners))},a=[],i=n(4367),o=n(6198),s=(n(5666),n(8309),n(9697)),p=n(1436),u=n(5539),d=n(1594),l=n(1261),c={props:{value:{type:Boolean,default:!1},expenseTypes:{type:Array,default:function(){return[]}}},data:function(){return{icons:{faList:p.Zrf,faEdit:p.Xcf},isLoadingCreate:!1,form:new u.Z({name:""}),isLoadingEdit:!1,editForm:new u.Z({name:""}),editingType:{}}},methods:{isEmpty:s.Z,onEditExpenseType:function(e){this.editingType=e,this.editForm.reset(),this.editForm.name=e.name},onCreate:function(){var e=this;return(0,o.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=(0,i.Z)({},e.form.data()),e.isLoadingCreate=!0,t.prev=2,t.next=5,e.$apollo.mutate({mutation:l.CreateExpenseType,variables:{input:n},refetchQueries:["GetExpenseTypes"]});case 5:(0,d.s)(e,{message:"Tipo de despesa registrado!",resetForm:!0}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),(0,d.S)(e,t.t0);case 11:e.isLoadingCreate=!1;case 12:case"end":return t.stop()}}),t,null,[[2,8]])})))()},onUpdate:function(){var e=this;return(0,o.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=(0,i.Z)({},e.editForm.data()),e.isLoadingEdit=!0,t.prev=2,t.next=5,e.$apollo.mutate({mutation:l.UpdateExpenseType,variables:{id:e.editingType.id,input:n}});case 5:(0,d.s)(e,{message:"Tipo de despesa atualizado!",formProp:"editForm",resetForm:!0}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),(0,d.S)(e,t.t0);case 11:e.isLoadingEdit=!1,e.editingType={};case 13:case"end":return t.stop()}}),t,null,[[2,8]])})))()}}},m=c,f=n(1001),y=(0,f.Z)(m,r,a,!1,null,null,null),g=y.exports}}]);
//# sourceMappingURL=732-legacy.29ef2963.js.map