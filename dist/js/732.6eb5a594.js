"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[732],{3732:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppModal",e._g({attrs:{id:"expensesTypesModal",value:e.value,centered:""},scopedSlots:e._u([{key:"title",fn:function(){return[n("FontAwesomeIcon",{attrs:{icon:e.icons.faList,"fixed-width":""}}),e._v(" Gerenciar tipos de despesas ")]},proxy:!0},{key:"body",fn:function(){return[n("AppForm",{attrs:{form:e.form,"on-submit":e.onCreate}},[n("AppInput",{attrs:{name:"name",placeholder:"Nome do tipo de despesa...",error:e.form.errors.get("name")},scopedSlots:e._u([{key:"append",fn:function(){return[n("AppButton",{attrs:{type:"submit",outlined:"",loading:e.isLoadingCreate},on:{click:function(t){return t.preventDefault(),e.onCreate.apply(null,arguments)}}},[e._v(" Adicionar ")])]},proxy:!0}]),model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("ul",{staticClass:"list-group"},e._l(e.expenseTypes,(function(t){return n("li",{key:t.id,staticClass:"list-group-item d-flex justify-content-between align-items-center"},[e.editingType===t?[n("AppForm",{staticClass:"w-100",attrs:{form:e.editForm,"on-submit":e.onUpdate}},[n("AppInput",{staticClass:"col",attrs:{name:"name",placeholder:"Nome do tipo de despesa...",error:e.editForm.errors.get("name"),"default-margin":!1},scopedSlots:e._u([{key:"append",fn:function(){return[n("AppButton",{attrs:{type:"submit",outlined:"",loading:e.isLoadingEdit},on:{click:function(t){return t.preventDefault(),e.onUpdate.apply(null,arguments)}}},[e._v(" Atualizar ")])]},proxy:!0}],null,!0),model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1)]:[n("div",[e._v(e._s(t.name))]),n("AppButton",{attrs:{outlined:"","btn-class":"btn-sm",tooltip:"Editar",icon:e.icons.faEdit},on:{click:function(n){return n.preventDefault(),e.onEditExpenseType(t)}}})]],2)})),0),n("div",{staticClass:"d-flex mt-3"},[n("AppButton",{staticClass:"ms-auto",attrs:{color:"light","data-bs-dismiss":"modal"}},[e._v(" Fechar ")])],1)]},proxy:!0}])},e.$listeners))},s=[],a=n(9697),o=n(1436),r=n(5539),p=n(1594),d=n(1261),l={props:{value:{type:Boolean,default:!1},expenseTypes:{type:Array,default:()=>[]}},data(){return{icons:{faList:o.Zrf,faEdit:o.Xcf},isLoadingCreate:!1,form:new r.Z({name:""}),isLoadingEdit:!1,editForm:new r.Z({name:""}),editingType:{}}},methods:{isEmpty:a.Z,onEditExpenseType(e){this.editingType=e,this.editForm.reset(),this.editForm.name=e.name},async onCreate(){const e={...this.form.data()};this.isLoadingCreate=!0;try{await this.$apollo.mutate({mutation:d.CreateExpenseType,variables:{input:e},refetchQueries:["GetExpenseTypes"]}),(0,p.s)(this,{message:"Tipo de despesa registrado!",resetForm:!0})}catch(t){(0,p.S)(this,t)}this.isLoadingCreate=!1},async onUpdate(){const e={...this.editForm.data()};this.isLoadingEdit=!0;try{await this.$apollo.mutate({mutation:d.UpdateExpenseType,variables:{id:this.editingType.id,input:e}}),(0,p.s)(this,{message:"Tipo de despesa atualizado!",formProp:"editForm",resetForm:!0})}catch(t){(0,p.S)(this,t)}this.isLoadingEdit=!1,this.editingType={}}}},u=l,m=n(1001),c=(0,m.Z)(u,i,s,!1,null,null,null),f=c.exports}}]);
//# sourceMappingURL=732.6eb5a594.js.map