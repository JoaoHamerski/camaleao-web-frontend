(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[652],{2951:function(e,i,n){var a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CommissionParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Commission"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"print_commission"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"seam_commission"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"seam_total_commission"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"print_total_commission"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"CommissionUserParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommissionUser"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commission_value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confirmed_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"was_quantity_changed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"role"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"CommissionOrderParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Order"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"art_paths"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size_paths"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updated_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"client"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAuthUserCommissions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commissionsUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paginatorInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaginatorSimpleParts"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommissionParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"pivot"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommissionUserParts"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommissionOrderParts"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetUsersCommissions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NamedType",name:{kind:"Name",value:"QueryCommissionsUsersWhereWhereConditions"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orderBy"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"QueryCommissionsUsersOrderByOrderByClause"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commissionsUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}},{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}},{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"Variable",name:{kind:"Name",value:"orderBy"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paginatorInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaginatorSimpleParts"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commission"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommissionParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommissionOrderParts"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"CommissionUserParts"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMonthCommissionByRole"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"role_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"month"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commissionRoleByMonth"},arguments:[{kind:"Argument",name:{kind:"Name",value:"role_id"},value:{kind:"Variable",name:{kind:"Name",value:"role_id"}}},{kind:"Argument",name:{kind:"Name",value:"month"},value:{kind:"Variable",name:{kind:"Name",value:"month"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"year"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"role"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpsertCommissionValue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"value"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commissionValueUpsert"},arguments:[{kind:"Argument",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"value"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConfirmCommissionProduction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commissionConfirmProduction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommissionParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"pivot"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommissionUserParts"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommissionOrderParts"},directives:[]}]}}]}}]}}],loc:{start:0,end:1784}};a.loc.source={body:'#import "./_PaginatorFragment.gql"\n\nfragment CommissionParts on Commission {\n  id\n  print_commission\n  seam_commission\n  seam_total_commission\n  print_total_commission\n}\n\nfragment CommissionUserParts on CommissionUser {\n  id\n  commission_value\n  confirmed_at\n  was_quantity_changed\n  role {\n    id\n    name\n  }\n}\n\nfragment CommissionOrderParts on Order {\n  id\n  code\n  quantity\n  art_paths\n  size_paths\n  created_at\n  updated_at\n  client {\n    id\n  }\n}\n\nquery GetAuthUserCommissions ($page: Int) {\n  commissionsUser (page: $page first: 10) {\n    paginatorInfo {\n      ...PaginatorSimpleParts\n    }\n\n    data {\n      ...CommissionParts\n      pivot {\n        ...CommissionUserParts\n      }\n      order {\n        ...CommissionOrderParts\n      }\n    }\n  }\n}\n\nquery GetUsersCommissions (\n  $page: Int\n  $where: QueryCommissionsUsersWhereWhereConditions\n  $orderBy: [QueryCommissionsUsersOrderByOrderByClause!]\n) {\n  commissionsUsers (first: 10 page: $page where: $where orderBy: $orderBy) {\n    paginatorInfo {\n      ...PaginatorSimpleParts\n    }\n\n    data {\n      id\n      user {\n        id\n        name\n      }\n\n      commission {\n        ...CommissionParts\n        order {\n          ...CommissionOrderParts\n        }\n      }\n      ...CommissionUserParts\n    }\n  }\n}\n\nquery GetMonthCommissionByRole ($role_id: ID $month: String!) {\n  commissionRoleByMonth (role_id: $role_id month: $month) {\n    month\n    year\n    value\n    role {\n      id\n      name\n    }\n  }\n}\n\nmutation UpsertCommissionValue($value: String!) {\n  commissionValueUpsert(value: $value)\n}\n\nmutation ConfirmCommissionProduction ($id: ID!) {\n  commissionConfirmProduction (id: $id) {\n      ...CommissionParts\n      pivot {\n        ...CommissionUserParts\n      }\n      order {\n        ...CommissionOrderParts\n      }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function s(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var i=e.name.value;return!t[i]&&(t[i]=!0,!0)}))}function o(e,i){if("FragmentSpread"===e.kind)i.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&i.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,i)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,i)})),e.definitions&&e.definitions.forEach((function(e){o(e,i)}))}a.definitions=a.definitions.concat(s(n(4163).definitions));var m={};function r(e,i){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==i)return a}}function d(e,i){var n={kind:e.kind,definitions:[r(e,i)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=m[i]||new Set,t=new Set,s=new Set;a.forEach((function(e){s.add(e)}));while(s.size>0){var o=s;s=new Set,o.forEach((function(e){if(!t.has(e)){t.add(e);var i=m[e]||new Set;i.forEach((function(e){s.add(e)}))}}))}return t.forEach((function(i){var a=r(e,i);a&&n.definitions.push(a)})),n}(function(){a.definitions.forEach((function(e){if(e.name){var i=new Set;o(e,i),m[e.name.value]=i}}))})(),e.exports=a,e.exports.CommissionParts=d(a,"CommissionParts"),e.exports.CommissionUserParts=d(a,"CommissionUserParts"),e.exports.CommissionOrderParts=d(a,"CommissionOrderParts"),e.exports.GetAuthUserCommissions=d(a,"GetAuthUserCommissions"),e.exports.GetUsersCommissions=d(a,"GetUsersCommissions"),e.exports.GetMonthCommissionByRole=d(a,"GetMonthCommissionByRole"),e.exports.UpsertCommissionValue=d(a,"UpsertCommissionValue"),e.exports.ConfirmCommissionProduction=d(a,"ConfirmCommissionProduction")},5687:function(e,i,n){"use strict";n.d(i,{Z:function(){return u}});var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("AppModal",e._g({attrs:{id:"commissionModal",value:e.value,"modal-dialog-class":"modal-fullscreen","modal-body-class":"px-0 h-100 d-flex align-items-center"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Comissão ")]},proxy:!0},{key:"body",fn:function(){return[e.isEmpty(e.commission)?e._e():n("CommissionDetails",{staticClass:"img-thumbnail",attrs:{commission:e.commission.commission,role:e.commission.role}})]},proxy:!0},{key:"footer",fn:function(){return[n("AppButton",{attrs:{"data-bs-dismiss":"modal",block:"","btn-class":"fw-bold"}},[e._v(" Fechar ")])]},proxy:!0}])},e.$listeners))},t=[],s=n(9697),o=n(5321),m={components:{CommissionDetails:o.Z},props:{value:{type:Boolean,default:!1},commission:{type:Object,default:function(){return{}}}},methods:{isEmpty:s.Z}},r=m,d=n(1001),l=(0,d.Z)(r,a,t,!1,null,null,null),u=l.exports},5321:function(e,i,n){"use strict";n.d(i,{Z:function(){return h}});var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",[n("div",{staticClass:"bg-success text-white px-3 py-2"},[n("h6",{staticClass:"fw-bold mb-0"},[e._v(" Detalhes da comissão ")]),n("div",{staticClass:"text-uppercase"},[n("small",[e._v(e._s(e.roleName))])])]),n("div",{staticClass:"bg-light"},[e.isPrintCommission?[n("CommissionDetailsPrint",{attrs:{commission:e.commission}})]:[n("CommissionDetailsSeam",{attrs:{commission:e.commission}})]],2)])},t=[],s=(n(8309),n(2776)),o=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",[n("AppTable",{attrs:{headers:e.headers,items:e.clothingCommissions},scopedSlots:e._u([{key:"items.total",fn:function(i){var n=i.item;return[e._v(" "+e._s(e.$helpers.toBRL(e.evaluateCommissionPerClothing(n.commission,n.quantity)))+" ")]}},{key:"bodyAppend",fn:function(){return[n("tr",{staticClass:"text-start fw-bold"},[n("td",{attrs:{colspan:"3",nowrap:""}},[e._v(" TOTAL ")]),n("td",{attrs:{nowrap:""}},[e._v(" "+e._s(e.$helpers.toBRL(e.commission.seam_total_commission))+" ")])])]},proxy:!0}],null,!0)})],1)},m=[],r=(n(6977),{props:{commission:{type:Object,default:null}},computed:{clothingCommissions:function(){return JSON.parse(this.commission.seam_commission)},headers:function(){return[{text:"Tipo de peça",value:"name"},{text:"Quantidade",value:"quantity"},{text:"Comissão por peça",value:"commission",format:"currencyBRL"},{text:"Total",value:"total"}]}},methods:{evaluateCommissionPerClothing:function(e,i){return(i*e).toFixed(2)}}}),d=r,l=n(1001),u=(0,l.Z)(d,o,m,!1,null,null,null),c=u.exports,v=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",[n("div",{staticClass:"my-2 text-subtitle text-secondary fw-bold"},[e._v(" "+e._s(e.$helpers.toBRL(e.commission.print_commission))+" x "+e._s(e.commission.order.quantity)+" ")]),n("div",[n("h5",{staticClass:"fw-bold"},[e._v(" "+e._s(e.$helpers.toBRL(e.commission.print_total_commission))+" ")])])])},k=[],p={props:{commission:{type:Object,default:null}}},f=p,N=(0,l.Z)(f,v,k,!1,null,null,null),g=N.exports,S={components:{CommissionDetailsSeam:c,CommissionDetailsPrint:g},props:{commission:{type:Object,default:null},role:{type:Object,default:null}},computed:{isPrintCommission:function(){return this.role?+this.role.id===s.Z.ESTAMPA:+this.commission.pivot.role.id===s.Z.ESTAMPA},roleName:function(){return this.role?this.role.name:this.commission.pivot.role.name}}},C=S,y=(0,l.Z)(C,a,t,!1,null,null,null),h=y.exports}}]);
//# sourceMappingURL=652-legacy.6e9556cb.js.map