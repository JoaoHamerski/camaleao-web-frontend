(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[604],{5146:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PaymentsParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Payment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"note"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confirmed_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_confirmed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PaymentsViaParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Via"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PaymentsOrderParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Order"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_owing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_paid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"states"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"client"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_owing"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPayments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"created_at"}},type:{kind:"NamedType",name:{kind:"Name",value:"Date"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pendencies"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"payments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"created_at"},value:{kind:"Variable",name:{kind:"Name",value:"created_at"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"column"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"order"},value:{kind:"EnumValue",value:"DESC"}}]}]}},{kind:"Argument",name:{kind:"Name",value:"pendencies"},value:{kind:"Variable",name:{kind:"Name",value:"pendencies"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsOrderParts"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPaymentsPendencies"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paymentsPendencies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"created_at_payment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePayment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PaymentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paymentCreate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsOrderParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"payments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePayment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PaymentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paymentUpdate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsOrderParts"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConfirmPayment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"confirmation"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paymentConfirm"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"confirmation"},value:{kind:"Variable",name:{kind:"Name",value:"confirmation"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsOrderParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"payments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateDailyPayment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DailyCashInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dailyCashEntry"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsOrderParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"payments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}}],loc:{start:0,end:1760}};n.loc.source={body:"fragment PaymentsParts on Payment {\n  id\n  value\n  date\n  note\n  confirmed_at\n  is_confirmed\n  created_at\n}\n\nfragment PaymentsViaParts on Via {\n  id\n  name\n}\n\nfragment PaymentsOrderParts on Order {\n  id\n  code\n  name\n  total_owing\n  total_paid\n  states\n  client {\n    id\n    name\n    total_owing\n  }\n}\n\nquery GetPayments (\n  $created_at: Date\n  $pendencies: Boolean\n) {\n  payments (\n    created_at: $created_at\n    orderBy: [{column: CREATED_AT order: DESC}]\n    pendencies: $pendencies\n  ) {\n    ...PaymentsParts\n\n    order {\n      ...PaymentsOrderParts\n    }\n\n    via {\n      ...PaymentsViaParts\n    }\n  }\n}\n\nquery GetPaymentsPendencies {\n  paymentsPendencies {\n    created_at_payment\n    total\n  }\n}\n\nmutation CreatePayment ($input: PaymentInput!) {\n  paymentCreate (input: $input) {\n    id\n    order {\n      ...PaymentsOrderParts\n      payments {\n        ...PaymentsParts\n        via {\n          ...PaymentsViaParts\n        }\n      }\n    }\n  }\n}\n\nmutation UpdatePayment ($id: ID! $input: PaymentInput!) {\n  paymentUpdate (id: $id input: $input) {\n    ...PaymentsParts\n    order {\n      ...PaymentsOrderParts\n    }\n    via {\n      ...PaymentsViaParts\n    }\n  }\n}\n\nmutation ConfirmPayment ($id: ID! $confirmation: Boolean!) {\n  paymentConfirm (id: $id confirmation: $confirmation) {\n    id\n    order {\n      ...PaymentsOrderParts\n      payments {\n        ...PaymentsParts\n        via {\n          ...PaymentsViaParts\n        }\n      }\n    }\n  }\n}\n\nmutation CreateDailyPayment ($input: DailyCashInput! ) {\n  dailyCashEntry (input: $input) {\n    ...PaymentsParts\n    order {\n      ...PaymentsOrderParts\n      payments {\n        ...PaymentsParts\n        via {\n          ...PaymentsViaParts\n        }\n      }\n    }\n    via {\n      ...PaymentsViaParts\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var a=e.type;"NamedType"===a.kind&&n.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}function r(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,s=new Set,o=new Set;r.forEach((function(e){o.add(e)}));while(o.size>0){var d=o;o=new Set,d.forEach((function(e){if(!s.has(e)){s.add(e);var n=a[e]||new Set;n.forEach((function(e){o.add(e)}))}}))}return s.forEach((function(n){var a=i(e,n);a&&t.definitions.push(a)})),t}(function(){n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}}))})(),e.exports=n,e.exports.PaymentsParts=r(n,"PaymentsParts"),e.exports.PaymentsViaParts=r(n,"PaymentsViaParts"),e.exports.PaymentsOrderParts=r(n,"PaymentsOrderParts"),e.exports.GetPayments=r(n,"GetPayments"),e.exports.GetPaymentsPendencies=r(n,"GetPaymentsPendencies"),e.exports.CreatePayment=r(n,"CreatePayment"),e.exports.UpdatePayment=r(n,"UpdatePayment"),e.exports.ConfirmPayment=r(n,"ConfirmPayment"),e.exports.CreateDailyPayment=r(n,"CreateDailyPayment")},849:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ClientsForCityModalParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Client"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ClientsForFormsParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Client"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetClientsForCityModal"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NamedType",name:{kind:"Name",value:"QueryClientsWhereWhereConditions"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orderBy"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"QueryClientsOrderByOrderByClause"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clients"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}},{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}},{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"Variable",name:{kind:"Name",value:"orderBy"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paginatorInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"perPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ClientsForCityModalParts"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetClientsForForm"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NamedType",name:{kind:"Name",value:"QueryClientsWhereWhereConditions"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orderBy"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"QueryClientsOrderByOrderByClause"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clients"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}},{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"Variable",name:{kind:"Name",value:"orderBy"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paginatorInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"perPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ClientsForFormsParts"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrdersForForm"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orderBy"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"QueryOrdersOrderByOrderByClause"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NamedType",name:{kind:"Name",value:"QueryOrdersWhereWhereConditions"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orders"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"Variable",name:{kind:"Name",value:"orderBy"}}},{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paginatorInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"perPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_owing"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:1152}};n.loc.source={body:"fragment ClientsForCityModalParts on Client {\n  id\n  name\n  phone\n}\n\nfragment ClientsForFormsParts on Client {\n  id\n  name\n  phone\n}\n\nquery GetClientsForCityModal (\n  $page: Int\n  $where: QueryClientsWhereWhereConditions\n  $orderBy: [QueryClientsOrderByOrderByClause!]\n) {\n  clients (\n    first: 10\n    page: $page\n    where: $where\n    orderBy: $orderBy\n  ) {\n    paginatorInfo {\n      currentPage\n      perPage\n      total\n    }\n\n    data {\n      ...ClientsForCityModalParts\n    }\n  }\n}\n\nquery GetClientsForForm (\n  $where: QueryClientsWhereWhereConditions\n  $orderBy: [QueryClientsOrderByOrderByClause!]\n) {\n  clients (\n    first: 10\n    where: $where\n    orderBy: $orderBy\n  ) {\n    paginatorInfo {\n      currentPage\n      perPage\n      total\n    }\n\n    data {\n      ...ClientsForFormsParts\n    }\n  }\n}\n\nquery GetOrdersForForm (\n  $orderBy: [QueryOrdersOrderByOrderByClause!]\n  $where: QueryOrdersWhereWhereConditions\n) {\n  orders (\n    first: 10\n    orderBy: $orderBy\n    where: $where\n  ) {\n    paginatorInfo {\n      currentPage\n      perPage\n      total\n    }\n\n    data {\n      id\n      name\n      code\n      price\n      total_owing\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var a=e.type;"NamedType"===a.kind&&n.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var a={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}function r(e,n){var t={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=a[n]||new Set,s=new Set,o=new Set;r.forEach((function(e){o.add(e)}));while(o.size>0){var d=o;o=new Set,d.forEach((function(e){if(!s.has(e)){s.add(e);var n=a[e]||new Set;n.forEach((function(e){o.add(e)}))}}))}return s.forEach((function(n){var a=i(e,n);a&&t.definitions.push(a)})),t}(function(){n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),a[e.name.value]=n}}))})(),e.exports=n,e.exports.ClientsForCityModalParts=r(n,"ClientsForCityModalParts"),e.exports.ClientsForFormsParts=r(n,"ClientsForFormsParts"),e.exports.GetClientsForCityModal=r(n,"GetClientsForCityModal"),e.exports.GetClientsForForm=r(n,"GetClientsForForm"),e.exports.GetOrdersForForm=r(n,"GetOrdersForForm")},8993:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Re}});var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"py-5"},[t("TheDailyCashHeader",{staticClass:"mb-2",attrs:{pendencies:e.paymentsPendencies,"active-date":e.formatDatetime(e.paymentsParams.created_at)},on:{"reset-payments":e.resetPayments,"on-new-entry-click":e.onNewEntryClick,"load-pendencies-from-date":e.onLoadPendenciesFromDate}}),t("AppCard",{scopedSlots:e._u([{key:"header",fn:function(){return[t("h6",{staticClass:"fw-bold mb-0"},[t("FontAwesomeIcon",{attrs:{icon:e.icons.faCashRegister,"fixed-width":""}}),e._v(" Caixa Diário ")],1)]},proxy:!0},{key:"body",fn:function(){return[e.isLoading?t("AppLoading"):e._e(),t("DailyPaymentModal",{on:{"on-payment-success":e.onPaymentSuccess},model:{value:e.modalPayment,callback:function(n){e.modalPayment=n},expression:"modalPayment"}}),t("TheDailyCashBody",{attrs:{payments:e.payments,date:e.formatDatetime(e.paymentsParams.created_at,"dd/MM/y")}})]},proxy:!0}])})],1)},i=[],r=t(1436),s=t(7859),o=t(9490),d=t(5146),l=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("AppModal",e._g({attrs:{id:"dailyPaymentModal",color:"success",value:e.value},scopedSlots:e._u([{key:"title",fn:function(){return[t("h6",{staticClass:"fw-bold mb-0"},[t("FontAwesomeIcon",{attrs:{icon:e.icons.faPlus,"fixed-width":""}}),e._v(" Nova entrada ")],1)]},proxy:!0},{key:"body",fn:function(){return[t("DailyPaymentForm",{on:{success:e.onSuccess}})]},proxy:!0}])},e.$listeners))},m=[],c=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("AppForm",{attrs:{form:e.form,"on-submit":e.onSubmit}},[t("DailyPaymentFormClient",{attrs:{form:e.form}}),t("DailyPaymentFormOrder",{attrs:{form:e.form}}),t("h6",{staticClass:"horizontal-line text-center mt-5 mb-4"},[t("span",{staticClass:"fw-bold"},[e._v("PAGAMENTO")])]),t("div",{staticClass:"row justify-content-between mb-2"},[t("div",{staticClass:"col-7"},[t("AppInput",{attrs:{id:"value",name:"value",value:"R$ ",error:e.form.errors.get("value"),mask:e.maskCurrencyBRL},scopedSlots:e._u([{key:"append",fn:function(){return[e.hasOrder?t("AppButton",{attrs:{tooltip:e.formatCurrencyBRL(e.form.order.id.total_owing),outlined:""},on:{click:function(n){return n.preventDefault(),e.onRestValueClick.apply(null,arguments)}}},[e._v(" Restante ")]):e._e()]},proxy:!0}]),model:{value:e.form.value,callback:function(n){e.$set(e.form,"value",n)},expression:"form.value"}},[e._v(" Valor ")])],1),t("div",{staticClass:"col-5"},[t("AppSimpleSelect",{attrs:{id:"via_id",error:e.form.errors.get("via_id"),name:"via_id",placeholder:"Selecione uma via","value-prop":"id","label-prop":"name",options:e.vias},model:{value:e.form.via_id,callback:function(n){e.$set(e.form,"via_id",n)},expression:"form.via_id"}},[e._v(" Via ")])],1)]),t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("AppButton",{staticClass:"fw-bold",attrs:{color:"success",loading:e.isLoading,block:""},on:{click:function(n){return n.preventDefault(),e.onSubmit.apply(null,arguments)}}},[e._v(" Registrar ")])],1),t("div",{staticClass:"col"},[t("AppButton",{attrs:{color:"light","data-bs-dismiss":"modal",type:"button",block:""}},[e._v(" Cancelar ")])],1)])],1)},u=[],v=t(9697),p=t(8652),y=t(7226),k=t(1786),f=t(4082),g=t(5539),h=t(1594),N=t(7241),C=function(){var e=this,n=e.$createElement,t=e._self._c||n;return e.form.client.isNew?t("div",{staticClass:"mb-4"},[t("div",{staticClass:"d-flex justify-content-between align-items-center mb-2"},[t("label",{staticClass:"fw-bold form-label",attrs:{for:"client"}},[e._v("Nome do cliente")]),t("AppButton",{staticClass:"fw-bold",attrs:{color:"primary","btn-class":"btn-sm"},on:{click:function(n){return n.preventDefault(),e.toggleClientState.apply(null,arguments)}}},[e._v(" Procurar cliente ")])],1),t("AppInput",{attrs:{id:"client",value:e.form.client.name,error:e.form.errors.get("client.name"),name:"client.name",placeholder:"Nome do cliente"},on:{input:function(n){return e.form.set({"client.name":n})}}})],1):t("div",{staticClass:"mb-4"},[t("div",{staticClass:"d-flex justify-content-between align-items-center mb-2"},[t("label",{staticClass:"fw-bold form-label text-primary",attrs:{for:"client"}},[e._v("Cliente")]),t("AppButton",{staticClass:"fw-bold",attrs:{color:"success","btn-class":"btn-sm"},on:{click:function(n){return n.preventDefault(),e.toggleClientState.apply(null,arguments)}}},[e._v(" Cadastrar novo ")])],1),t("AppSelect",{attrs:{value:e.form.client.id,name:"client",placeholder:"Procure por nome ou telefone",error:e.form.errors.get("client.id"),"custom-label":e.customLabelClients,searchable:!0,"internal-search":!1,options:e.clients.items,loading:e.clients.isLoading},on:{input:function(n){return e.form.set({"client.id":n})},open:function(n){return e.form.errors.clear("client.id")},"search-change":e.asyncFindClients,remove:e.removeCurrentOrder,select:e.removeCurrentOrder},scopedSlots:e._u([{key:"noOptions",fn:function(){return[e._v(" Faça uma busca para exibir resultados ")]},proxy:!0},{key:"noResult",fn:function(){return[e._v(" Nenhum cliente encontrado, "),t("a",{staticClass:"fw-bold text-decoration-none",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),e.toggleClientState.apply(null,arguments)}}},[e._v("cadastrar novo")])]},proxy:!0}],null,!1,1258252843)})],1)},b=[],P=t(849),S=t(1926);const F=e=>e.startsWith("(")?{column:"PHONE",operator:"LIKE",value:`${(0,S.WY)(e)}%`}:(0,S.kE)(e)?{column:"PHONE",operator:"LIKE",value:`%${e}%`}:{column:"NAME",operator:"LIKE",value:`%${e}%`};var _={props:{form:{type:Object,required:!0}},data(){return{clients:{isLoading:!1,items:[]}}},methods:{removeCurrentOrder(){this.form.set({"order.id":""})},toggleClientState(){this.form.client.isNew||this.form.set({"client.id":"","order.id":""}),this.form.set({"client.isNew":!this.form.client.isNew}),this.form.set({"order.isNew":this.form.client.isNew})},customLabelClients({name:e,phone:n}){return`${e} ${n?" - "+(0,s.CN)(n):""}`},async asyncFindClients(e){if(!e.length)return void(this.clients.items=[]);this.clients.isLoading=!0;const{data:{clients:{data:n}}}=await this.$apollo.query({query:P.GetClientsForForm,variables:{where:F(e),page:1}});this.clients.isLoading=!1,this.clients.items=n}}},w=_,D=t(1001),x=(0,D.Z)(w,C,b,!1,null,null,null),E=x.exports,O=function(){var e=this,n=e.$createElement,t=e._self._c||n;return e.form.order.isNew?t("div",[t("div",{staticClass:"d-flex justify-content-between align-items-center mb-2"},[t("label",{staticClass:"fw-bold form-label mb-2",attrs:{for:"order"}},[e._v("Código do pedido")]),e.clientExists&&!e.form.isNewClient?t("AppButton",{staticClass:"fw-bold",attrs:{color:"primary","btn-class":"btn-sm"},on:{click:function(n){return n.preventDefault(),e.toggleOrderState.apply(null,arguments)}}},[e._v(" Procurar pedido ")]):e._e()],1),t("AppInput",{attrs:{id:"order",value:e.form.order.code,error:e.form.errors.get("order.code"),name:"order.code",placeholder:"Digite o cód. do pedido..."},on:{input:function(n){return e.form.set({"order.code":n})}}}),t("AppInput",{attrs:{id:"price",value:e.form.order.price,error:e.form.errors.get("order.price"),name:"order.price",mask:e.maskCurrencyBRL},on:{input:function(n){return e.form.set({"order.price":n})}}},[e._v(" Valor ")]),t("AppCheckbox",{attrs:{id:"reminderCheckbox"},model:{value:e.hasReminder,callback:function(n){e.hasReminder=n},expression:"hasReminder"}},[e._v(" Adicionar lembrete "),t("FontAwesomeIcon",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ms-1 text-primary",attrs:{content:"Adicione uma anotação para lembrar do pedido na página de pedidos",icon:e.icons.faQuestionCircle}})],1),e.hasReminder?[t("AppInput",{attrs:{id:"reminder",value:e.form.order.reminder,name:"reminder",placeholder:"Algo que lembre o pedido...",optional:""},on:{input:function(n){return e.form.set({"order.reminder":n})}}},[e._v(" Lembrete ")])]:e._e()],2):t("div",[t("div",{staticClass:"d-flex justify-content-between align-items-center mb-2"},[t("label",{staticClass:"fw-bold text-primary form-label mb-2",attrs:{for:"order"}},[e._v("Pedido")]),t("AppButton",{attrs:{disabled:!e.clientExists,color:"success","btn-class":"btn-sm fw-bold",tooltip:!e.clientExists&&"Informe o cliente primeiro"},on:{click:function(n){return n.preventDefault(),e.toggleOrderState.apply(null,arguments)}}},[e._v(" Cadastrar novo ")])],1),t("AppSelect",{staticClass:"mb-2",attrs:{value:e.form.order.id,name:"order",placeholder:"Procure pelo código",error:e.form.errors.get("order.id"),"default-margin":!1,"custom-label":e.customLabelOrders,searchable:!0,"internal-search":!1,options:e.orders.items,loading:e.orders.isLoading,disabled:!e.clientExists,tooltip:!e.clientExists&&"Informe o cliente primeiro."},on:{input:function(n){return e.form.set({"order.id":n})},open:function(n){return e.form.errors.clear("order.id")},"search-change":e.asyncFindOrders},scopedSlots:e._u([{key:"noOptions",fn:function(){return[e._v(" Faça uma busca para exibir resultados ")]},proxy:!0},{key:"noResult",fn:function(){return[e._v(" Nenhum pedido encontrado, "),t("a",{staticClass:"fw-bold text-decoration-none",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),e.toggleOrderState.apply(null,arguments)}}},[e._v("cadastrar novo")])]},proxy:!0}],null,!1,3342047923)}),e.form.order.id?t("div",{staticClass:"small text-secondary"},[t("b",[e._v("Faltar pagar: ")]),e._v(" "+e._s(e.formatCurrencyBRL(e.form.order.id.total_owing))+" ")]):e._e()],1)},B=[];const A=(e,n)=>{const t=n?.id||n,a=[{column:"CLIENT_ID",operator:"EQ",value:t},{column:"PRICE",operator:"IS_NOT_NULL"}];return(0,v.Z)(e)||a.push({column:"CODE",operator:"LIKE",value:`%${e}%`}),{AND:a}};var $={props:{form:{type:Object,required:!0}},data(){return{maskCurrencyBRL:(0,f.uP)(),hasReminder:!1,icons:{faQuestionCircle:r.sph},orders:{isLoading:!1,items:[]}}},computed:{clientExists(){return"object"===typeof this.form.client.id&&!(0,v.Z)(this.form.client.id)}},watch:{"form.client.id":{async handler(){await this.asyncFillOrders()}}},methods:{formatCurrencyBRL:s.gv,toggleOrderState(){this.form.order.isNew||this.form.set({"order.id":""}),this.form.set({"order.isNew":!this.form.order.isNew})},customLabelOrders({code:e,name:n,price:t}){return n?`${e} - ${n} - ${(0,s.gv)(t)}`:`${e} - ${(0,s.gv)(t)}`},getOrdersQuery(e){return this.$apollo.query({query:P.GetOrdersForForm,variables:{where:A(e,this.form.client.id),orderBy:[{column:"CREATED_AT",order:"DESC"}]}})},async asyncFillOrders(){const e=null;this.orders.isLoading=!0;const{data:{orders:{data:n}}}=await this.getOrdersQuery(e);this.orders.isLoading=!1,this.orders.items=n.filter((e=>e.total_owing>0))},async asyncFindOrders(e){if((0,v.Z)(e))return void await this.asyncFillOrders();this.orders.isLoading=!0;const{data:{orders:{data:n}}}=await this.getOrdersQuery(e);this.orders.isLoading=!1,this.orders.items=n.filter((e=>e.total_owing>0))}}},V=$,L=(0,D.Z)(V,O,B,!1,null,null,null),T=L.exports,I={apollo:{vias:{query:N.vias}},components:{DailyPaymentFormClient:E,DailyPaymentFormOrder:T},data(){return{maskCurrencyBRL:(0,f.uP)(),isLoading:!1,form:new g.Z({client:{id:"",name:"",isNew:!1},order:{id:"",code:"",price:"",reminder:"",isNew:!1},value:"",via_id:""})}},computed:{hasOrder(){return!(0,v.Z)(this.form.order.id)&&!this.form.order.isNew}},methods:{isEmpty:v.Z,formatCurrencyBRL:s.gv,customLabelVias({name:e}){return e},onRestValueClick(){this.form.value=(0,s.gv)(this.form.order.id.total_owing)},getFormattedData(){const e=(0,p.Z)(this.form.data());return(0,y.Z)(e.client.id)&&(e.client.id=e.client.id.id),(0,y.Z)(e.order.id)&&(e.order.id=e.order.id.id),e.client=(0,k.Z)(e.client,"isNew"),e.order=(0,k.Z)(e.order,"isNew"),e},async onSubmit(){const e=this.getFormattedData();this.isLoading=!0;try{await this.$apollo.mutate({mutation:d.CreateDailyPayment,variables:{input:e},refetchQueries:[d.GetPayments]}),this.$helpers.clearCacheFrom([{fieldName:"orders"},{fieldName:"clients"}]),(0,h.s)(this,{message:"Entrada registrada!",resetForm:!0})}catch(n){(0,h.S)(this,n)}this.isLoading=!1}}},M=I,R=(0,D.Z)(M,c,u,!1,null,null,null),q=R.exports,G={components:{DailyPaymentForm:q},props:{value:{type:Boolean,default:!1}},data(){return{icons:{faPlus:r.r8p}}},methods:{onSuccess(){this.$emit("on-payment-success")}}},Z=G,Q=(0,D.Z)(Z,l,m,!1,null,null,null),j=Q.exports,W=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("PendenciesModal",{attrs:{pendencies:e.pendencies,"active-date":e.activeDate},on:{"load-pendencies-from-date":e.onLoadPendenciesFromDate},model:{value:e.pendenciesModal,callback:function(n){e.pendenciesModal=n},expression:"pendenciesModal"}}),t("div",{staticClass:"d-flex flex-column flex-sm-row justify-content-between align-items-sm-center"},[t("AppButton",{staticClass:"fw-bold mb-2 mb-sm-0",attrs:{block:e.$isMobile,color:"success","btn-class":"btn-lg",icon:e.icons.faPlus},on:{click:function(n){return e.$emit("on-new-entry-click")}}},[e._v(" Nova entrada ")]),t("div",{staticClass:"d-flex"},[t("AppButton",{staticClass:"flex-grow-1 fw-bold",attrs:{color:"warning"},on:{click:e.onPendenciesClick}},[e._v(" Pendências "),t("span",{staticClass:"badge rounded-pill bg-light text-dark"},[e._v(e._s(e.totalPendencies))])]),t("AppButton",{staticClass:"ms-1",attrs:{icon:e.icons.faSyncAlt,outlined:""},on:{click:e.onResetPaymentsClick}})],1)],1)],1)},U=[],z=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("AppModal",e._g({attrs:{id:"pendenciesModal",value:e.value,centered:"",color:"warning",scrollable:""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Pagamentos pendentes ")]},proxy:!0},{key:"body",fn:function(){return[e.pendencies.length?[t("div",{staticClass:"list-group mb-3"},e._l(e.pendencies,(function(n){return t("a",{key:n.created_at_payment,staticClass:"list-group-item list-group-item-action d-flex justify-content-between link-primary",class:{"active text-white":e.isActiveListItem(n.created_at_payment,e.activeDate)},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onPendencyClick(n.created_at_payment)}}},[t("div",{staticClass:"fw-bold"},[e._v(" "+e._s(e.formatDatetime(n.created_at_payment))+" ")]),t("span",{staticClass:"badge bg-primary align-self-center py-2",class:{"bg-light text-primary":e.isActiveListItem(n.created_at_payment,e.activeDate)}},[e._v(e._s(n.total))])])})),0)]:t("div",{staticClass:"text-center text-secondary my-5"},[e._v(" Sem pagamentos pendentes ")])]},proxy:!0},{key:"footer",fn:function(){return[t("div",{staticClass:"d-flex justify-content-end"},[t("AppButton",{attrs:{color:"light","data-bs-dismiss":"modal"}},[e._v(" Fechar ")])],1)]},proxy:!0}])},e.$listeners))},H=[],K={props:{value:{type:Boolean,default:!1},pendencies:{type:Array,default:()=>[]},activeDate:{type:String,required:!0}},methods:{formatDatetime:s.DZ,isActiveListItem(e,n){return(0,s.DZ)(e)===n},onPendencyClick(e){this.$emit("load-pendencies-from-date",e)}}},J=K,Y=(0,D.Z)(J,z,H,!1,null,null,null),X=Y.exports,ee={components:{PendenciesModal:X},props:{pendencies:{type:Array,default:()=>[]},activeDate:{type:String,required:!0}},data(){return{pendenciesModal:!1,icons:{faPlus:r.r8p,faSyncAlt:r.d8e}}},computed:{totalPendencies(){return(0,v.Z)(this.pendencies)?0:this.pendencies.reduce(((e,n)=>e+n.total),0)}},methods:{onPendenciesClick(){this.pendenciesModal=!0},onLoadPendenciesFromDate(e){this.pendenciesModal=!1,this.$emit("load-pendencies-from-date",e)},onResetPaymentsClick(){this.$emit("reset-payments")}}},ne=ee,te=(0,D.Z)(ne,W,U,!1,null,null,null),ae=te.exports,ie=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("DailyPaymentConfirmationErrorModal",{attrs:{payment:e.modalError.payment},model:{value:e.modalError.value,callback:function(n){e.$set(e.modalError,"value",n)},expression:"modalError.value"}}),t("TheDailyCashBodyDate",{attrs:{date:e.date}}),t("hr",{staticClass:"bg-secondary"}),t("TheDailyCashBodyTable",{attrs:{items:e.payments},on:{"payment-success":e.onDailyPaymentSuccess,"payment-error":e.onDailyPaymentError}})],1)},re=[],se=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("AppModal",e._g({attrs:{id:"dailyPaymentConfirmationErrorModal",value:e.value,color:"danger"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Erro ao confirmar ")]},proxy:!0},{key:"body",fn:function(){return[t("div",{staticClass:"text-center mb-3"},[t("FontAwesomeIcon",{staticClass:"text-danger",attrs:{icon:e.icons.faExclamationCircle,size:"4x"}})],1),t("h5",{staticClass:"text-center fw-bold mb-4"},[e._v(" Não é possível confirmar o pagamento ")]),e.isEmpty(e.payment)?e._e():t("div",{staticClass:"text-center mb-4"},[e._v(" O valor do pagamento "),t("span",{staticClass:"fw-bold"},[e._v("("+e._s(e.formatCurrencyBRL(e.payment.value))+")")]),e._v(" excede o total que falta pagar do pedido "),t("span",{staticClass:"fw-bold"},[e._v("("+e._s(e.formatCurrencyBRL(e.payment.order.total_owing))+").")])]),t("div",{staticClass:"text-center"},[t("AppButton",{attrs:{"btn-class":"fw-bold btn-lg","data-bs-dismiss":"modal"}},[e._v(" OK ")])],1)]},proxy:!0}])},e.$listeners))},oe=[],de={props:{value:{type:Boolean,default:!1},payment:{type:Object,default:()=>({})}},data(){return{icons:{faExclamationCircle:r.RLE}}},methods:{isEmpty:v.Z,formatCurrencyBRL:s.gv}},le=de,me=(0,D.Z)(le,se,oe,!1,null,null,null),ce=me.exports,ue=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("AppTable",{attrs:{headers:e.headers,items:e.items,"row-class":e.paymentRowClass},scopedSlots:e._u([{key:"items.order",fn:function(n){var a=n.item;return[t("a",{staticClass:"text-decoration-none fw-bold",attrs:{href:e.$helpers.getUrl(e.orders.show,{client:a.order.client,order:a.order}),target:"_blank"}},[e._v(e._s(a.order.code))])]}},{key:"items.client",fn:function(n){var a=n.item;return[t("a",{staticClass:"text-decoration-none fw-bold",attrs:{href:e.$helpers.getUrl(e.clients.show,{client:a.order.client}),target:"_blank"}},[e._v(e._s(a.order.client.name))])]}},{key:"items.value",fn:function(n){var a=n.item;return[t("span",{staticClass:"fw-bold"},[e._v(e._s(e.formatCurrencyBRL(a.value)))])]}},{key:"items.via",fn:function(n){var t=n.item;return[e._v(" "+e._s(t.via.name)+" ")]}},{key:"headers.checked",fn:function(){return[t("FontAwesomeIcon",{attrs:{icon:e.icons.faClipboardCheck,size:"lg"}})]},proxy:!0},{key:"items.checked",fn:function(n){var a=n.item;return[t("DailyPaymentConfirmation",{attrs:{confirmation:a.is_confirmed,payment:a},on:{success:e.onPaymentSuccess,error:e.onPaymentError}})]}}],null,!0)})},ve=[],pe=t(5781),ye=function(){var e=this,n=e.$createElement,t=e._self._c||n;return e.showConfirmationButtons?t("div",{staticClass:"text-center position-relative"},[t("AppButton",{staticClass:"me-4",attrs:{icon:e.icons.faCheck,color:"success",tooltip:"Confirmar","btn-class":"btn-sm px-3 position-relative",outlined:"",disabled:e.isDisabled,loading:e.loadingConfirmBtn},on:{click:function(n){return n.preventDefault(),e.assignPayment({confirmation:!0})}}},[e.canBeConfirmed(e.payment)?e._e():t("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"position-absolute top-0 start-100 translate-middle px-2 text-white bg-warning border border-light rounded-circle",attrs:{content:"O pagamento não pode ser confirmado"}},[t("FontAwesomeIcon",{attrs:{icon:e.icons.faExclamation,size:"sm"}})],1)]),t("AppButton",{attrs:{icon:e.icons.faTimes,color:"danger",tooltip:"Rejeitar","btn-class":"btn-sm px-3",outlined:"",disabled:e.isDisabled,loading:e.loadingDeclineBtn},on:{click:function(n){return n.preventDefault(),e.assignPayment({confirmation:!1})}}})],1):t("div",{staticClass:"fw-bold"},[!0===e.confirmation?t("div",{staticClass:"text-success"},[t("FontAwesomeIcon",{attrs:{icon:e.icons.faCheck}})],1):null===e.confirmation?t("div",{staticClass:"text-warning"},[t("FontAwesomeIcon",{attrs:{icon:e.icons.faMinus}})],1):!1===e.confirmation?t("div",{staticClass:"text-danger"},[t("FontAwesomeIcon",{attrs:{icon:e.icons.faTimes}})],1):e._e()])},ke=[],fe=t(2776),ge={props:{payment:{type:Object,required:!0},confirmation:{type:void 0,required:!0}},data(){return{roles:fe.Z,loadingConfirmBtn:!1,loadingDeclineBtn:!1,modalError:!1,icons:{faCheck:r.LEp,faTimes:r.NBC,faMinus:r.Kl4,faExclamation:r.WV2}}},computed:{isDisabled(){return this.loadingConfirmBtn||this.loadingDeclineBtn},showConfirmationButtons(){return this.$helpers.canView(fe.Z.GERENCIA)&&null===this.confirmation},authUser(){return this.$store.getters["auth/authUser"]}},methods:{canBeConfirmed(e){return e.value<=e.order.total_owing},async assignPayment({confirmation:e}){this.loadingConfirmBtn=e,this.loadingDeclineBtn=!e;try{await this.$apollo.mutate({mutation:d.ConfirmPayment,variables:{id:this.payment.id,confirmation:e},refetchQueries:[{query:d.GetPaymentsPendencies}]}),this.$toast.success(e?"Pagamento confirmado!":"Pagamento rejeitado!"),this.$emit("success")}catch(n){this.$emit("error",this.payment)}this.loadingDeclineBtn=!1,this.loadingConfirmBtn=!1}}},he=ge,Ne=(0,D.Z)(he,ye,ke,!1,null,null,null),Ce=Ne.exports;const be={true:"table-success",false:"table-danger",null:"table-warning"};var Pe={components:{DailyPaymentConfirmation:Ce},props:{items:{type:Array,default:()=>[]}},data(){return{clients:pe.yj,orders:pe.A6,icons:{faClipboardCheck:r.E9T}}},computed:{headers(){return[{text:"PEDIDO",value:"order"},{text:"CLIENTE",value:"client"},{text:"VALOR",value:"value",format:"currencyBRL"},{text:"VIA",value:"via"},{text:"REGISTRO ÀS",value:"created_at",format:"datetime",formatting:"HH:mm",align:"center"},{text:"CHECKED",value:"checked",align:"center"}]}},methods:{formatCurrencyBRL:s.gv,paymentRowClass(e){return be[e.is_confirmed]},onPaymentSuccess(){this.$emit("payment-success")},onPaymentError(e){this.$emit("payment-error",e)}}},Se=Pe,Fe=(0,D.Z)(Se,ue,ve,!1,null,null,null),_e=Fe.exports,we=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("h5",{staticClass:"horizontal-line text-center fw-bold mt-3"},[t("span",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:e.selectedDateExtended}},[e._v(e._s(e.selectedDateAbbr))])]),t("div",{staticClass:"small text-secondary text-center"},[e.isSelectedDateToday?t("span",[e._v("Pagamentos de hoje")]):t("span",[e._v("Pagamentos antigos")])])])},De=[],xe={props:{date:{type:String,required:!0}},computed:{selectedDateAbbr(){return o.ou.fromFormat(this.date,"dd/MM/y").toFormat("dd/MM")},isSelectedDateToday(){const e=o.ou.now(),n=o.ou.fromFormat(this.date,"dd/MM/y");return e.hasSame(n,"day")},selectedDateExtended(){return o.ou.fromFormat(this.date,"dd/MM/y",{locale:"pt-br"}).toFormat("dd 'de' LLLL 'de' yyyy")}}},Ee=xe,Oe=(0,D.Z)(Ee,we,De,!1,null,null,null),Be=Oe.exports,Ae={components:{TheDailyCashBodyTable:_e,TheDailyCashBodyDate:Be,DailyPaymentConfirmationErrorModal:ce},props:{payments:{type:Array,default:()=>[]},date:{type:String,required:!0}},data(){return{modalError:{value:!1,payment:{}}}},methods:{onDailyPaymentSuccess(){this.$emit("daily-payment-success")},onDailyPaymentError(e){this.modalError.payment=e,this.modalError.value=!0}}},$e=Ae,Ve=(0,D.Z)($e,ie,re,!1,null,null,null),Le=Ve.exports,Te={metaInfo(){return{title:"Caixa Diário"}},components:{TheDailyCashHeader:ae,TheDailyCashBody:Le,DailyPaymentModal:j},apollo:{payments:{query:d.GetPayments,variables(){return{...this.paymentsParams}}},paymentsPendencies:{query:d.GetPaymentsPendencies}},data(){return{payments:[],paymentsPendencies:[],modalPayment:!1,paymentsParams:{created_at:o.ou.now().toISODate(),pendencies:!1},icons:{faCashRegister:r.J4t}}},computed:{isLoading(){return!!this.$apollo.queries.payments.loading}},methods:{formatDatetime:s.DZ,onLoadPendenciesFromDate(e){this.paymentsParams.pendencies=!0,this.paymentsParams.created_at=e},onNewEntryClick(){this.modalPayment=!0},onPaymentSuccess(){this.modalPayment=!1},resetPayments(){this.paymentsParams.pendencies=!1,this.paymentsParams.created_at=o.ou.now().toISODate(),this.$apollo.queries.payments.refetch(),this.$apollo.queries.paymentsPendencies.refetch()}}},Ie=Te,Me=(0,D.Z)(Ie,a,i,!1,null,null,null),Re=Me.exports}}]);
//# sourceMappingURL=daily-cash.081ee2d4.js.map