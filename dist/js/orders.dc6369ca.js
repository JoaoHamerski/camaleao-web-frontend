(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[486],{5385:function(e){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ClothingTypeParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClothingType"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_hidden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commission"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetClothingTypes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"is_hidden"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clothingTypes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"is_hidden"},value:{kind:"Variable",name:{kind:"Name",value:"is_hidden"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ClothingTypeParts"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateClothingType"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ClothingTypeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clothingTypeCreate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateClothingType"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ClothingTypeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clothingTypeUpdate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ClothingTypeParts"},directives:[]}]}}]}}],loc:{start:0,end:470}};t.loc.source={body:"fragment ClothingTypeParts on ClothingType {\n  id\n  key\n  name\n  is_hidden\n  commission\n}\n\nquery GetClothingTypes ($is_hidden: Boolean) {\n  clothingTypes (is_hidden: $is_hidden) {\n    ...ClothingTypeParts\n  }\n}\n\nmutation CreateClothingType ($input: ClothingTypeInput!) {\n  clothingTypeCreate (input: $input) {\n    id\n  }\n}\n\nmutation UpdateClothingType ($id: ID! $input: ClothingTypeInput!) {\n  clothingTypeUpdate (id: $id input: $input) {\n    ...ClothingTypeParts\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,s=new Set,o=new Set;r.forEach((function(e){o.add(e)}));while(o.size>0){var d=o;o=new Set,d.forEach((function(e){if(!s.has(e)){s.add(e);var t=n[e]||new Set;t.forEach((function(e){o.add(e)}))}}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(function(){t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}}))})(),e.exports=t,e.exports.ClothingTypeParts=r(t,"ClothingTypeParts"),e.exports.GetClothingTypes=r(t,"GetClothingTypes"),e.exports.CreateClothingType=r(t,"CreateClothingType"),e.exports.UpdateClothingType=r(t,"UpdateClothingType")},4467:function(e){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NoteParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"order_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"text"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"noteCreate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"order_id"},value:{kind:"Variable",name:{kind:"Name",value:"order_id"}}},{kind:"Argument",name:{kind:"Name",value:"text"},value:{kind:"Variable",name:{kind:"Name",value:"text"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NoteParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"client"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"text"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"noteUpdate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"text"},value:{kind:"Variable",name:{kind:"Name",value:"text"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NoteParts"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"noteDelete"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NoteParts"},directives:[]}]}}]}}],loc:{start:0,end:436}};t.loc.source={body:"fragment NoteParts on Note {\n  id\n  text\n  created_at\n}\n\nmutation CreateNote ($order_id: ID! $text: String!) {\n  noteCreate (order_id: $order_id text: $text) {\n    ...NoteParts\n    order {\n      id\n\n      client {\n        id\n      }\n    }\n  }\n}\n\nmutation UpdateNote ($id: ID! $text: String!) {\n  noteUpdate (id: $id text: $text) {\n    ...NoteParts\n  }\n}\n\nmutation DeleteNote ($id: ID!) {\n  noteDelete (id: $id) {\n    ...NoteParts\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,s=new Set,o=new Set;r.forEach((function(e){o.add(e)}));while(o.size>0){var d=o;o=new Set,d.forEach((function(e){if(!s.has(e)){s.add(e);var t=n[e]||new Set;t.forEach((function(e){o.add(e)}))}}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(function(){t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}}))})(),e.exports=t,e.exports.NoteParts=r(t,"NoteParts"),e.exports.CreateNote=r(t,"CreateNote"),e.exports.UpdateNote=r(t,"UpdateNote"),e.exports.DeleteNote=r(t,"DeleteNote")},2383:function(e,t,i){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OrderParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Order"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"original_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"states"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_paid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_owing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_clothings_value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"production_date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"delivery_date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closed_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"art_paths"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size_paths"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"payment_voucher_paths"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reminder"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"OrderSimplifiedParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Order"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_paid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"production_date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"delivery_date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"states"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_owing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"client"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"OrderClientShippingCompanyParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Client"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shipping_company"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"OrderClientBranchParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Client"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"branch"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"OrderClientCityParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Client"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"abbreviation"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"OrderClientParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Order"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"client"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_owing"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"OrderClientBranchParts"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"OrderClientCityParts"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"OrderClientShippingCompanyParts"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"StatusParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Order"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ClothingTypesParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Order"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clothing_types"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_hidden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commission"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_value"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PaymentsPart"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Order"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"payments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"note"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confirmed_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_confirmed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"NotesParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Order"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"OrderType"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Order"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderParts"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"OrderClientParts"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"StatusParts"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ClothingTypesParts"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsPart"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"NotesParts"},directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrdersSimplified"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orderBy"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"QueryOrdersOrderByOrderByClause"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NamedType",name:{kind:"Name",value:"QueryOrdersWhereWhereConditions"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orders"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}},{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"Variable",name:{kind:"Name",value:"orderBy"}}},{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paginatorInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaginatorSimpleParts"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderSimplifiedParts"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"client_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"order"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"client_id"},value:{kind:"Variable",name:{kind:"Name",value:"client_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderType"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrderReport"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderReport"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrdersReport"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"OrdersReportInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ordersReport"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrdersByProductionDate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"OrdersReportProductionDateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ordersReportProductionDate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateOrder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"OrderInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderUpdate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderType"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ToggleOrder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderToggle"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderType"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteOrder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderDelete"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderType"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateOrder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"client_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"OrderInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderCreate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"client_id"},value:{kind:"Variable",name:{kind:"Name",value:"client_id"}}},{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderType"},directives:[]}]}}]}}],loc:{start:0,end:2795}};n.loc.source={body:'#import "./_PaginatorFragment.gql"\n\nfragment OrderParts on Order {\n  id\n  code\n  name\n  price\n  original_price\n  states\n  discount\n  quantity\n  total_paid\n  total_owing\n  total_clothings_value\n  production_date\n  delivery_date\n  created_at\n  closed_at\n  art_paths\n  size_paths\n  payment_voucher_paths\n  reminder\n}\n\nfragment OrderSimplifiedParts on Order {\n  id\n  code\n  quantity\n  price\n  total_paid\n  production_date\n  delivery_date\n  states\n  total_owing\n  client {\n    id\n    name\n  }\n}\n\nfragment OrderClientShippingCompanyParts on Client {\n  shipping_company {\n    id\n    name\n  }\n}\n\nfragment OrderClientBranchParts on Client {\n  branch {\n    id\n    city {\n      id\n      name\n    }\n  }\n}\n\nfragment OrderClientCityParts on Client {\n  city {\n    id\n    name\n    state {\n      id\n      name\n      abbreviation\n    }\n  }\n}\n\nfragment OrderClientParts on Order {\n  client {\n    id\n    name\n    phone\n    total_owing\n    ...OrderClientBranchParts\n    ...OrderClientCityParts\n    ...OrderClientShippingCompanyParts\n  }\n}\n\nfragment StatusParts on Order {\n  status {\n    id\n    text\n    is_available\n  }\n}\n\nfragment ClothingTypesParts on Order {\n  clothing_types {\n    id\n    key\n    name\n    is_hidden\n    commission\n    quantity\n    value\n    total_value\n  }\n}\n\nfragment PaymentsPart on Order {\n  payments {\n    id\n    value\n    date\n    note\n    confirmed_at\n    is_confirmed\n    created_at\n    via {\n      id\n      name\n    }\n  }\n}\n\nfragment NotesParts on Order {\n  notes {\n    id\n    text\n    created_at\n  }\n}\n\nfragment OrderType on Order {\n  ...OrderParts\n  ...OrderClientParts\n  ...StatusParts\n  ...ClothingTypesParts\n  ...PaymentsPart\n  ...NotesParts\n}\n\nquery GetOrdersSimplified (\n  $page: Int\n  $orderBy: [QueryOrdersOrderByOrderByClause!]\n  $where: QueryOrdersWhereWhereConditions\n) {\n  orders (\n    first: 10\n    page: $page\n    orderBy: $orderBy\n    where: $where\n  ) {\n    paginatorInfo {\n      ...PaginatorSimpleParts\n    }\n\n    data {\n      ...OrderSimplifiedParts\n    }\n  }\n}\n\nquery GetOrder ($id: ID! $client_id: ID) {\n  order (id: $id client_id: $client_id) {\n    ...OrderType\n  }\n}\nquery GetOrderReport ($id: ID!) {\n  orderReport (id: $id)\n}\n\nquery GetOrdersReport ($input: OrdersReportInput!) {\n  ordersReport (input: $input)\n}\n\nquery GetOrdersByProductionDate ($input: OrdersReportProductionDateInput!) {\n  ordersReportProductionDate (input: $input)\n}\n\nmutation UpdateOrder ($id: ID! $input: OrderInput!) {\n  orderUpdate (id: $id input: $input) {\n    ...OrderType\n  }\n}\n\nmutation ToggleOrder ($id: ID!) {\n  orderToggle (id: $id) {\n    ...OrderType\n  }\n}\n\nmutation DeleteOrder ($id: ID!) {\n  orderDelete (id: $id) {\n    ...OrderType\n  }\n}\n\nmutation CreateOrder ($client_id: ID! $input: OrderInput!) {\n  orderCreate (client_id: $client_id input: $input) {\n    ...OrderType\n  }\n}\n\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}function s(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){s(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){s(e,t)})),e.definitions&&e.definitions.forEach((function(e){s(e,t)}))}n.definitions=n.definitions.concat(r(i(4163).definitions));var o={};function d(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function l(e,t){var i={kind:e.kind,definitions:[d(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=o[t]||new Set,a=new Set,r=new Set;n.forEach((function(e){r.add(e)}));while(r.size>0){var s=r;r=new Set,s.forEach((function(e){if(!a.has(e)){a.add(e);var t=o[e]||new Set;t.forEach((function(e){r.add(e)}))}}))}return a.forEach((function(t){var n=d(e,t);n&&i.definitions.push(n)})),i}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;s(e,t),o[e.name.value]=t}}))})(),e.exports=n,e.exports.OrderParts=l(n,"OrderParts"),e.exports.OrderSimplifiedParts=l(n,"OrderSimplifiedParts"),e.exports.OrderClientShippingCompanyParts=l(n,"OrderClientShippingCompanyParts"),e.exports.OrderClientBranchParts=l(n,"OrderClientBranchParts"),e.exports.OrderClientCityParts=l(n,"OrderClientCityParts"),e.exports.OrderClientParts=l(n,"OrderClientParts"),e.exports.StatusParts=l(n,"StatusParts"),e.exports.ClothingTypesParts=l(n,"ClothingTypesParts"),e.exports.PaymentsPart=l(n,"PaymentsPart"),e.exports.NotesParts=l(n,"NotesParts"),e.exports.OrderType=l(n,"OrderType"),e.exports.GetOrdersSimplified=l(n,"GetOrdersSimplified"),e.exports.GetOrder=l(n,"GetOrder"),e.exports.GetOrderReport=l(n,"GetOrderReport"),e.exports.GetOrdersReport=l(n,"GetOrdersReport"),e.exports.GetOrdersByProductionDate=l(n,"GetOrdersByProductionDate"),e.exports.UpdateOrder=l(n,"UpdateOrder"),e.exports.ToggleOrder=l(n,"ToggleOrder"),e.exports.DeleteOrder=l(n,"DeleteOrder"),e.exports.CreateOrder=l(n,"CreateOrder")},5146:function(e){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PaymentsParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Payment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"note"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confirmed_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_confirmed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PaymentsViaParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Via"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PaymentsOrderParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Order"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_owing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_paid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"states"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"client"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_owing"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPayments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"created_at"}},type:{kind:"NamedType",name:{kind:"Name",value:"Date"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pendencies"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"payments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"created_at"},value:{kind:"Variable",name:{kind:"Name",value:"created_at"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"column"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"order"},value:{kind:"EnumValue",value:"DESC"}}]}]}},{kind:"Argument",name:{kind:"Name",value:"pendencies"},value:{kind:"Variable",name:{kind:"Name",value:"pendencies"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsOrderParts"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPaymentsPendencies"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paymentsPendencies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"created_at_payment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePayment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PaymentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paymentCreate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsOrderParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"payments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePayment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PaymentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paymentUpdate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsOrderParts"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConfirmPayment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"confirmation"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paymentConfirm"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"confirmation"},value:{kind:"Variable",name:{kind:"Name",value:"confirmation"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsOrderParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"payments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateDailyPayment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DailyCashInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dailyCashEntry"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsOrderParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"payments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}}],loc:{start:0,end:1760}};t.loc.source={body:"fragment PaymentsParts on Payment {\n  id\n  value\n  date\n  note\n  confirmed_at\n  is_confirmed\n  created_at\n}\n\nfragment PaymentsViaParts on Via {\n  id\n  name\n}\n\nfragment PaymentsOrderParts on Order {\n  id\n  code\n  name\n  total_owing\n  total_paid\n  states\n  client {\n    id\n    name\n    total_owing\n  }\n}\n\nquery GetPayments (\n  $created_at: Date\n  $pendencies: Boolean\n) {\n  payments (\n    created_at: $created_at\n    orderBy: [{column: CREATED_AT order: DESC}]\n    pendencies: $pendencies\n  ) {\n    ...PaymentsParts\n\n    order {\n      ...PaymentsOrderParts\n    }\n\n    via {\n      ...PaymentsViaParts\n    }\n  }\n}\n\nquery GetPaymentsPendencies {\n  paymentsPendencies {\n    created_at_payment\n    total\n  }\n}\n\nmutation CreatePayment ($input: PaymentInput!) {\n  paymentCreate (input: $input) {\n    id\n    order {\n      ...PaymentsOrderParts\n      payments {\n        ...PaymentsParts\n        via {\n          ...PaymentsViaParts\n        }\n      }\n    }\n  }\n}\n\nmutation UpdatePayment ($id: ID! $input: PaymentInput!) {\n  paymentUpdate (id: $id input: $input) {\n    ...PaymentsParts\n    order {\n      ...PaymentsOrderParts\n    }\n    via {\n      ...PaymentsViaParts\n    }\n  }\n}\n\nmutation ConfirmPayment ($id: ID! $confirmation: Boolean!) {\n  paymentConfirm (id: $id confirmation: $confirmation) {\n    id\n    order {\n      ...PaymentsOrderParts\n      payments {\n        ...PaymentsParts\n        via {\n          ...PaymentsViaParts\n        }\n      }\n    }\n  }\n}\n\nmutation CreateDailyPayment ($input: DailyCashInput! ) {\n  dailyCashEntry (input: $input) {\n    ...PaymentsParts\n    order {\n      ...PaymentsOrderParts\n      payments {\n        ...PaymentsParts\n        via {\n          ...PaymentsViaParts\n        }\n      }\n    }\n    via {\n      ...PaymentsViaParts\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,s=new Set,o=new Set;r.forEach((function(e){o.add(e)}));while(o.size>0){var d=o;o=new Set,d.forEach((function(e){if(!s.has(e)){s.add(e);var t=n[e]||new Set;t.forEach((function(e){o.add(e)}))}}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(function(){t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}}))})(),e.exports=t,e.exports.PaymentsParts=r(t,"PaymentsParts"),e.exports.PaymentsViaParts=r(t,"PaymentsViaParts"),e.exports.PaymentsOrderParts=r(t,"PaymentsOrderParts"),e.exports.GetPayments=r(t,"GetPayments"),e.exports.GetPaymentsPendencies=r(t,"GetPaymentsPendencies"),e.exports.CreatePayment=r(t,"CreatePayment"),e.exports.UpdatePayment=r(t,"UpdatePayment"),e.exports.ConfirmPayment=r(t,"ConfirmPayment"),e.exports.CreateDailyPayment=r(t,"CreateDailyPayment")},4072:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"status"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:48}};t.loc.source={body:"query status {\n  status {\n    id \n    text\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,s=new Set,o=new Set;r.forEach((function(e){o.add(e)}));while(o.size>0){var d=o;o=new Set,d.forEach((function(e){if(!s.has(e)){s.add(e);var t=n[e]||new Set;t.forEach((function(e){o.add(e)}))}}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(function(){t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}}))})(),e.exports=t,e.exports.status=r(t,"status")},625:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return v}});var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"py-5 col col-sm-10 mx-auto"},[i("AppButton",{staticClass:"mb-2",attrs:{outlined:"",icon:e.icons.faArrowCircleLeft},on:{click:function(t){return e.$helpers.redirectTo(e.clients.show,{client:e.client})}}},[e._v(" Cliente ")]),e.client?i("AppCard",{scopedSlots:e._u([{key:"header",fn:function(){return[i("h6",{staticClass:"mb-0 fw-bold"},[i("FontAwesomeIcon",{staticClass:"me-1",attrs:{icon:e.icons.faBoxOpen}}),e._v(" Novo pedido para "+e._s(e.client.name)+" ")],1)]},proxy:!0},{key:"body",fn:function(){return[i("OrderForm",{on:{success:e.onSuccess}})]},proxy:!0}],null,!1,3366956807)}):e._e()],1)},a=[],r=i(9697),s=i(1436),o=i(5781),d=i(8299),l=i(2963),c={components:{OrderForm:l.Z},metaInfo(){return(0,r.Z)(this.client)?{title:"Carregando... "}:{title:`Novo pedido - ${this.client.name}`}},apollo:{client:{query:d.GetClient,variables(){return{id:this.$route.params.clientKey}}}},data(){return{client:{},clients:o.yj,icons:{faBoxOpen:s.IA$,faArrowCircleLeft:s.OFe}}},methods:{onSuccess({clientId:e,orderId:t}){this.$toast.success("Pedido criado!"),this.$helpers.redirectTo(o.A6.show,{client:e,order:t})}}},m=c,u=i(1001),p=(0,u.Z)(m,n,a,!1,null,null,null),v=p.exports},5848:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return y}});var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"py-5 col col-sm-10 mx-auto"},[i("AppButton",{staticClass:"mb-2",attrs:{outlined:"",icon:e.icons.faArrowCircleLeft},on:{click:e.redirectBackToOrder}},[e._v(" Pedido ")]),i("AppCard",{attrs:{color:"primary"},scopedSlots:e._u([{key:"header",fn:function(){return[i("h6",{staticClass:"d-flex fw-bold align-items-center mb-0"},[i("FontAwesomeIcon",{staticClass:"me-1",attrs:{icon:e.icons.faBoxOpen}}),e.isOrderPreRegistered?[e._v(" Concluir registro "+e._s(e.order.code?"- "+e.order.code:"")+" ")]:[e._v(" Alterar pedido - "+e._s(e.$helpers.fallback(e.order,"name","[SEM NOME]"))+" DE "+e._s(e.$helpers.fallback(e.order.client,"name"))+" ")]],2)]},proxy:!0},{key:"body",fn:function(){return[e.showReminder?i("OrderReminder",[e._v(" "+e._s(e.order.reminder)+" ")]):e._e(),i("OrderForm",e._b({ref:"orderForm",on:{success:e.onSuccess,"clothing-types-loaded":e.onClothingTypesLoaded}},"OrderForm",{isEdit:!0,order:e.order,isOrderPreRegistered:e.isOrderPreRegistered},!1)),i("AppLoading",{directives:[{name:"show",rawName:"v-show",value:!e.loaded,expression:"!loaded"}]})]},proxy:!0}])})],1)},a=[],r=i(9697),s=i(8652),o=i(1436),d=i(2383),l=i(1355),c=i(5781),m=i(2963),u=i(9099),p={metaInfo(){return(0,r.Z)(this.order)?{title:"Carregando..."}:this.isOrderPreRegistered?{title:"Concluir registro"}:{title:`${this.order.code} - Editar`}},components:{OrderForm:m.Z,OrderReminder:u.Z},mixins:[l.Z],apollo:{order:{query:d.GetOrder,variables(){const{clientKey:e,orderKey:t}=this.$route.params;return{id:t,client_id:e}},result({data:{order:e},loading:t}){t||this.$nextTick((()=>{this.$refs.orderForm.$emit("order-loaded",{order:(0,s.Z)(e)})}))}}},data(){return{orders:c.A6,order:{},clothingTypesLoaded:!1,icons:{faBoxOpen:o.IA$,faArrowCircleLeft:o.OFe}}},computed:{loaded(){return this.clothingTypesLoaded&&!(0,r.Z)(this.order)},showReminder(){return this.isOrderPreRegistered&&this.order.reminder}},methods:{isEmpty:r.Z,onSuccess({clientId:e,orderId:t}){this.$toast.success("Pedido atualizado!"),this.$helpers.redirectTo(c.A6.show,{client:e,order:t})},onClothingTypesLoaded(){this.clothingTypesLoaded=!0},redirectBackToOrder(){this.order.client?this.$helpers.redirectTo(c.A6.show,{client:this.order.client,order:this.order}):this.$helpers.redirectTo(c.A6.showPreRegistered,{order:this.order})}}},v=p,f=i(1001),k=(0,f.Z)(v,n,a,!1,null,null,null),y=k.exports},2963:function(e,t,i){"use strict";i.d(t,{Z:function(){return Oe}});var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AppForm",{attrs:{"on-submit":e.onSubmit,form:e.form}},[e.order&&!e.order.client?i("OrderFormClient",{attrs:{form:e.form}}):e._e(),i("OrderFormBasicInfo",{staticClass:"mb-3",attrs:{form:e.form}}),i("OrderFormValues",e._b({staticClass:"mb-3",on:{"clothing-types-loaded":e.onClothingTypesLoaded}},"OrderFormValues",{order:e.order,form:e.form,isEdit:e.isEdit,isOrderPreRegistered:e.isOrderPreRegistered},!1)),i("OrderFormProduction",{staticClass:"mb-3",attrs:{form:e.form}}),i("OrderFormFiles",e._b({on:{"selected-files":e.onSelectFiles,"delete-file":e.onDeleteFile}},"OrderFormFiles",{form:e.form,isEdit:e.isEdit},!1)),i("div",{staticClass:"mt-5"},[i("AppButton",{staticClass:"fw-bold",attrs:{type:"submit",loading:e.isLoading,color:"success",block:e.$isMobile}},[e._v(" "+e._s(e.isEdit?"Atualizar":"Cadastrar")+" ")])],1)],1)},a=[],r=i(5539),s=i(7859),o=i(3871),d=i(3317),l=i(8472),c=i(134);function m(e,t,i){var n=-1,a=t.length,r={};while(++n<a){var s=t[n],o=(0,d.Z)(e,s);i(o,s)&&(0,l.Z)(r,(0,c.Z)(s,e),o)}return r}var u=m,p=i(5487);function v(e,t){return u(e,t,(function(t,i){return(0,p.Z)(e,i)}))}var f=v,k=i(9907),y=(0,k.Z)((function(e,t){return null==e?{}:f(e,t)})),h=y,g=i(2383),_=i(1594),N=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mb-4"},[i("h5",{staticClass:"text-secondary fw-bold"},[e._v(" Cliente do pedido ")]),i("AppSelect",{attrs:{id:"client_id",value:e.form.client_id,name:"client_id","track-by":"id",options:e.clients,"custom-label":e.clientCustomLabel,loading:e.isLoadingClients,placeholder:"Busque um cliente...",error:e.form.errors.get("client_id")},on:{input:function(t){return e.form.set({client_id:t})},"search-change":e.onClientSearch},scopedSlots:e._u([{key:"noOptions",fn:function(){return[e._v(" Faça uma busca para exibir resultados ")]},proxy:!0}])},[e._v(" Nome ou telefone do cliente: ")])],1)},b=[],C=i(849),S={props:{form:{type:Object,required:!0}},data(){return{isLoadingClients:!1,clients:[]}},methods:{getWhereClause(e){return this.$helpers.isNumeric(e)?{column:"PHONE",operator:"LIKE",value:`%${e}%`}:{column:"NAME",operator:"LIKE",value:`%${e}%`}},async onClientSearch(e){if(this.isLoadingClients=!0,""===e)return this.clients=[],void(this.isLoadingClients=!1);const{data:{clients:t}}=await this.$apollo.query({query:C.GetClientsForForm,variables:{where:this.getWhereClause(e),orderBy:[{column:"NAME",order:"ASC"}]}});this.isLoadingClients=!1,this.clients=t.data},clientCustomLabel(e){return e.phone?`${e.name} - ${(0,s.CN)(e.phone)}`:e.name}}},O=S,x=i(1001),P=(0,x.Z)(O,N,b,!1,null,null,null),F=P.exports,D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AppContainer",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Informações básicas ")]},proxy:!0},{key:"body",fn:function(){return[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-sm"},[i("AppInput",{attrs:{id:"name",value:e.form.name,name:"name",placeholder:"Nome que descreva o pedido...",label:"Nome",error:e.form.errors.get("name"),optional:""},on:{input:function(t){return e.form.set({name:t})}}})],1),i("div",{staticClass:"col-12 col-sm"},[i("AppInput",{attrs:{id:"code",value:e.form.code,name:"code",placeholder:"Código do pedido...",error:e.form.errors.get("code"),label:"Código"},on:{input:function(t){return e.form.set({code:t})}}})],1)])]},proxy:!0}])})},w=[],T={props:{form:{type:Object,required:!0}}},A=T,$=(0,x.Z)(A,D,w,!1,null,null,null),E=$.exports,R=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AppContainer",{attrs:{color:e.form.errors.get("price")?"danger":"primary"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Valores ")]},proxy:!0},{key:"body",fn:function(){return[i("div",{staticClass:"mt-3 clothing-types-group",class:e.form.errors.get("price")&&"is-invalid"},[e.showPreRegisterPriceInfo?[i("div",{staticClass:"small text-warning mb-3"},[e._v(" Pedido pré-registrado com o valor de "),i("span",{staticClass:"fw-bold"},[e._v(e._s(e.$helpers.toBRL(e.order.original_price)))])])]:e._e(),i("div",[i("div",{staticClass:"row d-none d-sm-flex mb-3 text-secondary"},[i("div",{staticClass:"col"}),i("div",{staticClass:"col text-center fw-bold",class:e.form.errors.get("price")&&"text-danger"},[e._v(" QUANTIDADE ")]),i("div",{staticClass:"col text-center fw-bold",class:e.form.errors.get("price")&&"text-danger"},[e._v(" VALOR UNIT. ")]),i("div",{staticClass:"col text-center fw-bold"},[e._v(" TOTAL ")])]),e._l(e.clothingTypes,(function(t,n){return i("div",{key:t.key,staticClass:"d-flex row flex-column flex-sm-row"},[i("div",{staticClass:"col text-center text-sm-start mb-2 mb-sm-0 text-subtitle fw-bold",class:e.isValidType(n)&&"text-success"},[e._v(" "+e._s(t.name)+" ")]),i("div",{staticClass:"col"},[i("AppInput",{attrs:{value:e.form.clothing_types[n].quantity,name:"quantity_"+t.key,mask:e.maskInteger,numeric:"",hint:e.$isMobile?"Quantidade":""},on:{input:function(t){var i;return e.form.set((i={},i["form.clothing_types["+n+"].quantity"]=t,i))},focus:function(t){return e.form.errors.clear("price")}}})],1),i("div",{staticClass:"col"},[i("AppInput",{attrs:{value:e.form.clothing_types[n].value,mask:e.maskCurrencyBRL,name:"value_"+t.key,hint:e.$isMobile?"Valor unitário":"",numeric:""},on:{input:function(t){var i;return e.form.set((i={},i["form.clothing_types["+n+"].value"]=t,i))},focus:function(t){return e.form.errors.clear("price")}}})],1),i("div",{staticClass:"col"},[i("AppInput",{attrs:{value:e.evaluateTotalType(n),name:"total_"+t.key,hint:e.$isMobile?"Total":"",disabled:""}})],1)])})),i("hr",{staticClass:"d-block d-sm-none"}),i("div",{staticClass:"row"},[i("div",{staticClass:"col fw-bold text-subtitle d-none d-sm-block"},[e._v(" TOTAL ")]),i("div",{staticClass:"col"},[i("AppInput",{attrs:{"input-class":"fw-bold",value:e.totalQuantity,name:"total_quantity",hint:e.$isMobile?"Quantidade total":"",disabled:""}})],1),i("div",{staticClass:"col d-none d-sm-block"},[i("hr")]),i("div",{staticClass:"col"},[i("AppInput",{attrs:{"input-class":"fw-bold",value:e.totalValue,name:"total_value",hint:e.$isMobile?"Valor total":"",disabled:""}})],1)])],2),i("div",{staticClass:"small text-danger mb-1"},[e._v(" "+e._s(e.form.errors.get("price"))+" ")]),i("small",{staticClass:"text-secondary"},[e._v(" O valor só é estimado quando a "),i("b",[e._v("QUANTIDADE")]),e._v(" e "),i("b",[e._v("VALOR UNIT.")]),e._v(" de um tipo é preenchido. ")]),i("OrderFormValuesFinal",{attrs:{form:e.form,"final-value":e.finalValue,"is-edit":e.isEdit}})],2)]},proxy:!0}])})},I=[],L=i(3271),V=i.n(L),B=i(9697),q=i(4082),Z=i(5385),M=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mt-3"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-sm"},[i("AppInput",{attrs:{value:e.finalValue,disabled:"",name:"final_value","disabled-message":"O preço final é calculado automaticamente."}},[e._v(" Preço final ")])],1),i("div",{staticClass:"col-12 col-sm"},[i("AppInput",{attrs:{id:"discount",value:e.form.discount,mask:e.maskCurrencyBRL,name:"discount",error:e.form.errors.get("discount"),optional:"",numeric:""},on:{input:function(t){return e.form.set({discount:t})}}},[e._v(" Desconto ")])],1)]),e.isEdit?e._e():i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-sm"},[i("AppInput",{attrs:{id:"down_payment",value:e.form.down_payment,name:"down_payment",mask:e.maskCurrencyBRL,error:e.form.errors.get("down_payment"),optional:""},on:{input:function(t){return e.form.set({down_payment:t})}}},[e._v(" Entrada ")])],1),i("div",{staticClass:"col-12 col-sm"},[i("AppSimpleSelect",{attrs:{value:e.form.payment_via_id,name:"payment_via_id",options:e.vias,"label-prop":"name",error:e.form.errors.get("payment_via_id"),disabled:!e.hasDownPayment},on:{input:function(t){return e.form.set({payment_via_id:t})}}},[e._v(" Via da entrada ")])],1)])])},G=[],U=i(7241),j={props:{finalValue:{type:[String,Number],required:!0},form:{type:Object,required:!0},isEdit:{type:Boolean,default:!1}},apollo:{vias:{query:U.vias}},data(){return{vias:[],maskCurrencyBRL:(0,q.uP)({numeralPositiveOnly:!0})}},computed:{hasDownPayment(){return V().unformat(this.form.down_payment,",")>0}}},z=j,K=(0,x.Z)(z,M,G,!1,null,null,null),H=K.exports,Q={components:{OrderFormValuesFinal:H},props:{form:{type:Object,required:!0},isEdit:{type:Boolean,default:!1},order:{type:Object,default:()=>({})},isOrderPreRegistered:{type:Boolean,default:!1}},apollo:{clothingTypes:{query:Z.GetClothingTypes,variables:{is_hidden:!1},result({data:e}){this.$emit("clothing-types-loaded",e.clothingTypes)}}},data(){return{clothingTypes:[],maskCurrencyBRL:(0,q.uP)({numeralPositiveOnly:!0}),maskInteger:(0,q.sb)({delimiter:"",numeralDecimalScale:0})}},computed:{totalQuantity(){return this.clothingTypes.reduce(((e,t,i)=>{const n=V().unformat(this.form.clothing_types[i].value,",");return n>0&&(e+=+this.form.clothing_types[i].quantity),e}),0)},totalValue(){const e=this.clothingTypes.reduce(((e,t,i)=>{const n=this.form.clothing_types[i].quantity;return n>0&&(e+=V().unformat(this.evaluateTotalType(i),",")),e}),0);return(0,s.gv)(e)},isSomeFieldFilled(){return this.form.clothing_types.some(((e,t)=>this.isValidType(t)))},finalValue(){const e=V().unformat(this.totalValue,","),t=V().unformat(this.form.discount,","),i=V().toFixed(e-t,2);return this.isSomeFieldFilled?(0,s.gv)(i):"R$ "},showPreRegisterPriceInfo(){return!(0,B.Z)(this.order)&&this.isOrderPreRegistered&&null!==this.order.price}},methods:{isEmpty:B.Z,isValidType(e){const t=V().unformat(this.form.clothing_types[e].value,",");return this.form.clothing_types[e].quantity>0&&t>0},evaluateTotalType(e){const t=V().unformat(this.form.clothing_types[e].value,","),i=this.form.clothing_types[e].quantity,n=V().toFixed(i*t,2);return(0,s.gv)(n)}}},W=Q,Y=(0,x.Z)(W,R,I,!1,null,"4661cbd4",null),X=Y.exports,J=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AppContainer",{staticClass:"mt-3",scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Produção e entrega ")]},proxy:!0},{key:"body",fn:function(){return[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-sm"},[i("AppInput",{attrs:{id:"production_date",value:e.form.production_date,type:"date",name:"production_date",placeholder:"dd/mm/aaaa",mask:e.maskDate,error:e.form.errors.get("production_date")},on:{input:function(t){return e.form.set({production_date:t})}}},[e._v(" Data de produção ")])],1),i("div",{staticClass:"col-12 col-sm"},[i("AppInput",{attrs:{id:"delivery_date",value:e.form.delivery_date,name:"delivery_date",type:"date",placeholder:"dd/mm/aaaa",mask:e.maskDate,error:e.form.errors.get("delivery_date")},on:{input:function(t){return e.form.set({delivery_date:t})}}},[e._v(" Data de entrega ")])],1)])]},proxy:!0}])})},ee=[],te={props:{form:{type:Object,required:!0}},data(){return{maskDate:q.A3}}},ie=te,ne=(0,x.Z)(ie,J,ee,!1,null,null,null),ae=ne.exports,re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AppContainer",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Anexos ")]},proxy:!0},{key:"body",fn:function(){return[i("OrderFormFilesModal",{attrs:{"max-file-size":e.maxFileSize,items:e.transferedItems},on:{cancel:e.onCancel,"transfer-to-field":e.onTransferToField,"delete-file":e.onModalDeleteFile},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}}),i("div",{staticClass:"fw-bold small text-secondary mb-3"},[e._v(" Tamanho máximo para cada arquivo: "+e._s(e.formatBytes(e.maxFileSize))+" ")]),i("div",[i("AppInputFile",{attrs:{id:"art_paths",centered:"",multiple:"",optional:"",accept:"image/*"},on:{input:function(t){return e.onFileSelected(t,"art_paths")}}},[e._v(" Imagens da arte ")]),i("AppViewerItems",{attrs:{"show-delete-button":"",files:e.form.art_paths,"max-file-size":e.maxFileSize},on:{"delete-file":function(t){return e.onFileDelete(t,"art_paths")}},scopedSlots:e._u([e.isEdit?null:{key:"file-info",fn:function(t){var n=t.file;return[i("div",{staticClass:"small text-secondary text-center"},[e._v(" ("+e._s(e.truncate(n.name,{length:15}))+" - "),i("b",[e._v(e._s(e.formatBytes(n.size)))]),e._v(") ")])]}}],null,!0)})],1),i("div",[i("AppInputFile",{attrs:{id:"size_paths",centered:"",multiple:"",optional:"",accept:"image/*"},on:{input:function(t){return e.onFileSelected(t,"size_paths")}}},[e._v(" Imagens do tamanho ")]),i("AppViewerItems",{attrs:{"show-delete-button":"",files:e.form.size_paths,"max-file-size":e.maxFileSize},on:{"delete-file":function(t){return e.onFileDelete(t,"size_paths")}},scopedSlots:e._u([e.isEdit?null:{key:"file-info",fn:function(t){var n=t.file;return[i("div",{staticClass:"small text-secondary text-center"},[e._v(" ("+e._s(e.truncate(n.name,{length:15}))+" - "),i("b",[e._v(e._s(e.formatBytes(n.size)))]),e._v(") ")])]}}],null,!0)})],1),i("AppInputFile",{attrs:{id:"payment_voucher_paths",centered:"",multiple:"",optional:"",accept:"image/*,application/pdf"},on:{input:function(t){return e.onFileSelected(t,"payment_voucher_paths",e.VALID_TYPES.payment_voucher_paths)}}},[e._v(" Comprovantes de pagamento ")]),i("AppViewerItems",{attrs:{"show-delete-button":"","list-type":"card",files:e.form.payment_voucher_paths,"max-file-size":e.maxFileSize},on:{"delete-file":function(t){return e.onFileDelete(t,"payment_voucher_paths")}},scopedSlots:e._u([e.isEdit?null:{key:"file-info",fn:function(t){var n=t.file;return[i("div",{staticClass:"small text-secondary text-center"},[e._v(" ("),i("span",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{placement: 'bottom'}"}],attrs:{content:n.name}},[e._v(e._s(e.truncate(n.name,{length:15}))+" ")]),e._v(" - "),i("b",[e._v(e._s(e.formatBytes(n.size)))]),e._v(") ")])]}}],null,!0)})]},proxy:!0}])})},se=[],oe=i(4782),de=i(2244),le=i(2337),ce=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AppModal",e._g(e._b({attrs:{id:"orderFormFilesModal",centered:""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Escolha onde deseja anexar o(s) arquivo(s) ")]},proxy:!0},{key:"body",fn:function(){return[i("div",{staticClass:"mb-3"},[i("AppViewerItems",{attrs:{"max-file-size":e.maxFileSize,col:"6","show-delete-button":"",files:e.items},on:{"delete-file":e.onDeleteFile},scopedSlots:e._u([{key:"file-info",fn:function(t){var n=t.file;return[i("div",{staticClass:"small text-secondary text-center"},[e._v(" ("+e._s(e.truncate(n.name,{length:15}))+" - "),i("b",[e._v(e._s(e.formatBytes(n.size)))]),e._v(") ")])]}}])})],1),i("div",{staticClass:"d-flex flex-column justify-content-center"},[i("AppButton",{staticClass:"fw-bold d-block mb-3",attrs:{type:"button",icon:e.icons.faUpload},on:{click:function(t){return e.emitFieldToTransfer("art_paths")}}},[i("br"),e._v("Imagens da arte ")]),i("AppButton",{staticClass:"fw-bold d-block mb-3",attrs:{type:"button",icon:e.icons.faUpload},on:{click:function(t){return e.emitFieldToTransfer("size_paths")}}},[i("br"),e._v("Imagens do tamanho ")]),i("AppButton",{staticClass:"fw-bold d-block mb-3",attrs:{type:"button",icon:e.icons.faUpload},on:{click:function(t){return e.emitFieldToTransfer("payment_voucher_paths")}}},[i("br"),e._v("Comprovantes de pagamento ")])],1),i("div",{staticClass:"text-end"},[i("AppButton",{attrs:{type:"button","data-bs-dismiss":"modal",color:"light"},on:{click:e.onCancelClick}},[e._v(" Cancelar ")])],1)]},proxy:!0}])},"AppModal",e.$attrs,!1),e.$listeners))},me=[],ue=i(1436),pe={props:{items:{type:Array,default:()=>[]},maxFileSize:{type:Number,default:null}},data(){return{icons:{faUpload:ue.cf$}}},methods:{formatBytes:s.td,truncate:oe.Z,onCancelClick(){this.$emit("cancel")},emitFieldToTransfer(e){this.$emit("transfer-to-field",e)},onDeleteFile(e){this.$emit("delete-file",e)}}},ve=pe,fe=(0,x.Z)(ve,ce,me,!1,null,null,null),ke=fe.exports;const ye={art_paths:"image",size_paths:"image",payment_voucher_paths:["image","pdf"]};var he={components:{OrderFormFilesModal:ke},mixins:[de.Z,le.Z],props:{form:{type:Object,required:!0},isEdit:{type:Boolean,default:!1}},data(){return{VALID_TYPES:ye,maxFileSize:1048576,modal:!1,transferedItems:[],pasteEnabled:!1}},watch:{transferedItems(e){0===e.length&&(this.modal=!1)}},mounted(){document.addEventListener("paste",this.onPasteEvent)},beforeDestroy(){document.removeEventListener("paste",this.onPasteEvent)},methods:{formatBytes:s.td,truncate:oe.Z,afterPaste(e){this.transferedItems=e,this.modal=!0},async onFileSelected(e,t){const i=await this.getBase64Files(e),n=this.getOnlyValidFiles(i,ye[t]);this.$emit("selected-files",{files:n,field:t})},onTransferToField(e){const t=this.getOnlyValidFiles(this.transferedItems,ye[e]);this.$emit("selected-files",{files:t,field:e}),this.modal=!1,this.transferedItems=[]},onFileDelete(e,t){this.$emit("delete-file",{fileKey:e,field:t})},onCancel(){this.transferedItems=[]},onModalDeleteFile(e){const t=this.transferedItems.findIndex((t=>t.key===e));this.transferedItems.splice(t,1)}}},ge=he,_e=(0,x.Z)(ge,re,se,!1,null,null,null),Ne=_e.exports,be={components:{OrderFormClient:F,OrderFormBasicInfo:E,OrderFormValues:X,OrderFormProduction:ae,OrderFormFiles:Ne},props:{isEdit:{type:Boolean,default:!1},order:{type:Object,default:()=>{}},isOrderPreRegistered:{type:Boolean,default:!1}},data(){return{isLoading:!1,form:new r.Z({name:"",code:"",client_id:"",discount:"",down_payment:"",payment_via_id:"",production_date:"",delivery_date:"",clothing_types:[],art_paths:[],size_paths:[],payment_voucher_paths:[]})}},mounted(){this.$on("order-loaded",(({order:e})=>{this.populateForm(e)}))},methods:{getFile(e){return e.base64||e},getFormattedForm(){const e={...this.form.data()};return e.client_id=e.client_id?.id||"",e.art_paths=(0,o.Z)(e.art_paths,this.getFile),e.size_paths=(0,o.Z)(e.size_paths,this.getFile),e.payment_voucher_paths=(0,o.Z)(e.payment_voucher_paths,this.getFile),e},async update(){const e=this.getFormattedForm();try{const{data:{orderUpdate:{id:t,client:i}}}=await this.$apollo.mutate({mutation:g.UpdateOrder,variables:{id:this.order.id,input:{...e}}});this.$helpers.clearCacheFrom({fieldName:"weeklyProduction"}),this.$emit("success",{orderId:t,clientId:i.id})}catch(t){(0,_.S)(this,t)}},async create(){const e=this.getFormattedForm(),{clientKey:t}=this.$route.params;try{const{data:{orderCreate:{id:i}}}=await this.$apollo.mutate({mutation:g.CreateOrder,variables:{client_id:t,input:{...e}}});this.$helpers.clearCacheFrom([{id:t,__typename:"Client"},{fieldName:"orders"}]),this.$emit("success",{orderId:i,clientId:t})}catch(i){(0,_.S)(this,i)}},populateForm(e){const t=h(e,["name","price","code","discount","production_date","delivery_date","art_paths","size_paths","payment_voucher_paths"]);t.discount=0===+t.discount?"R$ ":this.$helpers.toBRL(t.discount),t.price=this.$helpers.toBRL(t.price),t.production_date=(0,s.DZ)(t.production_date),t.delivery_date=(0,s.DZ)(t.delivery_date);for(const i in t)this.form[i]=t[i];this.$on("clothing-types-loaded",(()=>{this.populateClothingTypes(e.clothing_types)}))},async onSubmit(){this.isLoading=!0,this.isEdit?await this.update():await this.create(),this.isLoading=!1},onClothingTypesLoaded(e){for(const t of e)this.form.clothing_types.push({key:t.key,value:"",quantity:""});this.$nextTick((()=>{this.$emit("clothing-types-loaded")}))},populateClothingTypes(e){this.form.clothing_types.forEach(((t,i)=>{const n=e.find((e=>e.key===t.key));n&&(this.form.clothing_types[i].value=this.$helpers.toBRL(n.value),this.form.clothing_types[i].quantity=n.quantity)}))},onSelectFiles({files:e,field:t}){this.form[t].push(...e)},onDeleteFile({fileKey:e,field:t}){const i=this.form[t].findIndex((t=>t.key===e||t===e));this.form[t].splice(i,1)}}},Ce=be,Se=(0,x.Z)(Ce,n,a,!1,null,null,null),Oe=Se.exports},7402:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return Q}});var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mx-auto py-5"},[i("FilterGeneralReportCard",{staticClass:"mb-2",on:{"report-generated":e.onReportGenerated}}),i("FilterProductionDateReportCard",{staticClass:"mb-2",on:{"report-generated":e.onReportGenerated}}),i("FilterSortButtons",{staticClass:"mb-3",on:{"filter-changed":e.onFilterButtonsChanged},model:{value:e.buttonSelected,callback:function(t){e.buttonSelected=t},expression:"buttonSelected"}}),i("FilterSearchInput",{staticClass:"mb-3",on:{search:e.onCodeSearch,"clear-search":e.onSearchClear},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),i("AppFileModal",{attrs:{id:"orderReport",src:e.modalReport.src,title:"Relatório do pedido"},on:{hidden:e.onCloseModalReport},model:{value:e.modalReport.value,callback:function(t){e.$set(e.modalReport,"value",t)},expression:"modalReport.value"}}),i("AppCard",{attrs:{"has-body-padding":!1},scopedSlots:e._u([{key:"header",fn:function(){return[i("div",{staticClass:"d-flex justify-content-between"},[i("h6",{staticClass:"fw-bold mb-0"},[i("FontAwesomeIcon",{attrs:{icon:e.icons.faBoxes,"fixed-width":""}}),e._v(" Todos os pedidos ")],1),i("OrdersQuestionIconTippy")],1)]},proxy:!0},{key:"body",fn:function(){return[e.isLoading?i("AppLoading"):e._e(),i("TheOrdersTable",{attrs:{items:e.orders.data}})]},proxy:!0}])}),i("AppPaginator",{staticClass:"mt-2",attrs:{"is-loading":e.isLoading,pagination:e.orders.paginatorInfo},model:{value:e.params.page,callback:function(t){e.$set(e.params,"page",t)},expression:"params.page"}})],1)},a=[],r=i(1436),s=i(2383);const o={PRIORITY:{orderBy:[{column:"CREATED_AT",order:"ASC"}],where:{column:"CLOSED_AT",operator:"IS_NULL"}},OLDER:{orderBy:[{column:"CREATED_AT",order:"ASC"}],where:null},NEWER:{orderBy:[{column:"CREATED_AT",order:"DESC"}],where:null},DELIVERY_DATE:{orderBy:[{column:"DELIVERY_DATE",order:"DESC"}],where:{column:"CLOSED_AT",operator:"IS_NULL"}},PRE_REGISTER:{where:{OR:[{column:"QUANTITY",operator:"IS_NULL"},{column:"CLIENT_ID",operator:"IS_NULL"}]}}};var d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AppCard",{attrs:{id:"generalReportCard",color:"success",collapsible:!0,collapsed:!0},scopedSlots:e._u([{key:"header",fn:function(){return[i("h6",{staticClass:"fw-bold mb-0"},[i("FontAwesomeIcon",{attrs:{icon:e.icons.faClipboardList,"fixed-width":""}}),e._v(" Relatório geral ")],1)]},proxy:!0},{key:"body",fn:function(){return[i("h6",{staticClass:"fw-bold"},[e._v(" Filtros ")]),i("div",{staticClass:"small text-secondary"},[e._v(" Filtre por "),i("b",[e._v("um")]),e._v(" ou "),i("b",[e._v("vários campos")]),e._v(" combinados. ")]),i("div",{staticClass:"small text-secondary"},[e._v(" Pedidos pré-registrados não são incluidos no relatório. ")]),i("AppForm",{attrs:{form:e.form,"on-submit":e.generateReport}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-sm-3"},[i("AppSelect",{attrs:{id:"city_id",name:"city_id",placeholder:"Selecione uma cidade",options:e.cities,"custom-label":e.customLabelCity},model:{value:e.form.city_id,callback:function(t){e.$set(e.form,"city_id",t)},expression:"form.city_id"}},[e._v(" Cidade ")])],1),i("div",{staticClass:"col-12 col-sm-3"},[i("AppSimpleSelect",{attrs:{id:"status_id",name:"status_id",options:e.status,"value-prop":"id","label-prop":e.customLabelStatus},model:{value:e.form.status_id,callback:function(t){e.$set(e.form,"status_id",t)},expression:"form.status_id"}},[e._v(" Status ")])],1),i("div",{staticClass:"col-12 col-sm-3"},[i("AppInput",{attrs:{id:"closed_at",mask:e.maskDate,name:"closed_at",placeholder:"dd/mm/aaaa",type:"date"},model:{value:e.form.closed_at,callback:function(t){e.$set(e.form,"closed_at",t)},expression:"form.closed_at"}},[e._v(" Data de fechamento ")])],1),i("div",{staticClass:"col-12 col-sm-3"},[i("AppInput",{attrs:{id:"delivery_date",mask:e.maskDate,name:"delivery_date",placeholder:"dd/mm/aaaa",type:"date"},model:{value:e.form.delivery_date,callback:function(t){e.$set(e.form,"delivery_date",t)},expression:"form.delivery_date"}},[e._v(" Data de entrega ")])],1)]),i("AppRadio",{attrs:{name:"state",options:e.stateOptions},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}},[e._v(" Pedidos: ")]),i("AppRadio",{attrs:{name:"order",options:e.orderOptions,align:e.$isMobile?"vertical":"horizontal"},scopedSlots:e._u([{key:"hint",fn:function(){return[e._v(" Ordem dos pedidos que deve aparecer primeiro ")]},proxy:!0}]),model:{value:e.form.order,callback:function(t){e.$set(e.form,"order",t)},expression:"form.order"}},[e._v(" Ordem: ")]),i("AppCheckboxSwitch",{attrs:{id:"displayFilterInfo"},model:{value:e.form.display_filter_info,callback:function(t){e.$set(e.form,"display_filter_info",t)},expression:"form.display_filter_info"}},[e._v(" Exibir informações do filtro no relatório ")]),i("AppButton",{staticClass:"mt-4",attrs:{outlined:"",loading:e.isLoading},on:{click:function(t){return t.preventDefault(),e.generateReport.apply(null,arguments)}}},[e._v(" Gerar relatório ")])],1)]},proxy:!0}])})},l=[],c=i(4082),m=i(448),u=i(4072),p=i(5539),v={apollo:{cities:{query:m.GetCities},status:{query:u.status}},data(){return{maskDate:c.A3,cities:[],status:[],isLoading:!1,form:new p.Z({city_id:"",status_id:"",closed_at:"",delivery_date:"",state:"OPEN",order:"OLDER",display_filter_info:!1}),icons:{faClipboardList:r.OGB}}},computed:{stateOptions(){return[{id:"OPEN",label:"Em aberto",value:"OPEN"},{id:"ALL",label:"Todos",value:"ALL"}]},orderOptions(){return[{id:"OLDER",label:"Mais antigo",value:"OLDER"},{id:"NEWER",label:"Mais recente",value:"NEWER"},{id:"DELIVERY_DATE",label:"Data de enterga",value:"DELIVERY_DATE"}]}},methods:{getFormattedData(){const e=this.form.data();return e.city_id=e.city_id?.id??"",e.status_id=e.status_id?.id??"",e},async generateReport(){const e=this.getFormattedData();this.isLoading=!0;const{data:t}=await this.$apollo.query({query:s.GetOrdersReport,variables:{input:e},fetchPolicy:"network-only"});this.isLoading=!1,this.$emit("report-generated",t.ordersReport)},onModalHidden(){this.src=""},customLabelCity(e){return e.state?`${e.name} - ${e.state.abbreviation}`:e.name},customLabelStatus({id:e,text:t}){return`${e}. ${t}`}}},f=v,k=i(1001),y=(0,k.Z)(f,d,l,!1,null,null,null),h=y.exports,g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AppCard",{attrs:{id:"productionDateReportCard",color:"success",collapsible:!0,collapsed:!0},scopedSlots:e._u([{key:"header",fn:function(){return[i("h6",{staticClass:"fw-bold mb-0"},[i("FontAwesomeIcon",{attrs:{icon:e.icons.faClipboardList,"fixed-width":""}}),e._v(" Relatório por data de produção ")],1)]},proxy:!0},{key:"body",fn:function(){return[i("h6",{staticClass:"fw-bold"},[e._v(" Filtros ")]),i("AppForm",{attrs:{form:e.form,"on-submit":e.generateReport}},[i("AppInput",{attrs:{id:"date",name:"date",placeholder:"dd/mm/aaaa",mask:e.maskDate,type:"date",error:e.form.errors.get("date")},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}},[e._v(" Data de produção ")]),i("AppRadio",{attrs:{name:"state_p",options:e.orderOptions,error:e.form.errors.get("state")},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}},[e._v(" Pedidos: ")]),i("AppButton",{attrs:{outlined:"",loading:e.isLoading},on:{click:function(t){return t.preventDefault(),e.generateReport.apply(null,arguments)}}},[e._v(" Gerar relatório ")])],1)]},proxy:!0}])})},_=[],N=i(1594),b={data(){return{maskDate:c.A3,isLoading:!1,form:new p.Z({date:"",state:"OPEN"}),icons:{faClipboardList:r.OGB}}},computed:{orderOptions(){return[{id:"is_open_p",label:"Em aberto",value:"OPEN"},{id:"all_p",label:"Todos",value:"ALL"}]}},methods:{async generateReport(){const e=this.form.data();this.isLoading=!0;try{const{data:t}=await this.$apollo.query({query:s.GetOrdersByProductionDate,variables:{input:e},fetchPolicy:"network-only"});this.$emit("report-generated",t.ordersReportProductionDate)}catch(t){(0,N.S)(this,t)}this.isLoading=!1}}},C=b,S=(0,k.Z)(C,g,_,!1,null,null,null),O=S.exports,x=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"table-responsive-sm"},[i("div",{staticClass:"btn-group mb-1",attrs:{role:"group","aria-label":"Filtro geral de pedidos"}},[e._l(e.radios,(function(t,n){return[i("input",{key:n+"__input",staticClass:"btn-check",attrs:{id:n+"__sort",type:"radio",name:"sort_buttons",autocomplete:"off"},domProps:{value:n,checked:e.value===n},on:{input:function(t){return e.$emit("input",t.target.value)},change:e.onOptionChange}}),i("label",{key:n+"__label",staticClass:"btn btn-outline-primary text-nowrap",class:e.value===n&&"fw-bold",attrs:{for:n+"__sort"}},[e._v(" "+e._s(t)+" ")])]}))],2),i("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.value,expression:"value !== ''"}],staticClass:"text-secondary small mb-2 mb-sm-0",class:"pre_register"===e.value&&"text-danger"},[i("FontAwesomeIcon",{staticClass:"me-1",attrs:{"fixed-width":"",icon:e.icons.faExclamationCircle}}),i("span",{domProps:{innerHTML:e._s(e.messagesOfFilters[e.value])}})],1)])},P=[],F={props:{value:{type:String,required:!0}},data(){return{radios:{priority:"Prioritários",older:"Mais antigos",newer:"Mais recentes",delivery_date:"Data de entrega",pre_register:"Pré-registro"},icons:{faExclamationCircle:r.RLE}}},computed:{messagesOfFilters(){return{priority:"<strong>Ordem de cadastro mais antigo primeiro</strong>, apenas pedidos em aberto",older:"<strong>Ordem de cadastro mais antigos primeiros</strong>, incluindo pedidos fechados",newer:"<strong>Ordem de cadastro mais recente primeiros</strong>, incluindo pedidos fechados",delivery_date:"\n          <strong>Ordem de data de entrega mais antiga primeiro</strong>, apenas pedidos em aberto\n          <br/>(pedidos sem data de entrega informada ficam por último).\n        ",pre_register:"<strong>Pedidos que precisam ter seus dados completados.</strong>"}}},methods:{onOptionChange(){this.$emit("filter-changed",this.value)}}},D=F,w=(0,k.Z)(D,x,P,!1,null,null,null),T=w.exports,A=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"col-12 col-sm-6"},[i("AppInput",{attrs:{id:"code",value:e.value,name:"code",placeholder:"Por código...","default-margin":!1},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"append",fn:function(){return[i("AppButton",{attrs:{outlined:"",icon:e.icons.faSearch},on:{click:e.onSearchClick}})]},proxy:!0}])}),""!==e.value?i("a",{staticClass:"text-decoration-none small",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onClearSearchClick.apply(null,arguments)}}},[e._v("Limpar busca")]):e._e()],1)},$=[],E={props:{value:{type:String,default:""}},data(){return{icons:{faSearch:r.wn1}}},methods:{onSearchClick(){this.$emit("search")},onClearSearchClick(){this.$emit("clear-search")}}},R=E,I=(0,k.Z)(R,A,$,!1,null,null,null),L=I.exports,V=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AppTable",{attrs:{headers:e.headers,items:e.items,"row-class":e.orderClass,route:e.tableRowRoute}})},B=[],q=i(5781),Z={props:{items:{type:Array,default:()=>[]}},computed:{headers(){return[{text:"Cliente",value:"client.name"},{text:"Cód. pedido",value:"code"},{text:"Quantidade",value:"quantity"},{text:"Valor total",value:"price",format:"currencyBRL"},{text:"Total pago",value:"total_paid",format:"currencyBRL"},{text:"Produção",value:"production_date",format:"datetime"},{text:"Entrega",value:"delivery_date",format:"datetime"}]}},methods:{tableRowRoute(e){return e.client?{name:q.A6.show,params:this.$helpers.getRouteParams({order:e,client:e.client})}:{name:q.A6.showPreRegistered,params:this.$helpers.getRouteParams({order:e})}},orderClass(e){return e.states.includes("PRE-REGISTERED")?"table-warning":e.states.includes("CLOSED")?"table-secondary":e.states.includes("PAID")?"table-success":""}}},M=Z,G=(0,k.Z)(M,V,B,!1,null,null,null),U=G.exports,j=i(3221),z={components:{FilterGeneralReportCard:h,FilterProductionDateReportCard:O,FilterSortButtons:T,FilterSearchInput:L,TheOrdersTable:U,OrdersQuestionIconTippy:j.Z},metaInfo(){return{title:"Pedidos"}},apollo:{orders:{query:s.GetOrdersSimplified,variables(){return{...this.params}}}},data(){return{code:"",buttonSelected:"priority",params:{page:1,...o.PRIORITY},modalReport:{value:!1,src:""},orders:{data:[],paginatorInfo:{}},icons:{faBoxes:r.G1z}}},computed:{isLoading(){return!!this.$apollo.queries.orders.loading},hasSearchMade(){return""===this.buttonSelected}},methods:{onFilterButtonsChanged(e){const t=o[e.toUpperCase()];this.code="",this.params={...this.params,...t,page:1}},onCodeSearch(){this.buttonSelected="",this.params={page:1,order:[{column:"created_at",order:"DESC"}],where:{column:"CODE",operator:"LIKE",value:`%${this.code}%`}}},restartFilter(){this.buttonSelected="priority",this.code=""},onSearchClear(){this.hasSearchMade&&this.restartFilter(),this.onFilterButtonsChanged(this.buttonSelected)},onReportGenerated(e){this.modalReport.src=e,this.modalReport.value=!0},onCloseModalReport(){this.modalReport.src=""}}},K=z,H=(0,k.Z)(K,n,a,!1,null,null,null),Q=H.exports},8939:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return kt}});var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"py-5 mx-auto"},[e.isLoading?e._e():i("ModalOrderPayment",e._b({on:{success:e.onPaymentCreated},model:{value:e.modalOrderPayment.value,callback:function(t){e.$set(e.modalOrderPayment,"value",t)},expression:"modalOrderPayment.value"}},"ModalOrderPayment",Object.assign({},e.modalOrderPayment,{order:e.order}),!1)),e.isLoading?e._e():i("ModalOrderStatus",{attrs:{order:e.order},on:{success:e.onStatusUpdated},model:{value:e.modalOrderStatus.value,callback:function(t){e.$set(e.modalOrderStatus,"value",t)},expression:"modalOrderStatus.value"}}),e.isLoading?e._e():i("ModalOrderDelete",{attrs:{order:e.order},on:{success:e.onOrderDeleted},model:{value:e.modalOrderDelete.value,callback:function(t){e.$set(e.modalOrderDelete,"value",t)},expression:"modalOrderDelete.value"}}),e.isLoading?e._e():i("AppFileModal",{attrs:{id:"orderReport",src:e.modalOrderReport.src,title:"Relatório do pedido"},on:{hidden:e.onCloseModalReport},model:{value:e.modalOrderReport.value,callback:function(t){e.$set(e.modalOrderReport,"value",t)},expression:"modalOrderReport.value"}}),i("div",[i("TheOrderHeader",e._b({staticClass:"mb-2",on:{"open-modal":e.onOpenModal}},"TheOrderHeader",{order:e.order,isLoading:e.isLoading,isOrderClosed:e.isOrderClosed,isOrderPaid:e.isOrderPaid,isOrderPreRegistered:e.isOrderPreRegistered,isReportLoading:e.modalOrderReport.loading},!1))],1),i("div",{staticClass:"d-flex row flex-column flex-sm-row"},[i("div",{staticClass:"col col-sm-3 mb-2 mb-sm-0"},[i("ClientCard",{attrs:{"is-loading":e.isLoading,client:e.order.client}})],1),i("div",{staticClass:"col col-sm-9"},[i("TheOrderCard",e._b({on:{"on-open-modal":e.onOpenModal}},"TheOrderCard",{isLoading:e.isLoading,isOrderClosed:e.isOrderClosed,isOrderPreRegistered:e.isOrderPreRegistered,order:e.order},!1))],1)])],1)},a=[],r=i(9697),s=i(2383),o=i(1355),d=i(5781),l=i(2089),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"d-flex row flex-column flex-sm-row justify-content-between"},[i("div",{staticClass:"col-sm-3 mb-2 mb-sm-0"},[i("AppButton",{attrs:{outlined:"","disabled-message":!e.order.client&&"O pedido não possui cliente"},on:{click:function(t){return e.$helpers.redirectTo(e.clients.show,{client:e.order.client})}}},[i("FontAwesomeIcon",{attrs:{icon:e.icons.faArrowAltCircleLeft}}),e._v(" Cliente ")],1)],1),i("div",{staticClass:"col d-flex flex-column flex-sm-row justify-content-between"},[i("div",{staticClass:"col col-sm-4 d-flex mb-2 mb-sm-0"},[i("AppButton",{staticClass:"flex-grow-1 flex-sm-grow-0",attrs:{color:"success",outlined:"",icon:e.icons.faDollarSign,"disabled-message":e.paymentBtnDisabledMessage},on:{click:e.onAddPaymentClick}},[e._v(" Adicionar pagamento ")])],1),i("div",{staticClass:"col col-sm-4 d-flex justify-content-end"},[i("AppButton",{staticClass:"me-1 flex-grow-1 flex-sm-grow-0",attrs:{icon:e.icons.faFileInvoice,disabled:e.isReportDisabled,loading:e.isReportLoading},on:{click:function(t){return t.preventDefault(),e.onGenerateReportClick.apply(null,arguments)}}},[e._v(" Gerar relatório ")]),i("AppButton",{attrs:{id:"dropdownOptions","data-bs-toggle":"dropdown",icon:e.icons.faEllipsisH,disabled:!e.order}}),i("TheOrderHeaderCogOptions",e._b({on:{"open-modal":e.onOpenModal}},"TheOrderHeaderCogOptions",{order:e.order,isLoading:e.isLoading,isOrderClosed:e.isOrderClosed,isOrderPreRegistered:e.isOrderPreRegistered,isOrderPaid:e.isOrderPaid},!1))],1)])])},m=[],u=i(1436),p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isLoading?e._e():i("ul",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownOptions"},on:{click:function(e){e.stopPropagation()}}},[i("AppDropdownItem",{attrs:{"disabled-message":e.isOrderClosed&&"Não é possível editar pedidos fechados.",icon:e.icons.faEdit,text:e.isOrderPreRegistered?"Concluir cadastro":"Editar","icon-color":"primary"},on:{click:function(t){return t.preventDefault(),e.redirectToOrderEdit.apply(null,arguments)}}}),i("AppDropdownItem",{attrs:{icon:e.icons.faTrashAlt,text:"Excluir","icon-color":"danger"},on:{click:e.onDeleteOrderClick}}),i("div",{staticClass:"dropdown-divider"}),i("AppDropdownItem",{attrs:{"disabled-message":e.isOrderClosed&&"Não é possível alterar status de pedidos fechados.",icon:e.icons.faExchangeAlt,text:"Alterar status","icon-color":"primary"},on:{click:e.onChangeStatusClick}}),i("AppDropdownItem",{attrs:{"disabled-message":!e.isOrderPaid&&"Não é possível fechar pedidos com pendência financeira.",icon:e.isOrderClosed?e.icons.faBoxOpen:e.icons.faTimesCircle,text:e.isOrderClosed?"Reabrir pedido":"Fechar pedido","icon-color":"primary"},on:{click:function(t){return t.preventDefault(),e.toggleOrder.apply(null,arguments)}}})],1)},v=[],f={props:{order:{type:Object,default:null},isLoading:{type:Boolean,default:!1},isReportLoading:{type:Boolean,default:!1},isOrderClosed:{type:Boolean,required:!0},isOrderPaid:{type:Boolean,required:!0},isOrderPreRegistered:{type:Boolean,required:!0}},data(){return{icons:{faEdit:u.Xcf,faTrashAlt:u.I7k,faExchangeAlt:u.Ssp,faTimesCircle:u.nYk,faBoxOpen:u.IA$}}},methods:{async toggleOrder(){const e=null===this.order.closed_at;try{await this.$apollo.mutate({mutation:s.ToggleOrder,variables:{id:this.order.id}}),this.$toast.success(e?"Pedido fechado":"Pedido reaberto")}catch(t){this.$toast.error("Ops! Algo deu errado.")}},redirectToOrderEdit(){const{clientKey:e,orderKey:t}=this.$route.params;this.order.client?this.$helpers.redirectTo(d.A6.edit,{client:e,order:t}):this.$helpers.redirectTo(d.A6.editPreRegistered,{order:this.order})},onDeleteOrderClick(){this.$emit("open-modal",{modal:"delete-order"})},onChangeStatusClick(){this.$emit("open-modal",{modal:"change-status"})}}},k=f,y=i(1001),h=(0,y.Z)(k,p,v,!1,null,null,null),g=h.exports,_={components:{TheOrderHeaderCogOptions:g},props:{order:{type:Object,default:()=>{}},isLoading:{type:Boolean,default:!1},isReportLoading:{type:Boolean,default:!1},isOrderClosed:{type:Boolean,required:!0},isOrderPaid:{type:Boolean,required:!0},isOrderPreRegistered:{type:Boolean,required:!0}},data(){return{clients:d.yj,icons:{faEllipsisH:u.cNd,faFileInvoice:u.fab,faDollarSign:u.egO,faArrowAltCircleLeft:u.nP8}}},computed:{isReportDisabled(){return!this.order||!this.order.code},paymentBtnDisabledMessage(){return!!(0,r.Z)(this.order)||(this.isOrderPaid?"Pedido já pago":this.isOrderClosed?"Não é possível registrar pagamento em pedidos fechados.":null===this.order.price&&"Pedido em pré-registro sem preço, impossível efetuar pagamentos.")}},methods:{isEmpty:r.Z,onAddPaymentClick(){this.$emit("open-modal",{modal:"payment",payload:{isEdit:!1}})},onGenerateReportClick(){this.$emit("open-modal",{modal:"report"})},onOpenModal(e){this.$emit("open-modal",e)}}},N=_,b=(0,y.Z)(N,c,m,!1,null,null,null),C=b.exports,S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isLoading?i("TheOrderCardPlaceholder"):i("AppCard",{attrs:{color:e.cardColor},scopedSlots:e._u([{key:"header",fn:function(){return[i("TheOrderCardHeader",e._b({},"TheOrderCardHeader",{order:e.order,isOrderClosed:e.isOrderClosed},!1))]},proxy:!0},{key:"body",fn:function(){return[i("TheOrderCardBody",e._b({on:{"open-modal":e.onOpenModalRequest}},"TheOrderCardBody",{order:e.order,isOrderPreRegistered:e.isOrderPreRegistered},!1))]},proxy:!0}],null,!1,2889264065)})},O=[],x=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.showReminder?i("OrderReminder",[e._v(" "+e._s(e.order.reminder)+" ")]):e._e(),i("AppContainer",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Detalhes do Pedido ")]},proxy:!0},{key:"body",fn:function(){return[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-sm mb-3 mb-sm-0"},[i("div",{staticClass:"fw-bold small text-secondary"},[e._v(" Nome ")]),i("b",{staticClass:"text-subtitle"},[e._v(" "+e._s(e.$helpers.fallback(e.order.name))+" ")])]),i("div",{staticClass:"col text-right text-sm-center"},[i("div",{staticClass:"fw-bold small text-secondary"},[e._v(" Código ")]),i("b",{staticClass:"text-subtitle"},[e._v(" "+e._s(e.$helpers.fallback(e.order.code))+" ")])]),i("div",{staticClass:"col text-start text-sm-end"},[i("div",{staticClass:"fw-bold small text-secondary"},[e._v(" Registrado em ")]),i("b",{staticClass:"text-subtitle"},[e._v(" "+e._s(e.formatDatetime(e.order.created_at))+" ")])])]),i("div",{staticClass:"d-flex justify-content-between mt-3"},[i("div",[i("b",{staticClass:"small text-secondary"},[e._v("Status")]),i("h6",{staticClass:"fw-bold",class:e.order.status.is_available?"text-success":"text-warning"},[e._v(" "+e._s(e.order.status.text)+" ")])]),i("div",[i("b",{staticClass:"small text-secondary"},[e._v("Quantidade")]),i("h5",{staticClass:"fw-bold text-center"},[e._v(" "+e._s(e.$helpers.fallback(e.order.quantity))+" ")])])]),i("div",{staticClass:"mt-3 d-flex justify-content-between"},[i("div",[i("b",{staticClass:"small text-secondary"},[e._v("Data de produção")]),i("div",[e._v(" "+e._s(e.$helpers.fallback(e.formatDatetime(e.order.production_date)))+" ")])]),i("div",[i("b",{staticClass:"small text-secondary"},[e._v("Data de entrega")]),i("div",[e._v(" "+e._s(e.$helpers.fallback(e.formatDatetime(e.order.delivery_date)))+" ")])])])]},proxy:!0}])}),e.shouldShowClothingTypes?i("OrderClothingTypes",{staticClass:"mt-3",attrs:{order:e.order}}):e._e(),null!==e.order.price?i("AppContainer",{staticClass:"mt-3",scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Valor total ")]},proxy:!0},{key:"body",fn:function(){return[i("div",{staticClass:"my-3 d-flex flex-column flex-sm-row justify-content-around"},[i("div",[i("div",[i("b",{staticClass:"small text-secondary"},[e._v("Valor total")])]),i("h5",{staticClass:"text-primary mb-0",domProps:{innerHTML:e._s(e.$helpers.toBRL(e.order.original_price,!0))}}),e.order.discount?[i("div",{staticClass:"small text-secondary"},[e._v(" DESCONTO: "),i("b",[e._v(e._s(e.$helpers.toBRL(-e.order.discount)))])]),i("div",{staticClass:"small text-primary"},[e._v(" VALOR FINAL: "),i("b",[e._v(e._s(e.$helpers.toBRL(e.order.original_price-e.order.discount)))])])]:e._e()],2),i("div",{staticClass:"my-2 my-sm-0"},[i("div",[i("b",{staticClass:"small text-secondary"},[e._v("Total pago")])]),i("h5",{staticClass:"mb-0",class:{"text-success":e.order.total_paid>=0},domProps:{innerHTML:e._s(e.$helpers.toBRL(e.order.total_paid,!0))}})]),i("div",[i("div",[i("b",{staticClass:"small text-secondary"},[e._v("Faltar pagar")])]),i("h5",{class:{"text-success":e.order.total_owing<=0,"text-danger":e.order.total_owing>0},domProps:{innerHTML:e._s(e.$helpers.toBRL(e.order.total_owing,!0))}})])])]},proxy:!0}],null,!1,3937149801)}):e._e(),i("OrderNotes",{staticClass:"mt-3",attrs:{"order-id":e.order.id,notes:e.order.notes}}),i("OrderPayments",{staticClass:"mt-3",attrs:{payments:e.order.payments},on:{"open-modal":function(t){return e.$emit("open-modal",t)}}}),i("OrderFiles",{staticClass:"mt-3",attrs:{order:e.order}})],1)},P=[],F=i(7859),D=i(9099),w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AppContainer",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Tipos de roupa ")]},proxy:!0},{key:"body",fn:function(){return[i("AppTable",{attrs:{"table-class":"table-sm",headers:e.headers,items:e.order.clothing_types},scopedSlots:e._u([{key:"items.total",fn:function(t){var n=t.item;return[i("span",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:"("+n.quantity+" x "+e.$helpers.toBRL(n.value)+")"}},[e._v(" "+e._s(e.$helpers.toBRL(n.total))+" ")])]}},{key:"bodyAppend",fn:function(){return[e.hasDiscount?[i("tr",{staticClass:"fw-bold"},[i("td",{attrs:{colspan:"3"}},[e._v(" TOTAL ")]),i("td",[e._v(" "+e._s(e.$helpers.toBRL(e.order.total_clothings_value))+" ")])]),i("tr",{staticClass:"fw-bold"},[i("td",{attrs:{colspan:"3",nowrap:""}},[e._v(" DESCONTO ")]),i("td",{attrs:{nowrap:""}},[e._v(" "+e._s(e.$helpers.toBRL(-e.order.discount))+" ")])])]:e._e(),i("tr",{staticClass:"fw-bold table-primary"},[i("td",{attrs:{nowrap:""}},[e._v(" VALOR FINAL ")]),i("td",{attrs:{colspan:"2",nowrap:""}},[e._v(" "+e._s(e.order.quantity)+" ")]),i("td",{attrs:{nowrap:""}},[e._v(" "+e._s(e.$helpers.toBRL(e.order.price))+" ")])])]},proxy:!0}],null,!0)})]},proxy:!0}])})},T=[],A={props:{order:{type:Object,required:!0}},computed:{hasDiscount(){return this.order.discount>0},headers(){return[{text:"TIPO",value:"name"},{text:"QUANTIDADE",value:"quantity"},{text:"VALOR UNIT.",value:"value",format:"currencyBRL"},{text:"TOTAL",value:"total_value",format:"currencyBRL"}]}}},$=A,E=(0,y.Z)($,w,T,!1,null,null,null),R=E.exports,I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AppContainer",{scopedSlots:e._u([{key:"title",fn:function(){return[i("FontAwesomeIcon",{attrs:{icon:e.icons.faStickyNote}}),e._v(" Anotações "),i("span",{staticClass:"link-white clickable small ms-2",on:{click:function(t){return t.preventDefault(),e.onNewNoteClick.apply(null,arguments)}}},[e._v(" (+ NOVA NOTA) ")])]},proxy:!0},{key:"body",fn:function(){return[e.notes.length||e.newNote.value?i("ul",{staticClass:"list-group list-group-flush"},[e.newNote.value?i("li",{staticClass:"list-group-item d-flex align-items-center"},[i("OrderNotesForm",{attrs:{"order-id":e.orderId},on:{cancel:e.dismissNewNote,success:e.dismissNewNote}})],1):e._e(),e._l(e.notes,(function(t){return i("li",{key:t.id,staticClass:"list-group-item text-subtitle"},[e.editNote.note.id===t.id?[i("OrderNotesForm",{attrs:{"is-edit":!0,"order-id":e.orderId,note:e.editNote.note},on:{cancel:e.dismissEditNote,success:e.dismissEditNote}})]:i("div",{staticClass:"d-flex flex-column "},[i("div",{staticClass:"d-flex justify-content-between mb-2"},[i("div",[e._v(" "+e._s(t.text)+" ")]),i("div",{staticClass:"text-secondary small"},[e._v(" "+e._s(e.formatDatetime(t.created_at,"dd/MM/y 'ás' HH:mm"))+" ")])]),i("OrderNotesActionButtons",e._b({on:{edit:e.onEditNote,delete:e.onDeleteNote,"cancel-delete":e.onCancelDelete,"confirm-delete":e.onConfirmDelete}},"OrderNotesActionButtons",{note:t,deleteNote:e.deleteNote},!1))],1)],2)}))],2):i("div",{staticClass:"text-secondary text-center py-3"},[e._v(" Nenhuma anotação registrada ")])]},proxy:!0}])})},L=[],V=i(4467),B=i(5539),q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AppForm",{staticClass:"w-100",attrs:{form:e.form,"on-submit":e.onSubmit}},[i("div",{staticClass:"d-flex flex-column"},[i("div",{staticClass:"mb-2"},[i("AppTextarea",{ref:"input",attrs:{name:"text",placeholder:"Digite a anotação...","default-margin":!1,error:e.form.errors.get("text")},model:{value:e.form.text,callback:function(t){e.$set(e.form,"text",t)},expression:"form.text"}})],1),i("div",[i("AppButton",{attrs:{"btn-class":"btn-sm me-2 px-4",loading:e.isLoading,icon:e.icons.faCheck,color:"success"},on:{click:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}}),i("AppButton",{attrs:{"btn-class":"btn-sm px-4",disabled:e.isLoading,type:"button",icon:e.icons.faTimes,color:"light"},on:{click:function(t){return t.preventDefault(),e.onCancel.apply(null,arguments)}}})],1)])])},Z=[],M=i(1594),G={props:{note:{type:Object,default:()=>({})},isEdit:{type:Boolean,default:!1},orderId:{type:String,required:!0}},data(){return{isLoading:!1,icons:{faCheck:u.LEp,faTimes:u.NBC},form:new B.Z({text:""})}},mounted(){this.$refs.input.focusInput(),this.isEdit&&(this.form.text=this.note.text)},methods:{async onSubmit(){this.isEdit?await this.onUpdate():await this.onCreate()},onCancel(){this.$emit("cancel")},async onCreate(){const{text:e}=this.form.data();this.isLoading=!0;try{await this.$apollo.mutate({mutation:V.CreateNote,variables:{order_id:this.orderId,text:e},refetchQueries:[s.GetOrder],awaitRefetchQueries:!0}),(0,M.s)(this,{message:"Anotação registrada!"})}catch(t){(0,M.S)(this,t)}this.isLoading=!1},async onUpdate(){const{id:e}=this.note,{text:t}=this.form.data();this.isLoading=!0;try{await this.$apollo.mutate({mutation:V.UpdateNote,variables:{id:e,text:t}}),(0,M.s)(this,{message:"Anotação atualizada!"})}catch(i){(0,M.S)(this,i)}this.isLoading=!1}}},U=G,j=(0,y.Z)(U,q,Z,!1,null,null,null),z=j.exports,K=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.deleteNote.note.id===e.note.id?i("div",{staticClass:"d-flex"},[i("AppButton",{attrs:{"btn-class":"btn-sm fw-bold",color:"success",loading:e.deleteNote.isLoading},on:{click:function(t){return t.preventDefault(),e.onConfirmDeleteClick(e.note)}}},[e._v(" Confirmar ")]),i("AppButton",{staticClass:"ms-2",attrs:{"btn-class":"btn-sm",color:"light",disabled:e.deleteNote.isLoading},on:{click:function(t){return t.preventDefault(),e.onCancelDeleteClick(e.note)}}},[e._v(" Cancelar ")])],1):i("div",{staticClass:"d-flex"},[i("AppButton",{staticClass:"me-3",attrs:{tooltip:"Editar","btn-class":"btn-sm px-4",outlined:"",icon:e.icons.faEdit},on:{click:function(t){return t.preventDefault(),e.onEditClick(e.note)}}}),i("AppButton",{attrs:{color:"danger",tooltip:"Deletar","btn-class":"btn-sm px-4",outlined:"",icon:e.icons.faTrashAlt},on:{click:function(t){return t.preventDefault(),e.onDeleteClick(e.note)}}})],1)},H=[],Q={props:{deleteNote:{type:Object,required:!0},note:{type:Object,required:!0}},data(){return{icons:{faTrashAlt:u.I7k,faEdit:u.Xcf}}},methods:{onEditClick(){this.$emit("edit",this.note)},onDeleteClick(){this.$emit("delete",this.note)},onCancelDeleteClick(){this.$emit("cancel-delete")},onConfirmDeleteClick(){this.$emit("confirm-delete")}}},W=Q,Y=(0,y.Z)(W,K,H,!1,null,null,null),X=Y.exports,J={components:{OrderNotesForm:z,OrderNotesActionButtons:X},props:{orderId:{type:String,default:""},notes:{type:Array,default:()=>[]}},data(){return{newNote:{value:!1},editNote:{note:{}},deleteNote:{note:{},isLoading:!1},form:new B.Z({text:""}),icons:{faStickyNote:u.L4e}}},methods:{formatDatetime:F.DZ,async onDelete(){const{id:e}=this.deleteNote.note;this.deleteNote.isLoading=!0;try{await this.$apollo.mutate({mutation:V.DeleteNote,variables:{id:e}}),this.$helpers.clearCacheFrom({id:e,__typename:"Note"}),this.$toast.success("Anotação deletada!")}catch(t){this.$toast.error("Ops! Algo deu errado, tente novamente!")}this.deleteNote.note={},this.deleteNote.isLoading=!1},onNewNoteClick(){this.form.reset(),this.editNote.note={},this.newNote.value=!this.newNote.value},onEditNote(e){this.form.reset(),this.newNote.value=!1,this.form.text=e.text,this.editNote.note=e},dismissNewNote(){this.newNote.value=!1},dismissEditNote(){this.editNote.note={}},onDeleteNote(e){this.deleteNote.note=e},onConfirmDelete(){this.onDelete()},onCancelDelete(){this.deleteNote.note={}}}},ee=J,te=(0,y.Z)(ee,I,L,!1,null,null,null),ie=te.exports,ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AppContainer",{scopedSlots:e._u([{key:"title",fn:function(){return[i("FontAwesomeIcon",{attrs:{icon:e.icons.faHandHoldingUsd}}),e._v(" Pagamentos ")]},proxy:!0},{key:"body",fn:function(){return[e.payments.length?i("div",[i("ModalOrderPayment",{attrs:{"modal-id":"editPaymentModal","is-edit":!0,payment:e.selectedPayment},on:{refresh:function(t){return e.$emit("refresh")}}}),i("ul",{staticClass:"list-group list-group-flush"},e._l(e.payments,(function(t){return i("li",{key:t.id,staticClass:"list-group-item text-subtitle",class:{"list-group-item-danger":!1===t.is_confirmed,"list-group-item-warning":null===t.is_confirmed}},[i("div",{staticClass:"d-flex flex-column flex-sm-row justify-content-between align-items-sm-center"},[i("div",{staticClass:"mb-3 mb-sm-0"},[i("div",[i("b",[e._v(e._s(e.$helpers.toBRL(t.value)))]),e._v(" em "),i("b",[e._v(e._s(e.formatDatetime(t.date)))]),e._v(" via "),i("b",[e._v(e._s(t.via.name))]),t.is_confirmed?e._e():i("span",{staticClass:"fw-bold"},[e._v(" - ["+e._s(e.getPaymentState(t))+"] ")])]),t.note?i("div",{staticClass:"small text-secondary"},[i("strong",[e._v("NOTA:")]),e._v(" "+e._s(t.note)+" ")]):e._e()]),null===t.is_confirmed?i("div",{staticClass:"d-flex"},[e.$helpers.canView(e.roles.GERENCIA)?[i("AppButton",{staticClass:"flex-grow-1",attrs:{outlined:"",block:e.$isMobile,"btn-class":"btn-sm",color:"success",icon:e.icons.faCheck,tooltip:"Confirmar",loading:t.id===e.loadingId},on:{click:function(i){return i.preventDefault(),e.onConfirmPayment(t,!0)}}}),i("AppButton",{staticClass:"mx-2 flex-grow-1",attrs:{outlined:"","btn-class":"btn-sm",color:"danger",icon:e.icons.faTimes,block:e.$isMobile,tooltip:"Recusar",disabled:t.id===e.loadingId},on:{click:function(i){return i.preventDefault(),e.onConfirmPayment(t,!1)}}})]:e._e(),i("AppButton",{staticClass:"flex-grow-1",attrs:{outlined:"",block:e.$isMobile,"btn-class":"btn-sm",tooltip:"Editar",icon:e.icons.faEdit},on:{click:function(i){return i.preventDefault(),e.onEditPaymentClick(t)}}})],2):e._e()])])})),0)],1):i("div",{staticClass:"text-secondary text-center py-3"},[e._v(" Nenhum pagamento registrado ")])]},proxy:!0}])})},ae=[],re=i(5146),se=i(2776),oe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AppModal",e._g({attrs:{id:"paymentModal",color:"success",value:e.value,centered:""},scopedSlots:e._u([{key:"title",fn:function(){return[i("FontAwesomeIcon",{attrs:{icon:e.icons.faDollarSign,"fixed-width":""}}),e._v(" "+e._s(e.isEdit?"Alterar pagamento":"Novo pagamento")+" ")]},proxy:!0},{key:"body",fn:function(){return[e.payment?i("div",{staticClass:"text-center my-3"},[e._v(" Pagamento de "),i("b",[e._v(e._s(e.formatCurrencyBRL(e.payment.value)))]),e._v(" em "),i("b",[e._v(e._s(e.formatDatetime(e.payment.date)))])]):e._e(),i("OrderPaymentForm",{attrs:{order:e.order,"is-edit":e.isEdit,payment:e.payment},on:{success:e.onSuccess}})]},proxy:!0}])},e.$listeners))},de=[],le=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AppForm",{attrs:{"on-submit":e.onSubmit,form:e.form}},[e.isEdit?e._e():[i("AppInput",{attrs:{id:"value",name:"value",error:e.form.errors.get("value"),mask:e.maskCurrencyBRL,numeric:""},scopedSlots:e._u([{key:"append",fn:function(){return[i("AppButton",{attrs:{outlined:"",tooltip:e.$helpers.toBRL(e.order.total_owing)},on:{click:function(t){return t.preventDefault(),e.onPayRestClick.apply(null,arguments)}}},[e._v(" Restante ")])]},proxy:!0}],null,!1,2258795658),model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}},[e._v(" Valor ")]),i("AppInput",{attrs:{id:"date",placeholder:"dd/mm/aaaa",name:"date",type:"date","today-button":"",mask:e.maskDate,error:e.form.errors.get("date")},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}},[e._v(" Data de pagamento ")])],i("AppSimpleSelect",{attrs:{id:"payment_via_id",name:"payment_via_id",options:e.vias,"label-prop":"name",error:e.form.errors.get("payment_via_id")},model:{value:e.form.payment_via_id,callback:function(t){e.$set(e.form,"payment_via_id",t)},expression:"form.payment_via_id"}},[e._v(" Via ")]),i("AppInput",{attrs:{id:"note",name:"note",placeholder:"Anotação extra do pagamento...",error:e.form.errors.get("note")},model:{value:e.form.note,callback:function(t){e.$set(e.form,"note",t)},expression:"form.note"}},[e._v(" Observação ")]),i("div",{staticClass:"row mt-4"},[i("div",{staticClass:"col"},[i("AppButton",{staticClass:"fw-bold",attrs:{type:"submit",color:"success",block:"",loading:e.isLoading}},[e._v(" "+e._s(e.isEdit?"ATUALIZAR":"REGISTRAR")+" ")])],1),i("div",{staticClass:"col"},[i("AppButton",{attrs:{type:"button",color:"light",block:"","data-bs-dismiss":"modal"}},[e._v(" Cancelar ")])],1)])],2)},ce=[],me=i(7241),ue=i(4082),pe={apollo:{vias:{query:me.vias}},props:{order:{type:Object,default:()=>{}},payment:{type:Object,default:()=>{}},isEdit:{type:Boolean,default:!1}},data(){return{form:new B.Z({value:"R$ ",date:"",payment_via_id:"",note:""}),maskCurrencyBRL:(0,ue.uP)(),maskDate:ue.A3,isLoading:!1}},computed:{clientKey(){return this.$route.params.clientKey},orderKey(){return this.$route.params.orderKey},paymentKey(){return this.payment?.id}},watch:{payment(e){if(!e)return this.form.payment_via_id="",void(this.form.note="");this.form.payment_via_id=e.via.id,this.form.note=e.note}},methods:{onPayRestClick(){this.form.value=this.$helpers.toBRL(this.order.total_owing)},async create(){try{await this.$apollo.mutate({mutation:re.CreatePayment,variables:{input:{order_id:this.order.id,...this.form.data()}}}),this.$helpers.clearCacheFrom([{fieldName:"payments"},{fieldName:"cashFlowEntries"}]),(0,M.s)(this,{message:"Pagamento registrado!",resetForm:!0})}catch(e){(0,M.S)(this,e)}},async update(){try{await this.$apollo.mutate({mutation:re.UpdatePayment,variables:{id:this.payment.id,input:{order_id:this.order.id,...this.form.data()}}}),this.clearDailyCashCache(this.payment.id),(0,M.s)(this,{message:"Pagamento atualizado!"})}catch(e){(0,M.S)(this,e)}},async onSubmit(){this.isLoading=!0,this.isEdit?await this.update():await this.create(),this.isLoading=!1}}},ve=pe,fe=(0,y.Z)(ve,le,ce,!1,null,null,null),ke=fe.exports,ye={components:{OrderPaymentForm:ke},props:{value:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},payment:{type:Object,default:()=>{}},order:{type:Object,default:()=>{}}},data(){return{formatCurrencyBRL:F.gv,formatDatetime:F.DZ,icons:{faDollarSign:u.egO}}},methods:{onSuccess(){this.$emit("success")}}},he=ye,ge=(0,y.Z)(he,oe,de,!1,null,null,null),_e=ge.exports;const Ne={null:"PENDENTE",false:"RECUSADO",true:"APROVADO"};var be={components:{ModalOrderPayment:_e},props:{payments:{type:Array,default:()=>[]}},data(){return{roles:se.Z,icons:{faEdit:u.Xcf,faCheck:u.LEp,faTimes:u.NBC,faHandHoldingUsd:u.oFW},selectedPayment:{},loadingId:""}},methods:{formatDatetime:F.DZ,getPaymentState(e){return Ne[e.is_confirmed]},onEditPaymentClick(e){this.$emit("open-modal",{modal:"payment",payload:{payment:e,isEdit:!0}})},async onConfirmPayment({id:e},t){this.loadingId=e;try{await this.$apollo.mutate({mutation:re.ConfirmPayment,variables:{id:e,confirmation:t}}),this.$helpers.clearCacheFrom({fieldName:"cashFlowEntries"}),this.$toast.success(t?"Pagamento confirmado!":"Pagamento recusado!")}catch(i){this.$toast.error("Ops! Algo deu errado, tente novamente!")}this.loadingId=""}}},Ce=be,Se=(0,y.Z)(Ce,ne,ae,!1,null,null,null),Oe=Se.exports,xe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AppContainer",{attrs:{id:"files","header-class":"text-secondary",collapsible:"",value:!0},scopedSlots:e._u([{key:"title",fn:function(){return[i("FontAwesomeIcon",{attrs:{icon:e.icons.faFileImage,"fixed-width":""}}),i("span",{staticClass:"me-2"},[e._v("Anexos")]),e.filesCount?i("small",{staticClass:"badge rounded-pill bg-light text-dark "},[e._v(e._s(e.filesCount))]):e._e()]},proxy:!0},{key:"body",fn:function(){return[e.filesCount?i("div",e._l(e.FILES_MAP,(function(t,n){return i("div",{key:n},[e.order[n]?i("div",{staticClass:"mb-3"},[i("div",{staticClass:"text-subtitle fw-bold text-secondary mb-1"},[e._v(" "+e._s(t)+" ")]),e.order[n].length?i("div",[i("AppViewerItems",{attrs:{alt:t,files:e.order[n]}})],1):i("div",{staticClass:"text-center text-secondary py-4"},[e._v(" Nenhum anexo registrado ")])]):i("div",[i("div",{staticClass:"texse me dissesset-secondary mb-1"},[e._v(" • "+e._s(t)+" ")]),i("div",{staticClass:"small text-center text-secondary py-5"},[e._v(" Nenhum anexo registrado ")])])])})),0):e._e(),i("div",{staticClass:"py-3 text-secondary text-center"},[e._v(" Nenhum anexo registrado ")])]},proxy:!0}])})},Pe=[],Fe=i(7179);const De={art_paths:"Imagens da arte",size_paths:"Imagens do tamanho",payment_voucher_paths:"Comprovantes de pagamento"};var we={props:{order:{type:Object,required:!0}},data(){return{FILES_MAP:De,icons:{faFileImage:u.Oi0}}},computed:{filesCount(){const e=(0,Fe.Z)(De);return e.reduce(((e,t)=>{const i=(0,r.Z)(this.order[t])?0:this.order[t].length;return i+e}),0)}}},Te=we,Ae=(0,y.Z)(Te,xe,Pe,!1,null,null,null),$e=Ae.exports,Ee={components:{OrderClothingTypes:R,OrderNotes:ie,OrderPayments:Oe,OrderFiles:$e,OrderReminder:D.Z},props:{order:{type:Object,required:!0},isOrderPreRegistered:{type:Boolean,required:!0}},computed:{showReminder(){return this.isOrderPreRegistered&&this.order.reminder},shouldShowClothingTypes(){return!this.order.quantity||this.order.clothing_types.length}},methods:{formatDatetime:F.DZ}},Re=Ee,Ie=(0,y.Z)(Re,x,P,!1,null,null,null),Le=Ie.exports,Ve=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.order?i("h6",{staticClass:"d-flex justify-content-between fw-bold align-items-center mb-0"},[i("div",[i("FontAwesomeIcon",{staticClass:"me-1",attrs:{icon:e.icons.faBoxOpen}}),e._v(" Pedido - "+e._s(e.$helpers.fallback(e.order.name,null,"[SEM NOME]"))+" ")],1),e.isOrderClosed?i("div",[e._v(" PEDIDO FECHADO "),i("div",{staticClass:"small"},[e._v(" Em "+e._s(e.formatDatetime(e.order.closed_at))+" ")])]):e._e()]):e._e()},Be=[],qe={props:{order:{type:Object,default:()=>({})},isOrderClosed:{type:Boolean,required:!0}},data(){return{icons:{faBoxOpen:u.IA$}}},methods:{formatDatetime:F.DZ}},Ze=qe,Me=(0,y.Z)(Ze,Ve,Be,!1,null,null,null),Ge=Me.exports,Ue=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AppCard",{scopedSlots:e._u([{key:"header",fn:function(){return[i("h6",{staticClass:"fw-bold mb-0"},[i("FontAwesomeIcon",{staticClass:"me-1",attrs:{icon:e.icons.faBoxOpen}}),e._v("Pedido - ")],1)]},proxy:!0},{key:"body",fn:function(){return[i("div",{staticClass:"py-5"},[i("AppLoading")],1)]},proxy:!0}])})},je=[],ze={data(){return{icons:{faBoxOpen:u.IA$}}}},Ke=ze,He=(0,y.Z)(Ke,Ue,je,!1,null,null,null),Qe=He.exports,We={components:{TheOrderCardBody:Le,TheOrderCardHeader:Ge,TheOrderCardPlaceholder:Qe},props:{isLoading:{type:Boolean,default:!1},order:{type:Object,default:null},isOrderClosed:{type:Boolean,default:!1},isOrderPreRegistered:{type:Boolean,default:!1}},computed:{cardColor(){return this.order.states.includes("CLOSED")?"secondary":this.order.states.includes("PRE-REGISTERED")?"warning":"primary"}},methods:{onOpenModalRequest(e){this.$emit("on-open-modal",e)}}},Ye=We,Xe=(0,y.Z)(Ye,S,O,!1,null,null,null),Je=Xe.exports,et=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AppModal",e._g({attrs:{id:"orderStatusModal",color:"success",centered:"",value:e.value},scopedSlots:e._u([{key:"title",fn:function(){return[i("FontAwesomeIcon",{attrs:{icon:e.icons.faExchangeAlt,"fixed-width":""}}),e._v(" Alterar status do pedido ")]},proxy:!0},{key:"body",fn:function(){return[i("div",{staticClass:"mb-4"},[i("div",{staticClass:"text-center mb-3"},[i("div",{staticClass:"text-secondary small"},[e._v(" STATUS ATUAL ")]),i("h5",{staticClass:"fw-bold",class:e.order.status.avaliable?"text-success":"text-warning"},[e._v(" "+e._s(e.order.status.text)+" ")])]),i("h6",{staticClass:"fw-bold"},[e._v(" Alterar para: ")]),e._l(e.status,(function(t){return i("div",{key:t.id,staticClass:"form-check"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticClass:"form-check-input",attrs:{id:"radio__"+t.id+"__id",type:"radio",name:"radio__"+t.id+"__name"},domProps:{value:t.id,checked:e.selected===e.order.status.id,checked:e._q(e.selected,t.id)},on:{change:function(i){e.selected=t.id}}}),i("label",{staticClass:"form-check-label",attrs:{for:"radio__"+t.id+"__id"}},[e._v(" "+e._s(t.id)+". "+e._s(t.text)+" ")])])}))],2),i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("AppButton",{staticClass:"fw-bold",attrs:{loading:e.isLoading,color:"success",block:""},on:{click:function(t){return t.preventDefault(),e.updateStatus.apply(null,arguments)}}},[e._v(" Salvar ")])],1),i("div",{staticClass:"col"},[i("AppButton",{attrs:{type:"button",block:"",color:"light","data-bs-dismiss":"modal"}},[e._v(" Fechar ")])],1)])]},proxy:!0}])},e.$listeners))},tt=[],it=i(4072),nt={apollo:{status:{query:it.status}},props:{order:{type:Object,default:()=>({})},value:{type:Boolean,default:!1}},data(){return{icons:{faExchangeAlt:u.Ssp},isLoading:!1,status:[],selected:this.order.status.id}},computed:{clientKey(){return this.$route.params.clientKey},orderKey(){return this.$route.params.orderKey}},methods:{async updateStatus(){this.isLoading=!0;try{await this.$apollo.mutate({mutation:s.UpdateOrder,variables:{id:this.order.id,input:{status_id:this.selected}}}),(0,M.s)(this,{message:"Status alterado!"})}catch(e){(0,M.S)(this,e)}this.isLoading=!1}}},at=nt,rt=(0,y.Z)(at,et,tt,!1,null,null,null),st=rt.exports,ot=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AppModal",e._g({attrs:{id:"orderDeleteModal",color:"danger",centered:"",value:e.value},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Deletar pedido - "+e._s(e.order.code)+" ")]},proxy:!0},{key:"body",fn:function(){return[i("div",[i("div",{staticClass:"text-center"},[i("FontAwesomeIcon",{staticClass:"text-danger",attrs:{icon:e.icons.faTrashAlt,size:"4x"}}),i("h5",{staticClass:"fw-bold mt-3"},[e._v(" Você tem certeza? ")]),i("div",[e._v("Isso deleterá todos os pagamentos, anexos e anotações do pedido.")])],1),e.order.code?i("div",{staticClass:"mt-3"},[i("AppInput",{attrs:{id:"code",name:"code",placeholder:"Digite o código do pedido..."},model:{value:e.orderCode,callback:function(t){e.orderCode=t},expression:"orderCode"}},[e._v(" Confirme o código do pedido ("+e._s(e.order.code)+"): ")])],1):e._e(),i("div",{staticClass:"row mt-5"},[i("div",{staticClass:"col"},[i("AppButton",{staticClass:"fw-bold",attrs:{color:"success",disabled:!e.isPreConfirmed,loading:e.isLoading,block:""},on:{click:e.deleteOrder}},[e._v(" CONFIRMAR ")])],1),i("div",{staticClass:"col"},[i("AppButton",{attrs:{"data-bs-dismiss":"modal",color:"light",block:""}},[e._v(" Cancelar ")])],1)])])]},proxy:!0}])},e.$listeners))},dt=[],lt={props:{value:{type:Boolean,default:!1},order:{type:Object,default:()=>{}}},data(){return{orderCode:"",icons:{faTrashAlt:u.I7k},isLoading:!1}},computed:{isPreConfirmed(){return!this.order.code||this.orderCode===this.order.code},clientKey(){return this.$route.params.clientKey},orderKey(){return this.$route.params.orderKey}},methods:{async delete(){await this.$apollo.mutate({mutation:s.DeleteOrder,variables:{id:this.order.id}}),this.$emit("success")},deleteOrder(){if(this.isLoading=!0,!this.isPreConfirmed)return this.isLoading=!1,void this.$toast.error("Confirme o código do pedido primeiramente.");this.delete()}}},ct=lt,mt=(0,y.Z)(ct,ot,dt,!1,null,null,null),ut=mt.exports,pt={metaInfo(){return(0,r.Z)(this.order)?{title:"Carregando..."}:this.isOrderPreRegistered?{title:"PRE-REGISTRO"}:this.order?{title:this.order.code}:void 0},components:{ClientCard:l.Z,TheOrderCard:Je,TheOrderHeader:C,ModalOrderPayment:_e,ModalOrderStatus:st,ModalOrderDelete:ut},mixins:[o.Z],apollo:{order:{query:s.GetOrder,variables(){const{clientKey:e,orderKey:t}=this.$route.params;return{id:t,client_id:e}},result({data:{order:e}}){e||this.$store.commit("SET_ERROR",404)}}},data(){return{order:{},modalOrderPayment:{payment:null,value:!1,isEdit:!1},modalOrderStatus:{value:!1},modalOrderDelete:{value:!1},modalOrderReport:{value:!1,src:"",loading:!1}}},computed:{isLoading(){return!!this.$apollo.queries.order.loading}},methods:{openModal(e){this[e].value=!0},closeModal(e){this[e].value=!1},async openModalReport(){this.modalOrderReport.loading=!0;const{data:e}=await this.$apollo.query({query:s.GetOrderReport,variables:{id:this.order.id},fetchPolicy:"network-only"});this.modalOrderReport.loading=!1,this.modalOrderReport.src=e.orderReport,this.openModal("modalOrderReport")},onCloseModalReport(){this.modalOrderReport.src=""},openModalOrderPayment({payment:e,isEdit:t}){this.modalOrderPayment.isEdit=t,this.modalOrderPayment.payment=e||null,this.modalOrderPayment.value=!0},onPaymentCreated(){this.closeModal("modalOrderPayment")},onStatusUpdated(){this.closeModal("modalOrderStatus")},onOrderDeleted(){this.closeModal("modalOrderDelete"),this.$nextTick((()=>{this.order.client?this.$helpers.redirectTo(d.yj.show,{client:this.order.client}):this.$helpers.redirectTo(d.yj.index)}))},onOpenModal({modal:e,payload:t}){"payment"===e&&this.openModalOrderPayment(t),"delete-order"===e&&this.openModal("modalOrderDelete"),"change-status"===e&&this.openModal("modalOrderStatus"),"report"===e&&this.openModalReport()}}},vt=pt,ft=(0,y.Z)(vt,n,a,!1,null,null,null),kt=ft.exports},9099:function(e,t,i){"use strict";i.d(t,{Z:function(){return c}});var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"d-flex flex-column align-middle text-center"},[i("div",[i("FontAwesomeIcon",{staticClass:"text-warning me-2",attrs:{icon:e.icons.faExclamationTriangle,size:"2x"}})],1),i("div",[e._t("default")],2),i("hr")])},a=[],r=i(1436),s={data(){return{icons:{faExclamationTriangle:r.eHv}}}},o=s,d=i(1001),l=(0,d.Z)(o,n,a,!1,null,null,null),c=l.exports},1355:function(e,t){"use strict";t["Z"]={computed:{isOrderPreRegistered(){return!this.order?.states||this.order.states.includes("PRE-REGISTERED")},isOrderClosed(){return!!this.order?.states&&this.order.states.includes("CLOSED")},isOrderPaid(){return!!this.order?.states&&this.order.states.includes("PAID")}}}}}]);
//# sourceMappingURL=orders.dc6369ca.js.map