(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[486],{5385:function(e){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ClothingTypeParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClothingType"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_hidden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commission"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetClothingTypes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"is_hidden"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clothingTypes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"is_hidden"},value:{kind:"Variable",name:{kind:"Name",value:"is_hidden"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ClothingTypeParts"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateClothingType"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ClothingTypeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clothingTypeCreate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateClothingType"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ClothingTypeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clothingTypeUpdate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ClothingTypeParts"},directives:[]}]}}]}}],loc:{start:0,end:470}};t.loc.source={body:"fragment ClothingTypeParts on ClothingType {\n  id\n  key\n  name\n  is_hidden\n  commission\n}\n\nquery GetClothingTypes ($is_hidden: Boolean) {\n  clothingTypes (is_hidden: $is_hidden) {\n    ...ClothingTypeParts\n  }\n}\n\nmutation CreateClothingType ($input: ClothingTypeInput!) {\n  clothingTypeCreate (input: $input) {\n    id\n  }\n}\n\nmutation UpdateClothingType ($id: ID! $input: ClothingTypeInput!) {\n  clothingTypeUpdate (id: $id input: $input) {\n    ...ClothingTypeParts\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function r(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,d=new Set;r.forEach((function(e){d.add(e)}));while(d.size>0){var s=d;d=new Set,s.forEach((function(e){if(!o.has(e)){o.add(e);var t=i[e]||new Set;t.forEach((function(e){d.add(e)}))}}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(function(){t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}}))})(),e.exports=t,e.exports.ClothingTypeParts=r(t,"ClothingTypeParts"),e.exports.GetClothingTypes=r(t,"GetClothingTypes"),e.exports.CreateClothingType=r(t,"CreateClothingType"),e.exports.UpdateClothingType=r(t,"UpdateClothingType")},4467:function(e){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NoteParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"order_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"text"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"noteCreate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"order_id"},value:{kind:"Variable",name:{kind:"Name",value:"order_id"}}},{kind:"Argument",name:{kind:"Name",value:"text"},value:{kind:"Variable",name:{kind:"Name",value:"text"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NoteParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"client"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"text"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"noteUpdate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"text"},value:{kind:"Variable",name:{kind:"Name",value:"text"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NoteParts"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"noteDelete"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NoteParts"},directives:[]}]}}]}}],loc:{start:0,end:436}};t.loc.source={body:"fragment NoteParts on Note {\n  id\n  text\n  created_at\n}\n\nmutation CreateNote ($order_id: ID! $text: String!) {\n  noteCreate (order_id: $order_id text: $text) {\n    ...NoteParts\n    order {\n      id\n\n      client {\n        id\n      }\n    }\n  }\n}\n\nmutation UpdateNote ($id: ID! $text: String!) {\n  noteUpdate (id: $id text: $text) {\n    ...NoteParts\n  }\n}\n\nmutation DeleteNote ($id: ID!) {\n  noteDelete (id: $id) {\n    ...NoteParts\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function r(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,d=new Set;r.forEach((function(e){d.add(e)}));while(d.size>0){var s=d;d=new Set,s.forEach((function(e){if(!o.has(e)){o.add(e);var t=i[e]||new Set;t.forEach((function(e){d.add(e)}))}}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(function(){t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}}))})(),e.exports=t,e.exports.NoteParts=r(t,"NoteParts"),e.exports.CreateNote=r(t,"CreateNote"),e.exports.UpdateNote=r(t,"UpdateNote"),e.exports.DeleteNote=r(t,"DeleteNote")},2383:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OrderParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Order"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"original_price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"states"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_paid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_owing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_clothings_value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"production_date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"delivery_date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closed_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"art_paths"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size_paths"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"payment_voucher_paths"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reminder"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"OrderSimplifiedParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Order"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_paid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"production_date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"delivery_date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"states"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_owing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"client"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"OrderClientShippingCompanyParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Client"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shipping_company"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"OrderClientBranchParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Client"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"branch"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"OrderClientCityParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Client"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"abbreviation"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"OrderClientParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Order"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"client"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_owing"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"OrderClientBranchParts"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"OrderClientCityParts"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"OrderClientShippingCompanyParts"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"StatusParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Order"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_available"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ClothingTypesParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Order"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clothing_types"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_hidden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commission"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_value"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PaymentsPart"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Order"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"payments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"note"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confirmed_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_confirmed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"NotesParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Order"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"OrderType"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Order"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderParts"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"OrderClientParts"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"StatusParts"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ClothingTypesParts"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsPart"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"NotesParts"},directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrdersSimplified"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orderBy"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"QueryOrdersOrderByOrderByClause"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NamedType",name:{kind:"Name",value:"QueryOrdersWhereWhereConditions"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orders"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}},{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"Variable",name:{kind:"Name",value:"orderBy"}}},{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paginatorInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaginatorSimpleParts"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderSimplifiedParts"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"client_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"order"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"client_id"},value:{kind:"Variable",name:{kind:"Name",value:"client_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderType"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrderReport"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderReport"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrdersReport"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"OrdersReportInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ordersReport"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrdersByProductionDate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"OrdersReportProductionDateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ordersReportProductionDate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateOrder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"OrderInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderUpdate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderType"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ToggleOrder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderToggle"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderType"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteOrder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderDelete"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderType"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateOrder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"client_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"OrderInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderCreate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"client_id"},value:{kind:"Variable",name:{kind:"Name",value:"client_id"}}},{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderType"},directives:[]}]}}]}}],loc:{start:0,end:2795}};i.loc.source={body:'#import "./_PaginatorFragment.gql"\n\nfragment OrderParts on Order {\n  id\n  code\n  name\n  price\n  original_price\n  states\n  discount\n  quantity\n  total_paid\n  total_owing\n  total_clothings_value\n  production_date\n  delivery_date\n  created_at\n  closed_at\n  art_paths\n  size_paths\n  payment_voucher_paths\n  reminder\n}\n\nfragment OrderSimplifiedParts on Order {\n  id\n  code\n  quantity\n  price\n  total_paid\n  production_date\n  delivery_date\n  states\n  total_owing\n  client {\n    id\n    name\n  }\n}\n\nfragment OrderClientShippingCompanyParts on Client {\n  shipping_company {\n    id\n    name\n  }\n}\n\nfragment OrderClientBranchParts on Client {\n  branch {\n    id\n    city {\n      id\n      name\n    }\n  }\n}\n\nfragment OrderClientCityParts on Client {\n  city {\n    id\n    name\n    state {\n      id\n      name\n      abbreviation\n    }\n  }\n}\n\nfragment OrderClientParts on Order {\n  client {\n    id\n    name\n    phone\n    total_owing\n    ...OrderClientBranchParts\n    ...OrderClientCityParts\n    ...OrderClientShippingCompanyParts\n  }\n}\n\nfragment StatusParts on Order {\n  status {\n    id\n    text\n    is_available\n  }\n}\n\nfragment ClothingTypesParts on Order {\n  clothing_types {\n    id\n    key\n    name\n    is_hidden\n    commission\n    quantity\n    value\n    total_value\n  }\n}\n\nfragment PaymentsPart on Order {\n  payments {\n    id\n    value\n    date\n    note\n    confirmed_at\n    is_confirmed\n    created_at\n    via {\n      id\n      name\n    }\n  }\n}\n\nfragment NotesParts on Order {\n  notes {\n    id\n    text\n    created_at\n  }\n}\n\nfragment OrderType on Order {\n  ...OrderParts\n  ...OrderClientParts\n  ...StatusParts\n  ...ClothingTypesParts\n  ...PaymentsPart\n  ...NotesParts\n}\n\nquery GetOrdersSimplified (\n  $page: Int\n  $orderBy: [QueryOrdersOrderByOrderByClause!]\n  $where: QueryOrdersWhereWhereConditions\n) {\n  orders (\n    first: 10\n    page: $page\n    orderBy: $orderBy\n    where: $where\n  ) {\n    paginatorInfo {\n      ...PaginatorSimpleParts\n    }\n\n    data {\n      ...OrderSimplifiedParts\n    }\n  }\n}\n\nquery GetOrder ($id: ID! $client_id: ID) {\n  order (id: $id client_id: $client_id) {\n    ...OrderType\n  }\n}\nquery GetOrderReport ($id: ID!) {\n  orderReport (id: $id)\n}\n\nquery GetOrdersReport ($input: OrdersReportInput!) {\n  ordersReport (input: $input)\n}\n\nquery GetOrdersByProductionDate ($input: OrdersReportProductionDateInput!) {\n  ordersReportProductionDate (input: $input)\n}\n\nmutation UpdateOrder ($id: ID! $input: OrderInput!) {\n  orderUpdate (id: $id input: $input) {\n    ...OrderType\n  }\n}\n\nmutation ToggleOrder ($id: ID!) {\n  orderToggle (id: $id) {\n    ...OrderType\n  }\n}\n\nmutation DeleteOrder ($id: ID!) {\n  orderDelete (id: $id) {\n    ...OrderType\n  }\n}\n\nmutation CreateOrder ($client_id: ID! $input: OrderInput!) {\n  orderCreate (client_id: $client_id input: $input) {\n    ...OrderType\n  }\n}\n\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}function o(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,t)})),e.definitions&&e.definitions.forEach((function(e){o(e,t)}))}i.definitions=i.definitions.concat(r(n(4163).definitions));var d={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function l(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=d[t]||new Set,a=new Set,r=new Set;i.forEach((function(e){r.add(e)}));while(r.size>0){var o=r;r=new Set,o.forEach((function(e){if(!a.has(e)){a.add(e);var t=d[e]||new Set;t.forEach((function(e){r.add(e)}))}}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(function(){i.definitions.forEach((function(e){if(e.name){var t=new Set;o(e,t),d[e.name.value]=t}}))})(),e.exports=i,e.exports.OrderParts=l(i,"OrderParts"),e.exports.OrderSimplifiedParts=l(i,"OrderSimplifiedParts"),e.exports.OrderClientShippingCompanyParts=l(i,"OrderClientShippingCompanyParts"),e.exports.OrderClientBranchParts=l(i,"OrderClientBranchParts"),e.exports.OrderClientCityParts=l(i,"OrderClientCityParts"),e.exports.OrderClientParts=l(i,"OrderClientParts"),e.exports.StatusParts=l(i,"StatusParts"),e.exports.ClothingTypesParts=l(i,"ClothingTypesParts"),e.exports.PaymentsPart=l(i,"PaymentsPart"),e.exports.NotesParts=l(i,"NotesParts"),e.exports.OrderType=l(i,"OrderType"),e.exports.GetOrdersSimplified=l(i,"GetOrdersSimplified"),e.exports.GetOrder=l(i,"GetOrder"),e.exports.GetOrderReport=l(i,"GetOrderReport"),e.exports.GetOrdersReport=l(i,"GetOrdersReport"),e.exports.GetOrdersByProductionDate=l(i,"GetOrdersByProductionDate"),e.exports.UpdateOrder=l(i,"UpdateOrder"),e.exports.ToggleOrder=l(i,"ToggleOrder"),e.exports.DeleteOrder=l(i,"DeleteOrder"),e.exports.CreateOrder=l(i,"CreateOrder")},5146:function(e){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PaymentsParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Payment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"note"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confirmed_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_confirmed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PaymentsViaParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Via"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PaymentsOrderParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Order"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_owing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_paid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"states"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"client"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_owing"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPayments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"created_at"}},type:{kind:"NamedType",name:{kind:"Name",value:"Date"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pendencies"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"payments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"created_at"},value:{kind:"Variable",name:{kind:"Name",value:"created_at"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"column"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"order"},value:{kind:"EnumValue",value:"DESC"}}]}]}},{kind:"Argument",name:{kind:"Name",value:"pendencies"},value:{kind:"Variable",name:{kind:"Name",value:"pendencies"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsOrderParts"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPaymentsPendencies"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paymentsPendencies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"created_at_payment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePayment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PaymentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paymentCreate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsOrderParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"payments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePayment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PaymentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paymentUpdate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsOrderParts"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConfirmPayment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"confirmation"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paymentConfirm"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"confirmation"},value:{kind:"Variable",name:{kind:"Name",value:"confirmation"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsOrderParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"payments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateDailyPayment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DailyCashInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dailyCashEntry"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsOrderParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"payments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsParts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"via"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PaymentsViaParts"},directives:[]}]}}]}}]}}],loc:{start:0,end:1760}};t.loc.source={body:"fragment PaymentsParts on Payment {\n  id\n  value\n  date\n  note\n  confirmed_at\n  is_confirmed\n  created_at\n}\n\nfragment PaymentsViaParts on Via {\n  id\n  name\n}\n\nfragment PaymentsOrderParts on Order {\n  id\n  code\n  name\n  total_owing\n  total_paid\n  states\n  client {\n    id\n    name\n    total_owing\n  }\n}\n\nquery GetPayments (\n  $created_at: Date\n  $pendencies: Boolean\n) {\n  payments (\n    created_at: $created_at\n    orderBy: [{column: CREATED_AT order: DESC}]\n    pendencies: $pendencies\n  ) {\n    ...PaymentsParts\n\n    order {\n      ...PaymentsOrderParts\n    }\n\n    via {\n      ...PaymentsViaParts\n    }\n  }\n}\n\nquery GetPaymentsPendencies {\n  paymentsPendencies {\n    created_at_payment\n    total\n  }\n}\n\nmutation CreatePayment ($input: PaymentInput!) {\n  paymentCreate (input: $input) {\n    id\n    order {\n      ...PaymentsOrderParts\n      payments {\n        ...PaymentsParts\n        via {\n          ...PaymentsViaParts\n        }\n      }\n    }\n  }\n}\n\nmutation UpdatePayment ($id: ID! $input: PaymentInput!) {\n  paymentUpdate (id: $id input: $input) {\n    ...PaymentsParts\n    order {\n      ...PaymentsOrderParts\n    }\n    via {\n      ...PaymentsViaParts\n    }\n  }\n}\n\nmutation ConfirmPayment ($id: ID! $confirmation: Boolean!) {\n  paymentConfirm (id: $id confirmation: $confirmation) {\n    id\n    order {\n      ...PaymentsOrderParts\n      payments {\n        ...PaymentsParts\n        via {\n          ...PaymentsViaParts\n        }\n      }\n    }\n  }\n}\n\nmutation CreateDailyPayment ($input: DailyCashInput! ) {\n  dailyCashEntry (input: $input) {\n    ...PaymentsParts\n    order {\n      ...PaymentsOrderParts\n      payments {\n        ...PaymentsParts\n        via {\n          ...PaymentsViaParts\n        }\n      }\n    }\n    via {\n      ...PaymentsViaParts\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function r(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,d=new Set;r.forEach((function(e){d.add(e)}));while(d.size>0){var s=d;d=new Set,s.forEach((function(e){if(!o.has(e)){o.add(e);var t=i[e]||new Set;t.forEach((function(e){d.add(e)}))}}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(function(){t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}}))})(),e.exports=t,e.exports.PaymentsParts=r(t,"PaymentsParts"),e.exports.PaymentsViaParts=r(t,"PaymentsViaParts"),e.exports.PaymentsOrderParts=r(t,"PaymentsOrderParts"),e.exports.GetPayments=r(t,"GetPayments"),e.exports.GetPaymentsPendencies=r(t,"GetPaymentsPendencies"),e.exports.CreatePayment=r(t,"CreatePayment"),e.exports.UpdatePayment=r(t,"UpdatePayment"),e.exports.ConfirmPayment=r(t,"ConfirmPayment"),e.exports.CreateDailyPayment=r(t,"CreateDailyPayment")},4072:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"status"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:48}};t.loc.source={body:"query status {\n  status {\n    id \n    text\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function r(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,d=new Set;r.forEach((function(e){d.add(e)}));while(d.size>0){var s=d;d=new Set,s.forEach((function(e){if(!o.has(e)){o.add(e);var t=i[e]||new Set;t.forEach((function(e){d.add(e)}))}}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(function(){t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}}))})(),e.exports=t,e.exports.status=r(t,"status")},625:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"py-5 col col-sm-10 mx-auto"},[n("AppButton",{staticClass:"mb-2",attrs:{outlined:"",icon:e.icons.faArrowCircleLeft},on:{click:function(t){return e.$helpers.redirectTo(e.clients.show,{client:e.client})}}},[e._v(" Cliente ")]),e.client?n("AppCard",{scopedSlots:e._u([{key:"header",fn:function(){return[n("h6",{staticClass:"mb-0 fw-bold"},[n("FontAwesomeIcon",{staticClass:"me-1",attrs:{icon:e.icons.faBoxOpen}}),e._v(" Novo pedido para "+e._s(e.client.name)+" ")],1)]},proxy:!0},{key:"body",fn:function(){return[n("OrderForm",{on:{success:e.onSuccess}})]},proxy:!0}],null,!1,3366956807)}):e._e()],1)},a=[],r=(n(8309),n(9697)),o=n(1436),d=n(5781),s=n(8299),l=n(2963),c={components:{OrderForm:l.Z},metaInfo:function(){return(0,r.Z)(this.client)?{title:"Carregando... "}:{title:"Novo pedido - ".concat(this.client.name)}},apollo:{client:{query:s.GetClient,variables:function(){return{id:this.$route.params.clientKey}}}},data:function(){return{client:{},clients:d.yj,icons:{faBoxOpen:o.IA$,faArrowCircleLeft:o.OFe}}},methods:{onSuccess:function(e){var t=e.clientId,n=e.orderId;this.$toast.success("Pedido criado!"),this.$helpers.redirectTo(d.A6.show,{client:t,order:n})}}},u=c,m=n(1001),p=(0,m.Z)(u,i,a,!1,null,null,null),v=p.exports},5848:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"py-5 col col-sm-10 mx-auto"},[n("AppButton",{staticClass:"mb-2",attrs:{outlined:"",icon:e.icons.faArrowCircleLeft},on:{click:e.redirectBackToOrder}},[e._v(" Pedido ")]),n("AppCard",{attrs:{color:"primary"},scopedSlots:e._u([{key:"header",fn:function(){return[n("h6",{staticClass:"d-flex fw-bold align-items-center mb-0"},[n("FontAwesomeIcon",{staticClass:"me-1",attrs:{icon:e.icons.faBoxOpen}}),e.isOrderPreRegistered?[e._v(" Concluir registro "+e._s(e.order.code?"- "+e.order.code:"")+" ")]:[e._v(" Alterar pedido - "+e._s(e.$helpers.fallback(e.order,"name","[SEM NOME]"))+" DE "+e._s(e.$helpers.fallback(e.order.client,"name"))+" ")]],2)]},proxy:!0},{key:"body",fn:function(){return[e.showReminder?n("OrderReminder",[e._v(" "+e._s(e.order.reminder)+" ")]):e._e(),n("OrderForm",e._b({ref:"orderForm",on:{success:e.onSuccess,"clothing-types-loaded":e.onClothingTypesLoaded}},"OrderForm",{isEdit:!0,order:e.order,isOrderPreRegistered:e.isOrderPreRegistered},!1)),n("AppLoading",{directives:[{name:"show",rawName:"v-show",value:!e.loaded,expression:"!loaded"}]})]},proxy:!0}])})],1)},a=[],r=n(9697),o=n(8652),d=n(1436),s=n(2383),l=n(1355),c=n(5781),u=n(2963),m=n(9099),p={metaInfo:function(){return(0,r.Z)(this.order)?{title:"Carregando..."}:this.isOrderPreRegistered?{title:"Concluir registro"}:{title:"".concat(this.order.code," - Editar")}},components:{OrderForm:u.Z,OrderReminder:m.Z},mixins:[l.Z],apollo:{order:{query:s.GetOrder,variables:function(){var e=this.$route.params,t=e.clientKey,n=e.orderKey;return{id:n,client_id:t}},result:function(e){var t=this,n=e.data.order,i=e.loading;i||this.$nextTick((function(){t.$refs.orderForm.$emit("order-loaded",{order:(0,o.Z)(n)})}))}}},data:function(){return{orders:c.A6,order:{},clothingTypesLoaded:!1,icons:{faBoxOpen:d.IA$,faArrowCircleLeft:d.OFe}}},computed:{loaded:function(){return this.clothingTypesLoaded&&!(0,r.Z)(this.order)},showReminder:function(){return this.isOrderPreRegistered&&this.order.reminder}},methods:{isEmpty:r.Z,onSuccess:function(e){var t=e.clientId,n=e.orderId;this.$toast.success("Pedido atualizado!"),this.$helpers.redirectTo(c.A6.show,{client:t,order:n})},onClothingTypesLoaded:function(){this.clothingTypesLoaded=!0},redirectBackToOrder:function(){this.order.client?this.$helpers.redirectTo(c.A6.show,{client:this.order.client,order:this.order}):this.$helpers.redirectTo(c.A6.showPreRegistered,{order:this.order})}}},v=p,f=n(1001),k=(0,f.Z)(v,i,a,!1,null,null,null),y=k.exports},2963:function(e,t,n){"use strict";n.d(t,{Z:function(){return De}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppForm",{attrs:{"on-submit":e.onSubmit,form:e.form}},[e.order&&!e.order.client?n("OrderFormClient",{attrs:{form:e.form}}):e._e(),n("OrderFormBasicInfo",{staticClass:"mb-3",attrs:{form:e.form}}),n("OrderFormValues",e._b({staticClass:"mb-3",on:{"clothing-types-loaded":e.onClothingTypesLoaded}},"OrderFormValues",{order:e.order,form:e.form,isEdit:e.isEdit,isOrderPreRegistered:e.isOrderPreRegistered},!1)),n("OrderFormProduction",{staticClass:"mb-3",attrs:{form:e.form}}),n("OrderFormFiles",e._b({on:{"selected-files":e.onSelectFiles,"delete-file":e.onDeleteFile}},"OrderFormFiles",{form:e.form,isEdit:e.isEdit},!1)),n("div",{staticClass:"mt-5"},[n("AppButton",{staticClass:"fw-bold",attrs:{type:"submit",loading:e.isLoading,color:"success",block:e.$isMobile}},[e._v(" "+e._s(e.isEdit?"Atualizar":"Cadastrar")+" ")])],1)],1)},a=[],r=n(8932),o=n(2032),d=n(6198),s=n(4367),l=(n(1539),n(4747),n(9826),n(4553),n(561),n(5666),n(5539)),c=n(7859),u=n(3871),m=n(3317),p=n(8472),v=n(134);function f(e,t,n){var i=-1,a=t.length,r={};while(++i<a){var o=t[i],d=(0,m.Z)(e,o);n(d,o)&&(0,p.Z)(r,(0,v.Z)(o,e),d)}return r}var k=f,y=n(5487);function h(e,t){return k(e,t,(function(t,n){return(0,y.Z)(e,n)}))}var g=h,_=n(9907),b=(0,_.Z)((function(e,t){return null==e?{}:g(e,t)})),N=b,C=n(2383),S=n(1594),x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mb-4"},[n("h5",{staticClass:"text-secondary fw-bold"},[e._v(" Cliente do pedido ")]),n("AppSelect",{attrs:{id:"client_id",value:e.form.client_id,name:"client_id","track-by":"id",options:e.clients,"custom-label":e.clientCustomLabel,loading:e.isLoadingClients,placeholder:"Busque um cliente...",error:e.form.errors.get("client_id")},on:{input:function(t){return e.form.set({client_id:t})},"search-change":e.onClientSearch},scopedSlots:e._u([{key:"noOptions",fn:function(){return[e._v(" Faça uma busca para exibir resultados ")]},proxy:!0}])},[e._v(" Nome ou telefone do cliente: ")])],1)},O=[],P=(n(2222),n(8309),n(849)),F={props:{form:{type:Object,required:!0}},data:function(){return{isLoadingClients:!1,clients:[]}},methods:{getWhereClause:function(e){return this.$helpers.isNumeric(e)?{column:"PHONE",operator:"LIKE",value:"%".concat(e,"%")}:{column:"NAME",operator:"LIKE",value:"%".concat(e,"%")}},onClientSearch:function(e){var t=this;return(0,d.Z)(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.isLoadingClients=!0,""!==e){n.next=5;break}return t.clients=[],t.isLoadingClients=!1,n.abrupt("return");case 5:return n.next=7,t.$apollo.query({query:P.GetClientsForForm,variables:{where:t.getWhereClause(e),orderBy:[{column:"NAME",order:"ASC"}]}});case 7:i=n.sent,a=i.data.clients,t.isLoadingClients=!1,t.clients=a.data;case 11:case"end":return n.stop()}}),n)})))()},clientCustomLabel:function(e){return e.phone?"".concat(e.name," - ").concat((0,c.CN)(e.phone)):e.name}}},D=F,w=n(1001),T=(0,w.Z)(D,x,O,!1,null,null,null),A=T.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppContainer",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Informações básicas ")]},proxy:!0},{key:"body",fn:function(){return[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-sm"},[n("AppInput",{attrs:{id:"name",value:e.form.name,name:"name",placeholder:"Nome que descreva o pedido...",label:"Nome",error:e.form.errors.get("name"),optional:""},on:{input:function(t){return e.form.set({name:t})}}})],1),n("div",{staticClass:"col-12 col-sm"},[n("AppInput",{attrs:{id:"code",value:e.form.code,name:"code",placeholder:"Código do pedido...",error:e.form.errors.get("code"),label:"Código"},on:{input:function(t){return e.form.set({code:t})}}})],1)])]},proxy:!0}])})},E=[],R={props:{form:{type:Object,required:!0}}},I=R,L=(0,w.Z)(I,$,E,!1,null,null,null),V=L.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppContainer",{attrs:{color:e.form.errors.get("price")?"danger":"primary"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Valores ")]},proxy:!0},{key:"body",fn:function(){return[n("div",{staticClass:"mt-3 clothing-types-group",class:e.form.errors.get("price")&&"is-invalid"},[e.showPreRegisterPriceInfo?[n("div",{staticClass:"small text-warning mb-3"},[e._v(" Pedido pré-registrado com o valor de "),n("span",{staticClass:"fw-bold"},[e._v(e._s(e.$helpers.toBRL(e.order.original_price)))])])]:e._e(),n("div",[n("div",{staticClass:"row d-none d-sm-flex mb-3 text-secondary"},[n("div",{staticClass:"col"}),n("div",{staticClass:"col text-center fw-bold",class:e.form.errors.get("price")&&"text-danger"},[e._v(" QUANTIDADE ")]),n("div",{staticClass:"col text-center fw-bold",class:e.form.errors.get("price")&&"text-danger"},[e._v(" VALOR UNIT. ")]),n("div",{staticClass:"col text-center fw-bold"},[e._v(" TOTAL ")])]),e._l(e.clothingTypes,(function(t,i){return n("div",{key:t.key,staticClass:"d-flex row flex-column flex-sm-row"},[n("div",{staticClass:"col text-center text-sm-start mb-2 mb-sm-0 text-subtitle fw-bold",class:e.isValidType(i)&&"text-success"},[e._v(" "+e._s(t.name)+" ")]),n("div",{staticClass:"col"},[n("AppInput",{attrs:{value:e.form.clothing_types[i].quantity,name:"quantity_"+t.key,mask:e.maskInteger,numeric:"",hint:e.$isMobile?"Quantidade":""},on:{input:function(t){var n;return e.form.set((n={},n["form.clothing_types["+i+"].quantity"]=t,n))},focus:function(t){return e.form.errors.clear("price")}}})],1),n("div",{staticClass:"col"},[n("AppInput",{attrs:{value:e.form.clothing_types[i].value,mask:e.maskCurrencyBRL,name:"value_"+t.key,hint:e.$isMobile?"Valor unitário":"",numeric:""},on:{input:function(t){var n;return e.form.set((n={},n["form.clothing_types["+i+"].value"]=t,n))},focus:function(t){return e.form.errors.clear("price")}}})],1),n("div",{staticClass:"col"},[n("AppInput",{attrs:{value:e.evaluateTotalType(i),name:"total_"+t.key,hint:e.$isMobile?"Total":"",disabled:""}})],1)])})),n("hr",{staticClass:"d-block d-sm-none"}),n("div",{staticClass:"row"},[n("div",{staticClass:"col fw-bold text-subtitle d-none d-sm-block"},[e._v(" TOTAL ")]),n("div",{staticClass:"col"},[n("AppInput",{attrs:{"input-class":"fw-bold",value:e.totalQuantity,name:"total_quantity",hint:e.$isMobile?"Quantidade total":"",disabled:""}})],1),n("div",{staticClass:"col d-none d-sm-block"},[n("hr")]),n("div",{staticClass:"col"},[n("AppInput",{attrs:{"input-class":"fw-bold",value:e.totalValue,name:"total_value",hint:e.$isMobile?"Valor total":"",disabled:""}})],1)])],2),n("div",{staticClass:"small text-danger mb-1"},[e._v(" "+e._s(e.form.errors.get("price"))+" ")]),n("small",{staticClass:"text-secondary"},[e._v(" O valor só é estimado quando a "),n("b",[e._v("QUANTIDADE")]),e._v(" e "),n("b",[e._v("VALOR UNIT.")]),e._v(" de um tipo é preenchido. ")]),n("OrderFormValuesFinal",{attrs:{form:e.form,"final-value":e.finalValue,"is-edit":e.isEdit}})],2)]},proxy:!0}])})},Z=[],q=(n(6977),n(3271)),M=n.n(q),G=n(9697),U=n(4082),j=n(5385),z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt-3"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-sm"},[n("AppInput",{attrs:{value:e.finalValue,disabled:"",name:"final_value","disabled-message":"O preço final é calculado automaticamente."}},[e._v(" Preço final ")])],1),n("div",{staticClass:"col-12 col-sm"},[n("AppInput",{attrs:{id:"discount",value:e.form.discount,mask:e.maskCurrencyBRL,name:"discount",error:e.form.errors.get("discount"),optional:"",numeric:""},on:{input:function(t){return e.form.set({discount:t})}}},[e._v(" Desconto ")])],1)]),e.isEdit?e._e():n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-sm"},[n("AppInput",{attrs:{id:"down_payment",value:e.form.down_payment,name:"down_payment",mask:e.maskCurrencyBRL,error:e.form.errors.get("down_payment"),optional:""},on:{input:function(t){return e.form.set({down_payment:t})}}},[e._v(" Entrada ")])],1),n("div",{staticClass:"col-12 col-sm"},[n("AppSimpleSelect",{attrs:{value:e.form.payment_via_id,name:"payment_via_id",options:e.vias,"label-prop":"name",error:e.form.errors.get("payment_via_id"),disabled:!e.hasDownPayment},on:{input:function(t){return e.form.set({payment_via_id:t})}}},[e._v(" Via da entrada ")])],1)])])},K=[],H=(n(9653),n(7241)),Q={props:{finalValue:{type:[String,Number],required:!0},form:{type:Object,required:!0},isEdit:{type:Boolean,default:!1}},apollo:{vias:{query:H.vias}},data:function(){return{vias:[],maskCurrencyBRL:(0,U.uP)({numeralPositiveOnly:!0})}},computed:{hasDownPayment:function(){return M().unformat(this.form.down_payment,",")>0}}},W=Q,Y=(0,w.Z)(W,z,K,!1,null,null,null),X=Y.exports,J={components:{OrderFormValuesFinal:X},props:{form:{type:Object,required:!0},isEdit:{type:Boolean,default:!1},order:{type:Object,default:function(){return{}}},isOrderPreRegistered:{type:Boolean,default:!1}},apollo:{clothingTypes:{query:j.GetClothingTypes,variables:{is_hidden:!1},result:function(e){var t=e.data;this.$emit("clothing-types-loaded",t.clothingTypes)}}},data:function(){return{clothingTypes:[],maskCurrencyBRL:(0,U.uP)({numeralPositiveOnly:!0}),maskInteger:(0,U.sb)({delimiter:"",numeralDecimalScale:0})}},computed:{totalQuantity:function(){var e=this;return this.clothingTypes.reduce((function(t,n,i){var a=M().unformat(e.form.clothing_types[i].value,",");return a>0&&(t+=+e.form.clothing_types[i].quantity),t}),0)},totalValue:function(){var e=this,t=this.clothingTypes.reduce((function(t,n,i){var a=e.form.clothing_types[i].quantity;return a>0&&(t+=M().unformat(e.evaluateTotalType(i),",")),t}),0);return(0,c.gv)(t)},isSomeFieldFilled:function(){var e=this;return this.form.clothing_types.some((function(t,n){return e.isValidType(n)}))},finalValue:function(){var e=M().unformat(this.totalValue,","),t=M().unformat(this.form.discount,","),n=M().toFixed(e-t,2);return this.isSomeFieldFilled?(0,c.gv)(n):"R$ "},showPreRegisterPriceInfo:function(){return!(0,G.Z)(this.order)&&this.isOrderPreRegistered&&null!==this.order.price}},methods:{isEmpty:G.Z,isValidType:function(e){var t=M().unformat(this.form.clothing_types[e].value,",");return this.form.clothing_types[e].quantity>0&&t>0},evaluateTotalType:function(e){var t=M().unformat(this.form.clothing_types[e].value,","),n=this.form.clothing_types[e].quantity,i=M().toFixed(n*t,2);return(0,c.gv)(i)}}},ee=J,te=(0,w.Z)(ee,B,Z,!1,null,"4661cbd4",null),ne=te.exports,ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppContainer",{staticClass:"mt-3",scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Produção e entrega ")]},proxy:!0},{key:"body",fn:function(){return[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-sm"},[n("AppInput",{attrs:{id:"production_date",value:e.form.production_date,type:"date",name:"production_date",placeholder:"dd/mm/aaaa",mask:e.maskDate,error:e.form.errors.get("production_date")},on:{input:function(t){return e.form.set({production_date:t})}}},[e._v(" Data de produção ")])],1),n("div",{staticClass:"col-12 col-sm"},[n("AppInput",{attrs:{id:"delivery_date",value:e.form.delivery_date,name:"delivery_date",type:"date",placeholder:"dd/mm/aaaa",mask:e.maskDate,error:e.form.errors.get("delivery_date")},on:{input:function(t){return e.form.set({delivery_date:t})}}},[e._v(" Data de entrega ")])],1)])]},proxy:!0}])})},ae=[],re={props:{form:{type:Object,required:!0}},data:function(){return{maskDate:U.A3}}},oe=re,de=(0,w.Z)(oe,ie,ae,!1,null,null,null),se=de.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppContainer",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Anexos ")]},proxy:!0},{key:"body",fn:function(){return[n("OrderFormFilesModal",{attrs:{"max-file-size":e.maxFileSize,items:e.transferedItems},on:{cancel:e.onCancel,"transfer-to-field":e.onTransferToField,"delete-file":e.onModalDeleteFile},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}}),n("div",{staticClass:"fw-bold small text-secondary mb-3"},[e._v(" Tamanho máximo para cada arquivo: "+e._s(e.formatBytes(e.maxFileSize))+" ")]),n("div",[n("AppInputFile",{attrs:{id:"art_paths",centered:"",multiple:"",optional:"",accept:"image/*"},on:{input:function(t){return e.onFileSelected(t,"art_paths")}}},[e._v(" Imagens da arte ")]),n("AppViewerItems",{attrs:{"show-delete-button":"",files:e.form.art_paths,"max-file-size":e.maxFileSize},on:{"delete-file":function(t){return e.onFileDelete(t,"art_paths")}},scopedSlots:e._u([e.isEdit?null:{key:"file-info",fn:function(t){var i=t.file;return[n("div",{staticClass:"small text-secondary text-center"},[e._v(" ("+e._s(e.truncate(i.name,{length:15}))+" - "),n("b",[e._v(e._s(e.formatBytes(i.size)))]),e._v(") ")])]}}],null,!0)})],1),n("div",[n("AppInputFile",{attrs:{id:"size_paths",centered:"",multiple:"",optional:"",accept:"image/*"},on:{input:function(t){return e.onFileSelected(t,"size_paths")}}},[e._v(" Imagens do tamanho ")]),n("AppViewerItems",{attrs:{"show-delete-button":"",files:e.form.size_paths,"max-file-size":e.maxFileSize},on:{"delete-file":function(t){return e.onFileDelete(t,"size_paths")}},scopedSlots:e._u([e.isEdit?null:{key:"file-info",fn:function(t){var i=t.file;return[n("div",{staticClass:"small text-secondary text-center"},[e._v(" ("+e._s(e.truncate(i.name,{length:15}))+" - "),n("b",[e._v(e._s(e.formatBytes(i.size)))]),e._v(") ")])]}}],null,!0)})],1),n("AppInputFile",{attrs:{id:"payment_voucher_paths",centered:"",multiple:"",optional:"",accept:"image/*,application/pdf"},on:{input:function(t){return e.onFileSelected(t,"payment_voucher_paths",e.VALID_TYPES.payment_voucher_paths)}}},[e._v(" Comprovantes de pagamento ")]),n("AppViewerItems",{attrs:{"show-delete-button":"","list-type":"card",files:e.form.payment_voucher_paths,"max-file-size":e.maxFileSize},on:{"delete-file":function(t){return e.onFileDelete(t,"payment_voucher_paths")}},scopedSlots:e._u([e.isEdit?null:{key:"file-info",fn:function(t){var i=t.file;return[n("div",{staticClass:"small text-secondary text-center"},[e._v(" ("),n("span",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{placement: 'bottom'}"}],attrs:{content:i.name}},[e._v(e._s(e.truncate(i.name,{length:15}))+" ")]),e._v(" - "),n("b",[e._v(e._s(e.formatBytes(i.size)))]),e._v(") ")])]}}],null,!0)})]},proxy:!0}])})},ce=[],ue=n(4782),me=n(2244),pe=n(2337),ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppModal",e._g(e._b({attrs:{id:"orderFormFilesModal",centered:""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Escolha onde deseja anexar o(s) arquivo(s) ")]},proxy:!0},{key:"body",fn:function(){return[n("div",{staticClass:"mb-3"},[n("AppViewerItems",{attrs:{"max-file-size":e.maxFileSize,col:"6","show-delete-button":"",files:e.items},on:{"delete-file":e.onDeleteFile},scopedSlots:e._u([{key:"file-info",fn:function(t){var i=t.file;return[n("div",{staticClass:"small text-secondary text-center"},[e._v(" ("+e._s(e.truncate(i.name,{length:15}))+" - "),n("b",[e._v(e._s(e.formatBytes(i.size)))]),e._v(") ")])]}}])})],1),n("div",{staticClass:"d-flex flex-column justify-content-center"},[n("AppButton",{staticClass:"fw-bold d-block mb-3",attrs:{type:"button",icon:e.icons.faUpload},on:{click:function(t){return e.emitFieldToTransfer("art_paths")}}},[n("br"),e._v("Imagens da arte ")]),n("AppButton",{staticClass:"fw-bold d-block mb-3",attrs:{type:"button",icon:e.icons.faUpload},on:{click:function(t){return e.emitFieldToTransfer("size_paths")}}},[n("br"),e._v("Imagens do tamanho ")]),n("AppButton",{staticClass:"fw-bold d-block mb-3",attrs:{type:"button",icon:e.icons.faUpload},on:{click:function(t){return e.emitFieldToTransfer("payment_voucher_paths")}}},[n("br"),e._v("Comprovantes de pagamento ")])],1),n("div",{staticClass:"text-end"},[n("AppButton",{attrs:{type:"button","data-bs-dismiss":"modal",color:"light"},on:{click:e.onCancelClick}},[e._v(" Cancelar ")])],1)]},proxy:!0}])},"AppModal",e.$attrs,!1),e.$listeners))},fe=[],ke=n(1436),ye={props:{items:{type:Array,default:function(){return[]}},maxFileSize:{type:Number,default:null}},data:function(){return{icons:{faUpload:ke.cf$}}},methods:{formatBytes:c.td,truncate:ue.Z,onCancelClick:function(){this.$emit("cancel")},emitFieldToTransfer:function(e){this.$emit("transfer-to-field",e)},onDeleteFile:function(e){this.$emit("delete-file",e)}}},he=ye,ge=(0,w.Z)(he,ve,fe,!1,null,null,null),_e=ge.exports,be={art_paths:"image",size_paths:"image",payment_voucher_paths:["image","pdf"]},Ne={components:{OrderFormFilesModal:_e},mixins:[me.Z,pe.Z],props:{form:{type:Object,required:!0},isEdit:{type:Boolean,default:!1}},data:function(){return{VALID_TYPES:be,maxFileSize:1048576,modal:!1,transferedItems:[],pasteEnabled:!1}},watch:{transferedItems:function(e){0===e.length&&(this.modal=!1)}},mounted:function(){document.addEventListener("paste",this.onPasteEvent)},beforeDestroy:function(){document.removeEventListener("paste",this.onPasteEvent)},methods:{formatBytes:c.td,truncate:ue.Z,afterPaste:function(e){this.transferedItems=e,this.modal=!0},onFileSelected:function(e,t){var n=this;return(0,d.Z)(regeneratorRuntime.mark((function i(){var a,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,n.getBase64Files(e);case 2:a=i.sent,r=n.getOnlyValidFiles(a,be[t]),n.$emit("selected-files",{files:r,field:t});case 5:case"end":return i.stop()}}),i)})))()},onTransferToField:function(e){var t=this.getOnlyValidFiles(this.transferedItems,be[e]);this.$emit("selected-files",{files:t,field:e}),this.modal=!1,this.transferedItems=[]},onFileDelete:function(e,t){this.$emit("delete-file",{fileKey:e,field:t})},onCancel:function(){this.transferedItems=[]},onModalDeleteFile:function(e){var t=this.transferedItems.findIndex((function(t){return t.key===e}));this.transferedItems.splice(t,1)}}},Ce=Ne,Se=(0,w.Z)(Ce,le,ce,!1,null,null,null),xe=Se.exports,Oe={components:{OrderFormClient:A,OrderFormBasicInfo:V,OrderFormValues:ne,OrderFormProduction:se,OrderFormFiles:xe},props:{isEdit:{type:Boolean,default:!1},order:{type:Object,default:function(){}},isOrderPreRegistered:{type:Boolean,default:!1}},data:function(){return{isLoading:!1,form:new l.Z({name:"",code:"",client_id:"",discount:"",down_payment:"",payment_via_id:"",production_date:"",delivery_date:"",clothing_types:[],art_paths:[],size_paths:[],payment_voucher_paths:[]})}},mounted:function(){var e=this;this.$on("order-loaded",(function(t){var n=t.order;e.populateForm(n)}))},methods:{getFile:function(e){return e.base64||e},getFormattedForm:function(){var e,t=(0,s.Z)({},this.form.data());return t.client_id=(null===(e=t.client_id)||void 0===e?void 0:e.id)||"",t.art_paths=(0,u.Z)(t.art_paths,this.getFile),t.size_paths=(0,u.Z)(t.size_paths,this.getFile),t.payment_voucher_paths=(0,u.Z)(t.payment_voucher_paths,this.getFile),t},update:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){var n,i,a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.getFormattedForm(),t.prev=1,t.next=4,e.$apollo.mutate({mutation:C.UpdateOrder,variables:{id:e.order.id,input:(0,s.Z)({},n)}});case 4:i=t.sent,a=i.data.orderUpdate,r=a.id,o=a.client,e.$helpers.clearCacheFrom({fieldName:"weeklyProduction"}),e.$emit("success",{orderId:r,clientId:o.id}),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),(0,S.S)(e,t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))()},create:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){var n,i,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.getFormattedForm(),i=e.$route.params.clientKey,t.prev=2,t.next=5,e.$apollo.mutate({mutation:C.CreateOrder,variables:{client_id:i,input:(0,s.Z)({},n)}});case 5:a=t.sent,r=a.data.orderCreate.id,e.$helpers.clearCacheFrom([{id:i,__typename:"Client"},{fieldName:"orders"}]),e.$emit("success",{orderId:r,clientId:i}),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),(0,S.S)(e,t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))()},populateForm:function(e){var t=this,n=N(e,["name","price","code","discount","production_date","delivery_date","art_paths","size_paths","payment_voucher_paths"]);for(var i in n.discount=0===+n.discount?"R$ ":this.$helpers.toBRL(n.discount),n.price=this.$helpers.toBRL(n.price),n.production_date=(0,c.DZ)(n.production_date),n.delivery_date=(0,c.DZ)(n.delivery_date),n)this.form[i]=n[i];this.$on("clothing-types-loaded",(function(){t.populateClothingTypes(e.clothing_types)}))},onSubmit:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isLoading=!0,!e.isEdit){t.next=6;break}return t.next=4,e.update();case 4:t.next=8;break;case 6:return t.next=8,e.create();case 8:e.isLoading=!1;case 9:case"end":return t.stop()}}),t)})))()},onClothingTypesLoaded:function(e){var t,n=this,i=(0,o.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;this.form.clothing_types.push({key:a.key,value:"",quantity:""})}}catch(r){i.e(r)}finally{i.f()}this.$nextTick((function(){n.$emit("clothing-types-loaded")}))},populateClothingTypes:function(e){var t=this;this.form.clothing_types.forEach((function(n,i){var a=e.find((function(e){return e.key===n.key}));a&&(t.form.clothing_types[i].value=t.$helpers.toBRL(a.value),t.form.clothing_types[i].quantity=a.quantity)}))},onSelectFiles:function(e){var t,n=e.files,i=e.field;(t=this.form[i]).push.apply(t,(0,r.Z)(n))},onDeleteFile:function(e){var t=e.fileKey,n=e.field,i=this.form[n].findIndex((function(e){return e.key===t||e===t}));this.form[n].splice(i,1)}}},Pe=Oe,Fe=(0,w.Z)(Pe,i,a,!1,null,null,null),De=Fe.exports},7402:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Y}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mx-auto py-5"},[n("FilterGeneralReportCard",{staticClass:"mb-2",on:{"report-generated":e.onReportGenerated}}),n("FilterProductionDateReportCard",{staticClass:"mb-2",on:{"report-generated":e.onReportGenerated}}),n("FilterSortButtons",{staticClass:"mb-3",on:{"filter-changed":e.onFilterButtonsChanged},model:{value:e.buttonSelected,callback:function(t){e.buttonSelected=t},expression:"buttonSelected"}}),n("FilterSearchInput",{staticClass:"mb-3",on:{search:e.onCodeSearch,"clear-search":e.onSearchClear},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),n("AppFileModal",{attrs:{id:"orderReport",src:e.modalReport.src,title:"Relatório do pedido"},on:{hidden:e.onCloseModalReport},model:{value:e.modalReport.value,callback:function(t){e.$set(e.modalReport,"value",t)},expression:"modalReport.value"}}),n("AppCard",{attrs:{"has-body-padding":!1},scopedSlots:e._u([{key:"header",fn:function(){return[n("div",{staticClass:"d-flex justify-content-between"},[n("h6",{staticClass:"fw-bold mb-0"},[n("FontAwesomeIcon",{attrs:{icon:e.icons.faBoxes,"fixed-width":""}}),e._v(" Todos os pedidos ")],1),n("OrdersQuestionIconTippy")],1)]},proxy:!0},{key:"body",fn:function(){return[e.isLoading?n("AppLoading"):e._e(),n("TheOrdersTable",{attrs:{items:e.orders.data}})]},proxy:!0}])}),n("AppPaginator",{staticClass:"mt-2",attrs:{"is-loading":e.isLoading,pagination:e.orders.paginatorInfo},model:{value:e.params.page,callback:function(t){e.$set(e.params,"page",t)},expression:"params.page"}})],1)},a=[],r=n(4367),o=n(1436),d=n(2383),s={PRIORITY:{orderBy:[{column:"CREATED_AT",order:"ASC"}],where:{column:"CLOSED_AT",operator:"IS_NULL"}},OLDER:{orderBy:[{column:"CREATED_AT",order:"ASC"}],where:null},NEWER:{orderBy:[{column:"CREATED_AT",order:"DESC"}],where:null},DELIVERY_DATE:{orderBy:[{column:"DELIVERY_DATE",order:"DESC"}],where:{column:"CLOSED_AT",operator:"IS_NULL"}},PRE_REGISTER:{where:{OR:[{column:"QUANTITY",operator:"IS_NULL"},{column:"CLIENT_ID",operator:"IS_NULL"}]}}},l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppCard",{attrs:{id:"generalReportCard",color:"success",collapsible:!0,collapsed:!0},scopedSlots:e._u([{key:"header",fn:function(){return[n("h6",{staticClass:"fw-bold mb-0"},[n("FontAwesomeIcon",{attrs:{icon:e.icons.faClipboardList,"fixed-width":""}}),e._v(" Relatório geral ")],1)]},proxy:!0},{key:"body",fn:function(){return[n("h6",{staticClass:"fw-bold"},[e._v(" Filtros ")]),n("div",{staticClass:"small text-secondary"},[e._v(" Filtre por "),n("b",[e._v("um")]),e._v(" ou "),n("b",[e._v("vários campos")]),e._v(" combinados. ")]),n("div",{staticClass:"small text-secondary"},[e._v(" Pedidos pré-registrados não são incluidos no relatório. ")]),n("AppForm",{attrs:{form:e.form,"on-submit":e.generateReport}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-sm-3"},[n("AppSelect",{attrs:{id:"city_id",name:"city_id",placeholder:"Selecione uma cidade",options:e.cities,"custom-label":e.customLabelCity},model:{value:e.form.city_id,callback:function(t){e.$set(e.form,"city_id",t)},expression:"form.city_id"}},[e._v(" Cidade ")])],1),n("div",{staticClass:"col-12 col-sm-3"},[n("AppSimpleSelect",{attrs:{id:"status_id",name:"status_id",options:e.status,"value-prop":"id","label-prop":e.customLabelStatus},model:{value:e.form.status_id,callback:function(t){e.$set(e.form,"status_id",t)},expression:"form.status_id"}},[e._v(" Status ")])],1),n("div",{staticClass:"col-12 col-sm-3"},[n("AppInput",{attrs:{id:"closed_at",mask:e.maskDate,name:"closed_at",placeholder:"dd/mm/aaaa",type:"date"},model:{value:e.form.closed_at,callback:function(t){e.$set(e.form,"closed_at",t)},expression:"form.closed_at"}},[e._v(" Data de fechamento ")])],1),n("div",{staticClass:"col-12 col-sm-3"},[n("AppInput",{attrs:{id:"delivery_date",mask:e.maskDate,name:"delivery_date",placeholder:"dd/mm/aaaa",type:"date"},model:{value:e.form.delivery_date,callback:function(t){e.$set(e.form,"delivery_date",t)},expression:"form.delivery_date"}},[e._v(" Data de entrega ")])],1)]),n("AppRadio",{attrs:{name:"state",options:e.stateOptions},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}},[e._v(" Pedidos: ")]),n("AppRadio",{attrs:{name:"order",options:e.orderOptions,align:e.$isMobile?"vertical":"horizontal"},scopedSlots:e._u([{key:"hint",fn:function(){return[e._v(" Ordem dos pedidos que deve aparecer primeiro ")]},proxy:!0}]),model:{value:e.form.order,callback:function(t){e.$set(e.form,"order",t)},expression:"form.order"}},[e._v(" Ordem: ")]),n("AppCheckboxSwitch",{attrs:{id:"displayFilterInfo"},model:{value:e.form.display_filter_info,callback:function(t){e.$set(e.form,"display_filter_info",t)},expression:"form.display_filter_info"}},[e._v(" Exibir informações do filtro no relatório ")]),n("AppButton",{staticClass:"mt-4",attrs:{outlined:"",loading:e.isLoading},on:{click:function(t){return t.preventDefault(),e.generateReport.apply(null,arguments)}}},[e._v(" Gerar relatório ")])],1)]},proxy:!0}])})},c=[],u=n(6198),m=(n(2222),n(8309),n(5666),n(4082)),p=n(448),v=n(4072),f=n(5539),k={apollo:{cities:{query:p.GetCities},status:{query:v.status}},data:function(){return{maskDate:m.A3,cities:[],status:[],isLoading:!1,form:new f.Z({city_id:"",status_id:"",closed_at:"",delivery_date:"",state:"OPEN",order:"OLDER",display_filter_info:!1}),icons:{faClipboardList:o.OGB}}},computed:{stateOptions:function(){return[{id:"OPEN",label:"Em aberto",value:"OPEN"},{id:"ALL",label:"Todos",value:"ALL"}]},orderOptions:function(){return[{id:"OLDER",label:"Mais antigo",value:"OLDER"},{id:"NEWER",label:"Mais recente",value:"NEWER"},{id:"DELIVERY_DATE",label:"Data de enterga",value:"DELIVERY_DATE"}]}},methods:{getFormattedData:function(){var e,t,n,i,a=this.form.data();return a.city_id=null!==(e=null===(t=a.city_id)||void 0===t?void 0:t.id)&&void 0!==e?e:"",a.status_id=null!==(n=null===(i=a.status_id)||void 0===i?void 0:i.id)&&void 0!==n?n:"",a},generateReport:function(){var e=this;return(0,u.Z)(regeneratorRuntime.mark((function t(){var n,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.getFormattedData(),e.isLoading=!0,t.next=4,e.$apollo.query({query:d.GetOrdersReport,variables:{input:n},fetchPolicy:"network-only"});case 4:i=t.sent,a=i.data,e.isLoading=!1,e.$emit("report-generated",a.ordersReport);case 8:case"end":return t.stop()}}),t)})))()},onModalHidden:function(){this.src=""},customLabelCity:function(e){return e.state?"".concat(e.name," - ").concat(e.state.abbreviation):e.name},customLabelStatus:function(e){var t=e.id,n=e.text;return"".concat(t,". ").concat(n)}}},y=k,h=n(1001),g=(0,h.Z)(y,l,c,!1,null,null,null),_=g.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppCard",{attrs:{id:"productionDateReportCard",color:"success",collapsible:!0,collapsed:!0},scopedSlots:e._u([{key:"header",fn:function(){return[n("h6",{staticClass:"fw-bold mb-0"},[n("FontAwesomeIcon",{attrs:{icon:e.icons.faClipboardList,"fixed-width":""}}),e._v(" Relatório por data de produção ")],1)]},proxy:!0},{key:"body",fn:function(){return[n("h6",{staticClass:"fw-bold"},[e._v(" Filtros ")]),n("AppForm",{attrs:{form:e.form,"on-submit":e.generateReport}},[n("AppInput",{attrs:{id:"date",name:"date",placeholder:"dd/mm/aaaa",mask:e.maskDate,type:"date",error:e.form.errors.get("date")},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}},[e._v(" Data de produção ")]),n("AppRadio",{attrs:{name:"state_p",options:e.orderOptions,error:e.form.errors.get("state")},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}},[e._v(" Pedidos: ")]),n("AppButton",{attrs:{outlined:"",loading:e.isLoading},on:{click:function(t){return t.preventDefault(),e.generateReport.apply(null,arguments)}}},[e._v(" Gerar relatório ")])],1)]},proxy:!0}])})},N=[],C=n(1594),S={data:function(){return{maskDate:m.A3,isLoading:!1,form:new f.Z({date:"",state:"OPEN"}),icons:{faClipboardList:o.OGB}}},computed:{orderOptions:function(){return[{id:"is_open_p",label:"Em aberto",value:"OPEN"},{id:"all_p",label:"Todos",value:"ALL"}]}},methods:{generateReport:function(){var e=this;return(0,u.Z)(regeneratorRuntime.mark((function t(){var n,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.form.data(),e.isLoading=!0,t.prev=2,t.next=5,e.$apollo.query({query:d.GetOrdersByProductionDate,variables:{input:n},fetchPolicy:"network-only"});case 5:i=t.sent,a=i.data,e.$emit("report-generated",a.ordersReportProductionDate),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),(0,C.S)(e,t.t0);case 13:e.isLoading=!1;case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))()}}},x=S,O=(0,h.Z)(x,b,N,!1,null,null,null),P=O.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-responsive-sm"},[n("div",{staticClass:"btn-group mb-1",attrs:{role:"group","aria-label":"Filtro geral de pedidos"}},[e._l(e.radios,(function(t,i){return[n("input",{key:i+"__input",staticClass:"btn-check",attrs:{id:i+"__sort",type:"radio",name:"sort_buttons",autocomplete:"off"},domProps:{value:i,checked:e.value===i},on:{input:function(t){return e.$emit("input",t.target.value)},change:e.onOptionChange}}),n("label",{key:i+"__label",staticClass:"btn btn-outline-primary text-nowrap",class:e.value===i&&"fw-bold",attrs:{for:i+"__sort"}},[e._v(" "+e._s(t)+" ")])]}))],2),n("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.value,expression:"value !== ''"}],staticClass:"text-secondary small mb-2 mb-sm-0",class:"pre_register"===e.value&&"text-danger"},[n("FontAwesomeIcon",{staticClass:"me-1",attrs:{"fixed-width":"",icon:e.icons.faExclamationCircle}}),n("span",{domProps:{innerHTML:e._s(e.messagesOfFilters[e.value])}})],1)])},D=[],w={props:{value:{type:String,required:!0}},data:function(){return{radios:{priority:"Prioritários",older:"Mais antigos",newer:"Mais recentes",delivery_date:"Data de entrega",pre_register:"Pré-registro"},icons:{faExclamationCircle:o.RLE}}},computed:{messagesOfFilters:function(){return{priority:"<strong>Ordem de cadastro mais antigo primeiro</strong>, apenas pedidos em aberto",older:"<strong>Ordem de cadastro mais antigos primeiros</strong>, incluindo pedidos fechados",newer:"<strong>Ordem de cadastro mais recente primeiros</strong>, incluindo pedidos fechados",delivery_date:"\n          <strong>Ordem de data de entrega mais antiga primeiro</strong>, apenas pedidos em aberto\n          <br/>(pedidos sem data de entrega informada ficam por último).\n        ",pre_register:"<strong>Pedidos que precisam ter seus dados completados.</strong>"}}},methods:{onOptionChange:function(){this.$emit("filter-changed",this.value)}}},T=w,A=(0,h.Z)(T,F,D,!1,null,null,null),$=A.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col-12 col-sm-6"},[n("AppInput",{attrs:{id:"code",value:e.value,name:"code",placeholder:"Por código...","default-margin":!1},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"append",fn:function(){return[n("AppButton",{attrs:{outlined:"",icon:e.icons.faSearch},on:{click:e.onSearchClick}})]},proxy:!0}])}),""!==e.value?n("a",{staticClass:"text-decoration-none small",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onClearSearchClick.apply(null,arguments)}}},[e._v("Limpar busca")]):e._e()],1)},R=[],I={props:{value:{type:String,default:""}},data:function(){return{icons:{faSearch:o.wn1}}},methods:{onSearchClick:function(){this.$emit("search")},onClearSearchClick:function(){this.$emit("clear-search")}}},L=I,V=(0,h.Z)(L,E,R,!1,null,null,null),B=V.exports,Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppTable",{attrs:{headers:e.headers,items:e.items,"row-class":e.orderClass,route:e.tableRowRoute}})},q=[],M=(n(6699),n(2023),n(5781)),G={props:{items:{type:Array,default:function(){return[]}}},computed:{headers:function(){return[{text:"Cliente",value:"client.name"},{text:"Cód. pedido",value:"code"},{text:"Quantidade",value:"quantity"},{text:"Valor total",value:"price",format:"currencyBRL"},{text:"Total pago",value:"total_paid",format:"currencyBRL"},{text:"Produção",value:"production_date",format:"datetime"},{text:"Entrega",value:"delivery_date",format:"datetime"}]}},methods:{tableRowRoute:function(e){return e.client?{name:M.A6.show,params:this.$helpers.getRouteParams({order:e,client:e.client})}:{name:M.A6.showPreRegistered,params:this.$helpers.getRouteParams({order:e})}},orderClass:function(e){return e.states.includes("PRE-REGISTERED")?"table-warning":e.states.includes("CLOSED")?"table-secondary":e.states.includes("PAID")?"table-success":""}}},U=G,j=(0,h.Z)(U,Z,q,!1,null,null,null),z=j.exports,K=n(3221),H={components:{FilterGeneralReportCard:_,FilterProductionDateReportCard:P,FilterSortButtons:$,FilterSearchInput:B,TheOrdersTable:z,OrdersQuestionIconTippy:K.Z},metaInfo:function(){return{title:"Pedidos"}},apollo:{orders:{query:d.GetOrdersSimplified,variables:function(){return(0,r.Z)({},this.params)}}},data:function(){return{code:"",buttonSelected:"priority",params:(0,r.Z)({page:1},s.PRIORITY),modalReport:{value:!1,src:""},orders:{data:[],paginatorInfo:{}},icons:{faBoxes:o.G1z}}},computed:{isLoading:function(){return!!this.$apollo.queries.orders.loading},hasSearchMade:function(){return""===this.buttonSelected}},methods:{onFilterButtonsChanged:function(e){var t=s[e.toUpperCase()];this.code="",this.params=(0,r.Z)((0,r.Z)((0,r.Z)({},this.params),t),{},{page:1})},onCodeSearch:function(){this.buttonSelected="",this.params={page:1,order:[{column:"created_at",order:"DESC"}],where:{column:"CODE",operator:"LIKE",value:"%".concat(this.code,"%")}}},restartFilter:function(){this.buttonSelected="priority",this.code=""},onSearchClear:function(){this.hasSearchMade&&this.restartFilter(),this.onFilterButtonsChanged(this.buttonSelected)},onReportGenerated:function(e){this.modalReport.src=e,this.modalReport.value=!0},onCloseModalReport:function(){this.modalReport.src=""}}},Q=H,W=(0,h.Z)(Q,i,a,!1,null,null,null),Y=W.exports},8939:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ht}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"py-5 mx-auto"},[e.isLoading?e._e():n("ModalOrderPayment",e._b({on:{success:e.onPaymentCreated},model:{value:e.modalOrderPayment.value,callback:function(t){e.$set(e.modalOrderPayment,"value",t)},expression:"modalOrderPayment.value"}},"ModalOrderPayment",Object.assign({},e.modalOrderPayment,{order:e.order}),!1)),e.isLoading?e._e():n("ModalOrderStatus",{attrs:{order:e.order},on:{success:e.onStatusUpdated},model:{value:e.modalOrderStatus.value,callback:function(t){e.$set(e.modalOrderStatus,"value",t)},expression:"modalOrderStatus.value"}}),e.isLoading?e._e():n("ModalOrderDelete",{attrs:{order:e.order},on:{success:e.onOrderDeleted},model:{value:e.modalOrderDelete.value,callback:function(t){e.$set(e.modalOrderDelete,"value",t)},expression:"modalOrderDelete.value"}}),e.isLoading?e._e():n("AppFileModal",{attrs:{id:"orderReport",src:e.modalOrderReport.src,title:"Relatório do pedido"},on:{hidden:e.onCloseModalReport},model:{value:e.modalOrderReport.value,callback:function(t){e.$set(e.modalOrderReport,"value",t)},expression:"modalOrderReport.value"}}),n("div",[n("TheOrderHeader",e._b({staticClass:"mb-2",on:{"open-modal":e.onOpenModal}},"TheOrderHeader",{order:e.order,isLoading:e.isLoading,isOrderClosed:e.isOrderClosed,isOrderPaid:e.isOrderPaid,isOrderPreRegistered:e.isOrderPreRegistered,isReportLoading:e.modalOrderReport.loading},!1))],1),n("div",{staticClass:"d-flex row flex-column flex-sm-row"},[n("div",{staticClass:"col col-sm-3 mb-2 mb-sm-0"},[n("ClientCard",{attrs:{"is-loading":e.isLoading,client:e.order.client}})],1),n("div",{staticClass:"col col-sm-9"},[n("TheOrderCard",e._b({on:{"on-open-modal":e.onOpenModal}},"TheOrderCard",{isLoading:e.isLoading,isOrderClosed:e.isOrderClosed,isOrderPreRegistered:e.isOrderPreRegistered,order:e.order},!1))],1)])],1)},a=[],r=n(6198),o=(n(5666),n(9697)),d=n(2383),s=n(1355),l=n(5781),c=n(2089),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex row flex-column flex-sm-row justify-content-between"},[n("div",{staticClass:"col-sm-3 mb-2 mb-sm-0"},[n("AppButton",{attrs:{outlined:"","disabled-message":!e.order.client&&"O pedido não possui cliente"},on:{click:function(t){return e.$helpers.redirectTo(e.clients.show,{client:e.order.client})}}},[n("FontAwesomeIcon",{attrs:{icon:e.icons.faArrowAltCircleLeft}}),e._v(" Cliente ")],1)],1),n("div",{staticClass:"col d-flex flex-column flex-sm-row justify-content-between"},[n("div",{staticClass:"col col-sm-4 d-flex mb-2 mb-sm-0"},[n("AppButton",{staticClass:"flex-grow-1 flex-sm-grow-0",attrs:{color:"success",outlined:"",icon:e.icons.faDollarSign,"disabled-message":e.paymentBtnDisabledMessage},on:{click:e.onAddPaymentClick}},[e._v(" Adicionar pagamento ")])],1),n("div",{staticClass:"col col-sm-4 d-flex justify-content-end"},[n("AppButton",{staticClass:"me-1 flex-grow-1 flex-sm-grow-0",attrs:{icon:e.icons.faFileInvoice,disabled:e.isReportDisabled,loading:e.isReportLoading},on:{click:function(t){return t.preventDefault(),e.onGenerateReportClick.apply(null,arguments)}}},[e._v(" Gerar relatório ")]),n("AppButton",{attrs:{id:"dropdownOptions","data-bs-toggle":"dropdown",icon:e.icons.faEllipsisH,disabled:!e.order}}),n("TheOrderHeaderCogOptions",e._b({on:{"open-modal":e.onOpenModal}},"TheOrderHeaderCogOptions",{order:e.order,isLoading:e.isLoading,isOrderClosed:e.isOrderClosed,isOrderPreRegistered:e.isOrderPreRegistered,isOrderPaid:e.isOrderPaid},!1))],1)])])},m=[],p=n(1436),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isLoading?e._e():n("ul",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownOptions"},on:{click:function(e){e.stopPropagation()}}},[n("AppDropdownItem",{attrs:{"disabled-message":e.isOrderClosed&&"Não é possível editar pedidos fechados.",icon:e.icons.faEdit,text:e.isOrderPreRegistered?"Concluir cadastro":"Editar","icon-color":"primary"},on:{click:function(t){return t.preventDefault(),e.redirectToOrderEdit.apply(null,arguments)}}}),n("AppDropdownItem",{attrs:{icon:e.icons.faTrashAlt,text:"Excluir","icon-color":"danger"},on:{click:e.onDeleteOrderClick}}),n("div",{staticClass:"dropdown-divider"}),n("AppDropdownItem",{attrs:{"disabled-message":e.isOrderClosed&&"Não é possível alterar status de pedidos fechados.",icon:e.icons.faExchangeAlt,text:"Alterar status","icon-color":"primary"},on:{click:e.onChangeStatusClick}}),n("AppDropdownItem",{attrs:{"disabled-message":!e.isOrderPaid&&"Não é possível fechar pedidos com pendência financeira.",icon:e.isOrderClosed?e.icons.faBoxOpen:e.icons.faTimesCircle,text:e.isOrderClosed?"Reabrir pedido":"Fechar pedido","icon-color":"primary"},on:{click:function(t){return t.preventDefault(),e.toggleOrder.apply(null,arguments)}}})],1)},f=[],k={props:{order:{type:Object,default:null},isLoading:{type:Boolean,default:!1},isReportLoading:{type:Boolean,default:!1},isOrderClosed:{type:Boolean,required:!0},isOrderPaid:{type:Boolean,required:!0},isOrderPreRegistered:{type:Boolean,required:!0}},data:function(){return{icons:{faEdit:p.Xcf,faTrashAlt:p.I7k,faExchangeAlt:p.Ssp,faTimesCircle:p.nYk,faBoxOpen:p.IA$}}},methods:{toggleOrder:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=null===e.order.closed_at,t.prev=1,t.next=4,e.$apollo.mutate({mutation:d.ToggleOrder,variables:{id:e.order.id}});case 4:e.$toast.success(n?"Pedido fechado":"Pedido reaberto"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),e.$toast.error("Ops! Algo deu errado.");case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},redirectToOrderEdit:function(){var e=this.$route.params,t=e.clientKey,n=e.orderKey;this.order.client?this.$helpers.redirectTo(l.A6.edit,{client:t,order:n}):this.$helpers.redirectTo(l.A6.editPreRegistered,{order:this.order})},onDeleteOrderClick:function(){this.$emit("open-modal",{modal:"delete-order"})},onChangeStatusClick:function(){this.$emit("open-modal",{modal:"change-status"})}}},y=k,h=n(1001),g=(0,h.Z)(y,v,f,!1,null,null,null),_=g.exports,b={components:{TheOrderHeaderCogOptions:_},props:{order:{type:Object,default:function(){}},isLoading:{type:Boolean,default:!1},isReportLoading:{type:Boolean,default:!1},isOrderClosed:{type:Boolean,required:!0},isOrderPaid:{type:Boolean,required:!0},isOrderPreRegistered:{type:Boolean,required:!0}},data:function(){return{clients:l.yj,icons:{faEllipsisH:p.cNd,faFileInvoice:p.fab,faDollarSign:p.egO,faArrowAltCircleLeft:p.nP8}}},computed:{isReportDisabled:function(){return!this.order||!this.order.code},paymentBtnDisabledMessage:function(){return!!(0,o.Z)(this.order)||(this.isOrderPaid?"Pedido já pago":this.isOrderClosed?"Não é possível registrar pagamento em pedidos fechados.":null===this.order.price&&"Pedido em pré-registro sem preço, impossível efetuar pagamentos.")}},methods:{isEmpty:o.Z,onAddPaymentClick:function(){this.$emit("open-modal",{modal:"payment",payload:{isEdit:!1}})},onGenerateReportClick:function(){this.$emit("open-modal",{modal:"report"})},onOpenModal:function(e){this.$emit("open-modal",e)}}},N=b,C=(0,h.Z)(N,u,m,!1,null,null,null),S=C.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isLoading?n("TheOrderCardPlaceholder"):n("AppCard",{attrs:{color:e.cardColor},scopedSlots:e._u([{key:"header",fn:function(){return[n("TheOrderCardHeader",e._b({},"TheOrderCardHeader",{order:e.order,isOrderClosed:e.isOrderClosed},!1))]},proxy:!0},{key:"body",fn:function(){return[n("TheOrderCardBody",e._b({on:{"open-modal":e.onOpenModalRequest}},"TheOrderCardBody",{order:e.order,isOrderPreRegistered:e.isOrderPreRegistered},!1))]},proxy:!0}],null,!1,2889264065)})},O=[],P=(n(6699),n(2023),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showReminder?n("OrderReminder",[e._v(" "+e._s(e.order.reminder)+" ")]):e._e(),n("AppContainer",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Detalhes do Pedido ")]},proxy:!0},{key:"body",fn:function(){return[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-sm mb-3 mb-sm-0"},[n("div",{staticClass:"fw-bold small text-secondary"},[e._v(" Nome ")]),n("b",{staticClass:"text-subtitle"},[e._v(" "+e._s(e.$helpers.fallback(e.order.name))+" ")])]),n("div",{staticClass:"col text-right text-sm-center"},[n("div",{staticClass:"fw-bold small text-secondary"},[e._v(" Código ")]),n("b",{staticClass:"text-subtitle"},[e._v(" "+e._s(e.$helpers.fallback(e.order.code))+" ")])]),n("div",{staticClass:"col text-start text-sm-end"},[n("div",{staticClass:"fw-bold small text-secondary"},[e._v(" Registrado em ")]),n("b",{staticClass:"text-subtitle"},[e._v(" "+e._s(e.formatDatetime(e.order.created_at))+" ")])])]),n("div",{staticClass:"d-flex justify-content-between mt-3"},[n("div",[n("b",{staticClass:"small text-secondary"},[e._v("Status")]),n("h6",{staticClass:"fw-bold",class:e.order.status.is_available?"text-success":"text-warning"},[e._v(" "+e._s(e.order.status.text)+" ")])]),n("div",[n("b",{staticClass:"small text-secondary"},[e._v("Quantidade")]),n("h5",{staticClass:"fw-bold text-center"},[e._v(" "+e._s(e.$helpers.fallback(e.order.quantity))+" ")])])]),n("div",{staticClass:"mt-3 d-flex justify-content-between"},[n("div",[n("b",{staticClass:"small text-secondary"},[e._v("Data de produção")]),n("div",[e._v(" "+e._s(e.$helpers.fallback(e.formatDatetime(e.order.production_date)))+" ")])]),n("div",[n("b",{staticClass:"small text-secondary"},[e._v("Data de entrega")]),n("div",[e._v(" "+e._s(e.$helpers.fallback(e.formatDatetime(e.order.delivery_date)))+" ")])])])]},proxy:!0}])}),e.shouldShowClothingTypes?n("OrderClothingTypes",{staticClass:"mt-3",attrs:{order:e.order}}):e._e(),null!==e.order.price?n("AppContainer",{staticClass:"mt-3",scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Valor total ")]},proxy:!0},{key:"body",fn:function(){return[n("div",{staticClass:"my-3 d-flex flex-column flex-sm-row justify-content-around"},[n("div",[n("div",[n("b",{staticClass:"small text-secondary"},[e._v("Valor total")])]),n("h5",{staticClass:"text-primary mb-0",domProps:{innerHTML:e._s(e.$helpers.toBRL(e.order.original_price,!0))}}),e.order.discount?[n("div",{staticClass:"small text-secondary"},[e._v(" DESCONTO: "),n("b",[e._v(e._s(e.$helpers.toBRL(-e.order.discount)))])]),n("div",{staticClass:"small text-primary"},[e._v(" VALOR FINAL: "),n("b",[e._v(e._s(e.$helpers.toBRL(e.order.original_price-e.order.discount)))])])]:e._e()],2),n("div",{staticClass:"my-2 my-sm-0"},[n("div",[n("b",{staticClass:"small text-secondary"},[e._v("Total pago")])]),n("h5",{staticClass:"mb-0",class:{"text-success":e.order.total_paid>=0},domProps:{innerHTML:e._s(e.$helpers.toBRL(e.order.total_paid,!0))}})]),n("div",[n("div",[n("b",{staticClass:"small text-secondary"},[e._v("Faltar pagar")])]),n("h5",{class:{"text-success":e.order.total_owing<=0,"text-danger":e.order.total_owing>0},domProps:{innerHTML:e._s(e.$helpers.toBRL(e.order.total_owing,!0))}})])])]},proxy:!0}],null,!1,3937149801)}):e._e(),n("OrderNotes",{staticClass:"mt-3",attrs:{"order-id":e.order.id,notes:e.order.notes}}),n("OrderPayments",{staticClass:"mt-3",attrs:{payments:e.order.payments},on:{"open-modal":function(t){return e.$emit("open-modal",t)}}}),n("OrderFiles",{staticClass:"mt-3",attrs:{order:e.order}})],1)}),F=[],D=n(7859),w=n(9099),T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppContainer",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Tipos de roupa ")]},proxy:!0},{key:"body",fn:function(){return[n("AppTable",{attrs:{"table-class":"table-sm",headers:e.headers,items:e.order.clothing_types},scopedSlots:e._u([{key:"items.total",fn:function(t){var i=t.item;return[n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{content:"("+i.quantity+" x "+e.$helpers.toBRL(i.value)+")"}},[e._v(" "+e._s(e.$helpers.toBRL(i.total))+" ")])]}},{key:"bodyAppend",fn:function(){return[e.hasDiscount?[n("tr",{staticClass:"fw-bold"},[n("td",{attrs:{colspan:"3"}},[e._v(" TOTAL ")]),n("td",[e._v(" "+e._s(e.$helpers.toBRL(e.order.total_clothings_value))+" ")])]),n("tr",{staticClass:"fw-bold"},[n("td",{attrs:{colspan:"3",nowrap:""}},[e._v(" DESCONTO ")]),n("td",{attrs:{nowrap:""}},[e._v(" "+e._s(e.$helpers.toBRL(-e.order.discount))+" ")])])]:e._e(),n("tr",{staticClass:"fw-bold table-primary"},[n("td",{attrs:{nowrap:""}},[e._v(" VALOR FINAL ")]),n("td",{attrs:{colspan:"2",nowrap:""}},[e._v(" "+e._s(e.order.quantity)+" ")]),n("td",{attrs:{nowrap:""}},[e._v(" "+e._s(e.$helpers.toBRL(e.order.price))+" ")])])]},proxy:!0}],null,!0)})]},proxy:!0}])})},A=[],$={props:{order:{type:Object,required:!0}},computed:{hasDiscount:function(){return this.order.discount>0},headers:function(){return[{text:"TIPO",value:"name"},{text:"QUANTIDADE",value:"quantity"},{text:"VALOR UNIT.",value:"value",format:"currencyBRL"},{text:"TOTAL",value:"total_value",format:"currencyBRL"}]}}},E=$,R=(0,h.Z)(E,T,A,!1,null,null,null),I=R.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppContainer",{scopedSlots:e._u([{key:"title",fn:function(){return[n("FontAwesomeIcon",{attrs:{icon:e.icons.faStickyNote}}),e._v(" Anotações "),n("span",{staticClass:"link-white clickable small ms-2",on:{click:function(t){return t.preventDefault(),e.onNewNoteClick.apply(null,arguments)}}},[e._v(" (+ NOVA NOTA) ")])]},proxy:!0},{key:"body",fn:function(){return[e.notes.length||e.newNote.value?n("ul",{staticClass:"list-group list-group-flush"},[e.newNote.value?n("li",{staticClass:"list-group-item d-flex align-items-center"},[n("OrderNotesForm",{attrs:{"order-id":e.orderId},on:{cancel:e.dismissNewNote,success:e.dismissNewNote}})],1):e._e(),e._l(e.notes,(function(t){return n("li",{key:t.id,staticClass:"list-group-item text-subtitle"},[e.editNote.note.id===t.id?[n("OrderNotesForm",{attrs:{"is-edit":!0,"order-id":e.orderId,note:e.editNote.note},on:{cancel:e.dismissEditNote,success:e.dismissEditNote}})]:n("div",{staticClass:"d-flex flex-column "},[n("div",{staticClass:"d-flex justify-content-between mb-2"},[n("div",[e._v(" "+e._s(t.text)+" ")]),n("div",{staticClass:"text-secondary small"},[e._v(" "+e._s(e.formatDatetime(t.created_at,"dd/MM/y 'ás' HH:mm"))+" ")])]),n("OrderNotesActionButtons",e._b({on:{edit:e.onEditNote,delete:e.onDeleteNote,"cancel-delete":e.onCancelDelete,"confirm-delete":e.onConfirmDelete}},"OrderNotesActionButtons",{note:t,deleteNote:e.deleteNote},!1))],1)],2)}))],2):n("div",{staticClass:"text-secondary text-center py-3"},[e._v(" Nenhuma anotação registrada ")])]},proxy:!0}])})},V=[],B=n(4467),Z=n(5539),q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppForm",{staticClass:"w-100",attrs:{form:e.form,"on-submit":e.onSubmit}},[n("div",{staticClass:"d-flex flex-column"},[n("div",{staticClass:"mb-2"},[n("AppTextarea",{ref:"input",attrs:{name:"text",placeholder:"Digite a anotação...","default-margin":!1,error:e.form.errors.get("text")},model:{value:e.form.text,callback:function(t){e.$set(e.form,"text",t)},expression:"form.text"}})],1),n("div",[n("AppButton",{attrs:{"btn-class":"btn-sm me-2 px-4",loading:e.isLoading,icon:e.icons.faCheck,color:"success"},on:{click:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}}),n("AppButton",{attrs:{"btn-class":"btn-sm px-4",disabled:e.isLoading,type:"button",icon:e.icons.faTimes,color:"light"},on:{click:function(t){return t.preventDefault(),e.onCancel.apply(null,arguments)}}})],1)])])},M=[],G=n(1594),U={props:{note:{type:Object,default:function(){return{}}},isEdit:{type:Boolean,default:!1},orderId:{type:String,required:!0}},data:function(){return{isLoading:!1,icons:{faCheck:p.LEp,faTimes:p.NBC},form:new Z.Z({text:""})}},mounted:function(){this.$refs.input.focusInput(),this.isEdit&&(this.form.text=this.note.text)},methods:{onSubmit:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isEdit){t.next=5;break}return t.next=3,e.onUpdate();case 3:t.next=7;break;case 5:return t.next=7,e.onCreate();case 7:case"end":return t.stop()}}),t)})))()},onCancel:function(){this.$emit("cancel")},onCreate:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.form.data(),i=n.text,e.isLoading=!0,t.prev=2,t.next=5,e.$apollo.mutate({mutation:B.CreateNote,variables:{order_id:e.orderId,text:i},refetchQueries:[d.GetOrder],awaitRefetchQueries:!0});case 5:(0,G.s)(e,{message:"Anotação registrada!"}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),(0,G.S)(e,t.t0);case 11:e.isLoading=!1;case 12:case"end":return t.stop()}}),t,null,[[2,8]])})))()},onUpdate:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function t(){var n,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.note.id,i=e.form.data(),a=i.text,e.isLoading=!0,t.prev=3,t.next=6,e.$apollo.mutate({mutation:B.UpdateNote,variables:{id:n,text:a}});case 6:(0,G.s)(e,{message:"Anotação atualizada!"}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](3),(0,G.S)(e,t.t0);case 12:e.isLoading=!1;case 13:case"end":return t.stop()}}),t,null,[[3,9]])})))()}}},j=U,z=(0,h.Z)(j,q,M,!1,null,null,null),K=z.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.deleteNote.note.id===e.note.id?n("div",{staticClass:"d-flex"},[n("AppButton",{attrs:{"btn-class":"btn-sm fw-bold",color:"success",loading:e.deleteNote.isLoading},on:{click:function(t){return t.preventDefault(),e.onConfirmDeleteClick(e.note)}}},[e._v(" Confirmar ")]),n("AppButton",{staticClass:"ms-2",attrs:{"btn-class":"btn-sm",color:"light",disabled:e.deleteNote.isLoading},on:{click:function(t){return t.preventDefault(),e.onCancelDeleteClick(e.note)}}},[e._v(" Cancelar ")])],1):n("div",{staticClass:"d-flex"},[n("AppButton",{staticClass:"me-3",attrs:{tooltip:"Editar","btn-class":"btn-sm px-4",outlined:"",icon:e.icons.faEdit},on:{click:function(t){return t.preventDefault(),e.onEditClick(e.note)}}}),n("AppButton",{attrs:{color:"danger",tooltip:"Deletar","btn-class":"btn-sm px-4",outlined:"",icon:e.icons.faTrashAlt},on:{click:function(t){return t.preventDefault(),e.onDeleteClick(e.note)}}})],1)},Q=[],W={props:{deleteNote:{type:Object,required:!0},note:{type:Object,required:!0}},data:function(){return{icons:{faTrashAlt:p.I7k,faEdit:p.Xcf}}},methods:{onEditClick:function(){this.$emit("edit",this.note)},onDeleteClick:function(){this.$emit("delete",this.note)},onCancelDeleteClick:function(){this.$emit("cancel-delete")},onConfirmDeleteClick:function(){this.$emit("confirm-delete")}}},Y=W,X=(0,h.Z)(Y,H,Q,!1,null,null,null),J=X.exports,ee={components:{OrderNotesForm:K,OrderNotesActionButtons:J},props:{orderId:{type:String,default:""},notes:{type:Array,default:function(){return[]}}},data:function(){return{newNote:{value:!1},editNote:{note:{}},deleteNote:{note:{},isLoading:!1},form:new Z.Z({text:""}),icons:{faStickyNote:p.L4e}}},methods:{formatDatetime:D.DZ,onDelete:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.deleteNote.note.id,e.deleteNote.isLoading=!0,t.prev=2,t.next=5,e.$apollo.mutate({mutation:B.DeleteNote,variables:{id:n}});case 5:e.$helpers.clearCacheFrom({id:n,__typename:"Note"}),e.$toast.success("Anotação deletada!"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),e.$toast.error("Ops! Algo deu errado, tente novamente!");case 12:e.deleteNote.note={},e.deleteNote.isLoading=!1;case 14:case"end":return t.stop()}}),t,null,[[2,9]])})))()},onNewNoteClick:function(){this.form.reset(),this.editNote.note={},this.newNote.value=!this.newNote.value},onEditNote:function(e){this.form.reset(),this.newNote.value=!1,this.form.text=e.text,this.editNote.note=e},dismissNewNote:function(){this.newNote.value=!1},dismissEditNote:function(){this.editNote.note={}},onDeleteNote:function(e){this.deleteNote.note=e},onConfirmDelete:function(){this.onDelete()},onCancelDelete:function(){this.deleteNote.note={}}}},te=ee,ne=(0,h.Z)(te,L,V,!1,null,null,null),ie=ne.exports,ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppContainer",{scopedSlots:e._u([{key:"title",fn:function(){return[n("FontAwesomeIcon",{attrs:{icon:e.icons.faHandHoldingUsd}}),e._v(" Pagamentos ")]},proxy:!0},{key:"body",fn:function(){return[e.payments.length?n("div",[n("ModalOrderPayment",{attrs:{"modal-id":"editPaymentModal","is-edit":!0,payment:e.selectedPayment},on:{refresh:function(t){return e.$emit("refresh")}}}),n("ul",{staticClass:"list-group list-group-flush"},e._l(e.payments,(function(t){return n("li",{key:t.id,staticClass:"list-group-item text-subtitle",class:{"list-group-item-danger":!1===t.is_confirmed,"list-group-item-warning":null===t.is_confirmed}},[n("div",{staticClass:"d-flex flex-column flex-sm-row justify-content-between align-items-sm-center"},[n("div",{staticClass:"mb-3 mb-sm-0"},[n("div",[n("b",[e._v(e._s(e.$helpers.toBRL(t.value)))]),e._v(" em "),n("b",[e._v(e._s(e.formatDatetime(t.date)))]),e._v(" via "),n("b",[e._v(e._s(t.via.name))]),t.is_confirmed?e._e():n("span",{staticClass:"fw-bold"},[e._v(" - ["+e._s(e.getPaymentState(t))+"] ")])]),t.note?n("div",{staticClass:"small text-secondary"},[n("strong",[e._v("NOTA:")]),e._v(" "+e._s(t.note)+" ")]):e._e()]),null===t.is_confirmed?n("div",{staticClass:"d-flex"},[e.$helpers.canView(e.roles.GERENCIA)?[n("AppButton",{staticClass:"flex-grow-1",attrs:{outlined:"",block:e.$isMobile,"btn-class":"btn-sm",color:"success",icon:e.icons.faCheck,tooltip:"Confirmar",loading:t.id===e.loadingId},on:{click:function(n){return n.preventDefault(),e.onConfirmPayment(t,!0)}}}),n("AppButton",{staticClass:"mx-2 flex-grow-1",attrs:{outlined:"","btn-class":"btn-sm",color:"danger",icon:e.icons.faTimes,block:e.$isMobile,tooltip:"Recusar",disabled:t.id===e.loadingId},on:{click:function(n){return n.preventDefault(),e.onConfirmPayment(t,!1)}}})]:e._e(),n("AppButton",{staticClass:"flex-grow-1",attrs:{outlined:"",block:e.$isMobile,"btn-class":"btn-sm",tooltip:"Editar",icon:e.icons.faEdit},on:{click:function(n){return n.preventDefault(),e.onEditPaymentClick(t)}}})],2):e._e()])])})),0)],1):n("div",{staticClass:"text-secondary text-center py-3"},[e._v(" Nenhum pagamento registrado ")])]},proxy:!0}])})},re=[],oe=n(5146),de=n(2776),se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppModal",e._g({attrs:{id:"paymentModal",color:"success",value:e.value,centered:""},scopedSlots:e._u([{key:"title",fn:function(){return[n("FontAwesomeIcon",{attrs:{icon:e.icons.faDollarSign,"fixed-width":""}}),e._v(" "+e._s(e.isEdit?"Alterar pagamento":"Novo pagamento")+" ")]},proxy:!0},{key:"body",fn:function(){return[e.payment?n("div",{staticClass:"text-center my-3"},[e._v(" Pagamento de "),n("b",[e._v(e._s(e.formatCurrencyBRL(e.payment.value)))]),e._v(" em "),n("b",[e._v(e._s(e.formatDatetime(e.payment.date)))])]):e._e(),n("OrderPaymentForm",{attrs:{order:e.order,"is-edit":e.isEdit,payment:e.payment},on:{success:e.onSuccess}})]},proxy:!0}])},e.$listeners))},le=[],ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppForm",{attrs:{"on-submit":e.onSubmit,form:e.form}},[e.isEdit?e._e():[n("AppInput",{attrs:{id:"value",name:"value",error:e.form.errors.get("value"),mask:e.maskCurrencyBRL,numeric:""},scopedSlots:e._u([{key:"append",fn:function(){return[n("AppButton",{attrs:{outlined:"",tooltip:e.$helpers.toBRL(e.order.total_owing)},on:{click:function(t){return t.preventDefault(),e.onPayRestClick.apply(null,arguments)}}},[e._v(" Restante ")])]},proxy:!0}],null,!1,2258795658),model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}},[e._v(" Valor ")]),n("AppInput",{attrs:{id:"date",placeholder:"dd/mm/aaaa",name:"date",type:"date","today-button":"",mask:e.maskDate,error:e.form.errors.get("date")},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}},[e._v(" Data de pagamento ")])],n("AppSimpleSelect",{attrs:{id:"payment_via_id",name:"payment_via_id",options:e.vias,"label-prop":"name",error:e.form.errors.get("payment_via_id")},model:{value:e.form.payment_via_id,callback:function(t){e.$set(e.form,"payment_via_id",t)},expression:"form.payment_via_id"}},[e._v(" Via ")]),n("AppInput",{attrs:{id:"note",name:"note",placeholder:"Anotação extra do pagamento...",error:e.form.errors.get("note")},model:{value:e.form.note,callback:function(t){e.$set(e.form,"note",t)},expression:"form.note"}},[e._v(" Observação ")]),n("div",{staticClass:"row mt-4"},[n("div",{staticClass:"col"},[n("AppButton",{staticClass:"fw-bold",attrs:{type:"submit",color:"success",block:"",loading:e.isLoading}},[e._v(" "+e._s(e.isEdit?"ATUALIZAR":"REGISTRAR")+" ")])],1),n("div",{staticClass:"col"},[n("AppButton",{attrs:{type:"button",color:"light",block:"","data-bs-dismiss":"modal"}},[e._v(" Cancelar ")])],1)])],2)},ue=[],me=n(4367),pe=n(7241),ve=n(4082),fe={apollo:{vias:{query:pe.vias}},props:{order:{type:Object,default:function(){}},payment:{type:Object,default:function(){}},isEdit:{type:Boolean,default:!1}},data:function(){return{form:new Z.Z({value:"R$ ",date:"",payment_via_id:"",note:""}),maskCurrencyBRL:(0,ve.uP)(),maskDate:ve.A3,isLoading:!1}},computed:{clientKey:function(){return this.$route.params.clientKey},orderKey:function(){return this.$route.params.orderKey},paymentKey:function(){var e;return null===(e=this.payment)||void 0===e?void 0:e.id}},watch:{payment:function(e){if(!e)return this.form.payment_via_id="",void(this.form.note="");this.form.payment_via_id=e.via.id,this.form.note=e.note}},methods:{onPayRestClick:function(){this.form.value=this.$helpers.toBRL(this.order.total_owing)},create:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$apollo.mutate({mutation:oe.CreatePayment,variables:{input:(0,me.Z)({order_id:e.order.id},e.form.data())}});case 3:e.$helpers.clearCacheFrom([{fieldName:"payments"},{fieldName:"cashFlowEntries"}]),(0,G.s)(e,{message:"Pagamento registrado!",resetForm:!0}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),(0,G.S)(e,t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},update:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$apollo.mutate({mutation:oe.UpdatePayment,variables:{id:e.payment.id,input:(0,me.Z)({order_id:e.order.id},e.form.data())}});case 3:e.clearDailyCashCache(e.payment.id),(0,G.s)(e,{message:"Pagamento atualizado!"}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),(0,G.S)(e,t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},onSubmit:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isLoading=!0,!e.isEdit){t.next=6;break}return t.next=4,e.update();case 4:t.next=8;break;case 6:return t.next=8,e.create();case 8:e.isLoading=!1;case 9:case"end":return t.stop()}}),t)})))()}}},ke=fe,ye=(0,h.Z)(ke,ce,ue,!1,null,null,null),he=ye.exports,ge={components:{OrderPaymentForm:he},props:{value:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},payment:{type:Object,default:function(){}},order:{type:Object,default:function(){}}},data:function(){return{formatCurrencyBRL:D.gv,formatDatetime:D.DZ,icons:{faDollarSign:p.egO}}},methods:{onSuccess:function(){this.$emit("success")}}},_e=ge,be=(0,h.Z)(_e,se,le,!1,null,null,null),Ne=be.exports,Ce={null:"PENDENTE",false:"RECUSADO",true:"APROVADO"},Se={components:{ModalOrderPayment:Ne},props:{payments:{type:Array,default:function(){return[]}}},data:function(){return{roles:de.Z,icons:{faEdit:p.Xcf,faCheck:p.LEp,faTimes:p.NBC,faHandHoldingUsd:p.oFW},selectedPayment:{},loadingId:""}},methods:{formatDatetime:D.DZ,getPaymentState:function(e){return Ce[e.is_confirmed]},onEditPaymentClick:function(e){this.$emit("open-modal",{modal:"payment",payload:{payment:e,isEdit:!0}})},onConfirmPayment:function(e,t){var n=this;return(0,r.Z)(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.id,n.loadingId=a,i.prev=2,i.next=5,n.$apollo.mutate({mutation:oe.ConfirmPayment,variables:{id:a,confirmation:t}});case 5:n.$helpers.clearCacheFrom({fieldName:"cashFlowEntries"}),n.$toast.success(t?"Pagamento confirmado!":"Pagamento recusado!"),i.next=12;break;case 9:i.prev=9,i.t0=i["catch"](2),n.$toast.error("Ops! Algo deu errado, tente novamente!");case 12:n.loadingId="";case 13:case"end":return i.stop()}}),i,null,[[2,9]])})))()}}},xe=Se,Oe=(0,h.Z)(xe,ae,re,!1,null,null,null),Pe=Oe.exports,Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppContainer",{attrs:{id:"files","header-class":"text-secondary",collapsible:"",value:!0},scopedSlots:e._u([{key:"title",fn:function(){return[n("FontAwesomeIcon",{attrs:{icon:e.icons.faFileImage,"fixed-width":""}}),n("span",{staticClass:"me-2"},[e._v("Anexos")]),e.filesCount?n("small",{staticClass:"badge rounded-pill bg-light text-dark "},[e._v(e._s(e.filesCount))]):e._e()]},proxy:!0},{key:"body",fn:function(){return[e.filesCount?n("div",e._l(e.FILES_MAP,(function(t,i){return n("div",{key:i},[e.order[i]?n("div",{staticClass:"mb-3"},[n("div",{staticClass:"text-subtitle fw-bold text-secondary mb-1"},[e._v(" "+e._s(t)+" ")]),e.order[i].length?n("div",[n("AppViewerItems",{attrs:{alt:t,files:e.order[i]}})],1):n("div",{staticClass:"text-center text-secondary py-4"},[e._v(" Nenhum anexo registrado ")])]):n("div",[n("div",{staticClass:"texse me dissesset-secondary mb-1"},[e._v(" • "+e._s(t)+" ")]),n("div",{staticClass:"small text-center text-secondary py-5"},[e._v(" Nenhum anexo registrado ")])])])})),0):e._e(),n("div",{staticClass:"py-3 text-secondary text-center"},[e._v(" Nenhum anexo registrado ")])]},proxy:!0}])})},De=[],we=(n(1539),n(7179)),Te={art_paths:"Imagens da arte",size_paths:"Imagens do tamanho",payment_voucher_paths:"Comprovantes de pagamento"},Ae={props:{order:{type:Object,required:!0}},data:function(){return{FILES_MAP:Te,icons:{faFileImage:p.Oi0}}},computed:{filesCount:function(){var e=this,t=(0,we.Z)(Te);return t.reduce((function(t,n){var i=(0,o.Z)(e.order[n])?0:e.order[n].length;return i+t}),0)}}},$e=Ae,Ee=(0,h.Z)($e,Fe,De,!1,null,null,null),Re=Ee.exports,Ie={components:{OrderClothingTypes:I,OrderNotes:ie,OrderPayments:Pe,OrderFiles:Re,OrderReminder:w.Z},props:{order:{type:Object,required:!0},isOrderPreRegistered:{type:Boolean,required:!0}},computed:{showReminder:function(){return this.isOrderPreRegistered&&this.order.reminder},shouldShowClothingTypes:function(){return!this.order.quantity||this.order.clothing_types.length}},methods:{formatDatetime:D.DZ}},Le=Ie,Ve=(0,h.Z)(Le,P,F,!1,null,null,null),Be=Ve.exports,Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.order?n("h6",{staticClass:"d-flex justify-content-between fw-bold align-items-center mb-0"},[n("div",[n("FontAwesomeIcon",{staticClass:"me-1",attrs:{icon:e.icons.faBoxOpen}}),e._v(" Pedido - "+e._s(e.$helpers.fallback(e.order.name,null,"[SEM NOME]"))+" ")],1),e.isOrderClosed?n("div",[e._v(" PEDIDO FECHADO "),n("div",{staticClass:"small"},[e._v(" Em "+e._s(e.formatDatetime(e.order.closed_at))+" ")])]):e._e()]):e._e()},qe=[],Me={props:{order:{type:Object,default:function(){return{}}},isOrderClosed:{type:Boolean,required:!0}},data:function(){return{icons:{faBoxOpen:p.IA$}}},methods:{formatDatetime:D.DZ}},Ge=Me,Ue=(0,h.Z)(Ge,Ze,qe,!1,null,null,null),je=Ue.exports,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppCard",{scopedSlots:e._u([{key:"header",fn:function(){return[n("h6",{staticClass:"fw-bold mb-0"},[n("FontAwesomeIcon",{staticClass:"me-1",attrs:{icon:e.icons.faBoxOpen}}),e._v("Pedido - ")],1)]},proxy:!0},{key:"body",fn:function(){return[n("div",{staticClass:"py-5"},[n("AppLoading")],1)]},proxy:!0}])})},Ke=[],He={data:function(){return{icons:{faBoxOpen:p.IA$}}}},Qe=He,We=(0,h.Z)(Qe,ze,Ke,!1,null,null,null),Ye=We.exports,Xe={components:{TheOrderCardBody:Be,TheOrderCardHeader:je,TheOrderCardPlaceholder:Ye},props:{isLoading:{type:Boolean,default:!1},order:{type:Object,default:null},isOrderClosed:{type:Boolean,default:!1},isOrderPreRegistered:{type:Boolean,default:!1}},computed:{cardColor:function(){return this.order.states.includes("CLOSED")?"secondary":this.order.states.includes("PRE-REGISTERED")?"warning":"primary"}},methods:{onOpenModalRequest:function(e){this.$emit("on-open-modal",e)}}},Je=Xe,et=(0,h.Z)(Je,x,O,!1,null,null,null),tt=et.exports,nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppModal",e._g({attrs:{id:"orderStatusModal",color:"success",centered:"",value:e.value},scopedSlots:e._u([{key:"title",fn:function(){return[n("FontAwesomeIcon",{attrs:{icon:e.icons.faExchangeAlt,"fixed-width":""}}),e._v(" Alterar status do pedido ")]},proxy:!0},{key:"body",fn:function(){return[n("div",{staticClass:"mb-4"},[n("div",{staticClass:"text-center mb-3"},[n("div",{staticClass:"text-secondary small"},[e._v(" STATUS ATUAL ")]),n("h5",{staticClass:"fw-bold",class:e.order.status.avaliable?"text-success":"text-warning"},[e._v(" "+e._s(e.order.status.text)+" ")])]),n("h6",{staticClass:"fw-bold"},[e._v(" Alterar para: ")]),e._l(e.status,(function(t){return n("div",{key:t.id,staticClass:"form-check"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticClass:"form-check-input",attrs:{id:"radio__"+t.id+"__id",type:"radio",name:"radio__"+t.id+"__name"},domProps:{value:t.id,checked:e.selected===e.order.status.id,checked:e._q(e.selected,t.id)},on:{change:function(n){e.selected=t.id}}}),n("label",{staticClass:"form-check-label",attrs:{for:"radio__"+t.id+"__id"}},[e._v(" "+e._s(t.id)+". "+e._s(t.text)+" ")])])}))],2),n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("AppButton",{staticClass:"fw-bold",attrs:{loading:e.isLoading,color:"success",block:""},on:{click:function(t){return t.preventDefault(),e.updateStatus.apply(null,arguments)}}},[e._v(" Salvar ")])],1),n("div",{staticClass:"col"},[n("AppButton",{attrs:{type:"button",block:"",color:"light","data-bs-dismiss":"modal"}},[e._v(" Fechar ")])],1)])]},proxy:!0}])},e.$listeners))},it=[],at=n(4072),rt={apollo:{status:{query:at.status}},props:{order:{type:Object,default:function(){return{}}},value:{type:Boolean,default:!1}},data:function(){return{icons:{faExchangeAlt:p.Ssp},isLoading:!1,status:[],selected:this.order.status.id}},computed:{clientKey:function(){return this.$route.params.clientKey},orderKey:function(){return this.$route.params.orderKey}},methods:{updateStatus:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.prev=1,t.next=4,e.$apollo.mutate({mutation:d.UpdateOrder,variables:{id:e.order.id,input:{status_id:e.selected}}});case 4:(0,G.s)(e,{message:"Status alterado!"}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),(0,G.S)(e,t.t0);case 10:e.isLoading=!1;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()}}},ot=rt,dt=(0,h.Z)(ot,nt,it,!1,null,null,null),st=dt.exports,lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppModal",e._g({attrs:{id:"orderDeleteModal",color:"danger",centered:"",value:e.value},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Deletar pedido - "+e._s(e.order.code)+" ")]},proxy:!0},{key:"body",fn:function(){return[n("div",[n("div",{staticClass:"text-center"},[n("FontAwesomeIcon",{staticClass:"text-danger",attrs:{icon:e.icons.faTrashAlt,size:"4x"}}),n("h5",{staticClass:"fw-bold mt-3"},[e._v(" Você tem certeza? ")]),n("div",[e._v("Isso deleterá todos os pagamentos, anexos e anotações do pedido.")])],1),e.order.code?n("div",{staticClass:"mt-3"},[n("AppInput",{attrs:{id:"code",name:"code",placeholder:"Digite o código do pedido..."},model:{value:e.orderCode,callback:function(t){e.orderCode=t},expression:"orderCode"}},[e._v(" Confirme o código do pedido ("+e._s(e.order.code)+"): ")])],1):e._e(),n("div",{staticClass:"row mt-5"},[n("div",{staticClass:"col"},[n("AppButton",{staticClass:"fw-bold",attrs:{color:"success",disabled:!e.isPreConfirmed,loading:e.isLoading,block:""},on:{click:e.deleteOrder}},[e._v(" CONFIRMAR ")])],1),n("div",{staticClass:"col"},[n("AppButton",{attrs:{"data-bs-dismiss":"modal",color:"light",block:""}},[e._v(" Cancelar ")])],1)])])]},proxy:!0}])},e.$listeners))},ct=[],ut={props:{value:{type:Boolean,default:!1},order:{type:Object,default:function(){}}},data:function(){return{orderCode:"",icons:{faTrashAlt:p.I7k},isLoading:!1}},computed:{isPreConfirmed:function(){return!this.order.code||this.orderCode===this.order.code},clientKey:function(){return this.$route.params.clientKey},orderKey:function(){return this.$route.params.orderKey}},methods:{delete:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$apollo.mutate({mutation:d.DeleteOrder,variables:{id:e.order.id}});case 2:e.$emit("success");case 3:case"end":return t.stop()}}),t)})))()},deleteOrder:function(){if(this.isLoading=!0,!this.isPreConfirmed)return this.isLoading=!1,void this.$toast.error("Confirme o código do pedido primeiramente.");this.delete()}}},mt=ut,pt=(0,h.Z)(mt,lt,ct,!1,null,null,null),vt=pt.exports,ft={metaInfo:function(){return(0,o.Z)(this.order)?{title:"Carregando..."}:this.isOrderPreRegistered?{title:"PRE-REGISTRO"}:this.order?{title:this.order.code}:void 0},components:{ClientCard:c.Z,TheOrderCard:tt,TheOrderHeader:S,ModalOrderPayment:Ne,ModalOrderStatus:st,ModalOrderDelete:vt},mixins:[s.Z],apollo:{order:{query:d.GetOrder,variables:function(){var e=this.$route.params,t=e.clientKey,n=e.orderKey;return{id:n,client_id:t}},result:function(e){var t=e.data.order;t||this.$store.commit("SET_ERROR",404)}}},data:function(){return{order:{},modalOrderPayment:{payment:null,value:!1,isEdit:!1},modalOrderStatus:{value:!1},modalOrderDelete:{value:!1},modalOrderReport:{value:!1,src:"",loading:!1}}},computed:{isLoading:function(){return!!this.$apollo.queries.order.loading}},methods:{openModal:function(e){this[e].value=!0},closeModal:function(e){this[e].value=!1},openModalReport:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.modalOrderReport.loading=!0,t.next=3,e.$apollo.query({query:d.GetOrderReport,variables:{id:e.order.id},fetchPolicy:"network-only"});case 3:n=t.sent,i=n.data,e.modalOrderReport.loading=!1,e.modalOrderReport.src=i.orderReport,e.openModal("modalOrderReport");case 8:case"end":return t.stop()}}),t)})))()},onCloseModalReport:function(){this.modalOrderReport.src=""},openModalOrderPayment:function(e){var t=e.payment,n=e.isEdit;this.modalOrderPayment.isEdit=n,this.modalOrderPayment.payment=t||null,this.modalOrderPayment.value=!0},onPaymentCreated:function(){this.closeModal("modalOrderPayment")},onStatusUpdated:function(){this.closeModal("modalOrderStatus")},onOrderDeleted:function(){var e=this;this.closeModal("modalOrderDelete"),this.$nextTick((function(){e.order.client?e.$helpers.redirectTo(l.yj.show,{client:e.order.client}):e.$helpers.redirectTo(l.yj.index)}))},onOpenModal:function(e){var t=e.modal,n=e.payload;"payment"===t&&this.openModalOrderPayment(n),"delete-order"===t&&this.openModal("modalOrderDelete"),"change-status"===t&&this.openModal("modalOrderStatus"),"report"===t&&this.openModalReport()}}},kt=ft,yt=(0,h.Z)(kt,i,a,!1,null,null,null),ht=yt.exports},9099:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex flex-column align-middle text-center"},[n("div",[n("FontAwesomeIcon",{staticClass:"text-warning me-2",attrs:{icon:e.icons.faExclamationTriangle,size:"2x"}})],1),n("div",[e._t("default")],2),n("hr")])},a=[],r=n(1436),o={data:function(){return{icons:{faExclamationTriangle:r.eHv}}}},d=o,s=n(1001),l=(0,s.Z)(d,i,a,!1,null,null,null),c=l.exports},4553:function(e,t,n){"use strict";var i=n(2109),a=n(2092).findIndex,r=n(1223),o="findIndex",d=!0;o in[]&&Array(1)[o]((function(){d=!1})),i({target:"Array",proto:!0,forced:d},{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),r(o)},561:function(e,t,n){"use strict";var i=n(2109),a=n(7854),r=n(1400),o=n(9303),d=n(6244),s=n(7908),l=n(5417),c=n(6135),u=n(1194),m=u("splice"),p=a.TypeError,v=Math.max,f=Math.min,k=9007199254740991,y="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!m},{splice:function(e,t){var n,i,a,u,m,h,g=s(this),_=d(g),b=r(e,_),N=arguments.length;if(0===N?n=i=0:1===N?(n=0,i=_-b):(n=N-2,i=f(v(o(t),0),_-b)),_+n-i>k)throw p(y);for(a=l(g,i),u=0;u<i;u++)m=b+u,m in g&&c(a,u,g[m]);if(a.length=i,n<i){for(u=b;u<_-i;u++)m=u+i,h=u+n,m in g?g[h]=g[m]:delete g[h];for(u=_;u>_-i+n;u--)delete g[u-1]}else if(n>i)for(u=_-i;u>b;u--)m=u+i-1,h=u+n-1,m in g?g[h]=g[m]:delete g[h];for(u=0;u<n;u++)g[u+b]=arguments[u+2];return g.length=_-i+n,a}})},1355:function(e,t,n){"use strict";n(6699),n(2023);t["Z"]={computed:{isOrderPreRegistered:function(){var e;return null===(e=this.order)||void 0===e||!e.states||this.order.states.includes("PRE-REGISTERED")},isOrderClosed:function(){var e;return!(null===(e=this.order)||void 0===e||!e.states)&&this.order.states.includes("CLOSED")},isOrderPaid:function(){var e;return!(null===(e=this.order)||void 0===e||!e.states)&&this.order.states.includes("PAID")}}}}}]);
//# sourceMappingURL=orders-legacy.29282516.js.map