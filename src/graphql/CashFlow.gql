#import "./_PaginatorFragment.gql"

fragment CashFlowEntryParts on CashFlowEntry {
  id
  description
  date
  value
  is_expense
  receipt_path
  note
  is_confirmed
  confirmed_at
  created_at
  employee_name
  product_type {
    id
    name
  }
}

fragment CashFlowEntryViaParts on CashFlowEntry {
  via {
    id
    name
  }
}

fragment CashFlowEntryTypeParts on CashFlowEntry {
  type {
    id
    name
  }
}

fragment CashFlowEntryOrderParts on CashFlowEntry {
  order {
    id
    code
    payment_voucher_paths
    client {
      id
      name
    }
  }
}

fragment CashFlowEntryUserParts on CashFlowEntry {
  user {
    id
    name
  }
}

query GetCashFlowEntries (
  $first: Int = 10
  $page: Int
  $where: QueryCashFlowEntriesWhereWhereConditions
  $orderBy: [QueryCashFlowEntriesOrderByOrderByClause!]
) {
  cashFlowEntries (
    first: $first
    page: $page
    where: $where
    orderBy: $orderBy
  ) {
    paginatorInfo {
      ...PaginatorSimpleParts
    }

    data {
      ...CashFlowEntryParts
      ...CashFlowEntryViaParts
      ...CashFlowEntryTypeParts
      ...CashFlowEntryOrderParts
      ...CashFlowEntryUserParts
    }
  }
}

query GetCashFlowBalance ($input: CashFlowFilterDatesInput!) {
  cashFlowBalance(input: $input)
}
